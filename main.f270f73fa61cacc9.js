"use strict";(self.webpackChunkpucelant=self.webpackChunkpucelant||[]).push([[179],{2011:(nt,De,k)=>{k.d(De,{hO:()=>$e,xv:()=>ue,Dh:()=>ce,GT:()=>pe,cc:()=>Ae,on:()=>B,pX:()=>J});var d=k(5e3),K=k(127),R=k(5813);nt=k.hmd(nt);const oe=["ngOnDestroy"],J=(we,We,Ge,Ce={})=>new Proxy(we,{get:(_e,ve)=>Ge.runOutsideAngular(()=>{var je;if(we[ve])return(null===(je=null==Ce?void 0:Ce.spy)||void 0===je?void 0:je.get)&&Ce.spy.get(ve,we[ve]),we[ve];if(oe.indexOf(ve)>-1)return()=>{};const Ue=We.toPromise().then(ee=>{const q=ee&&ee[ve];return"function"==typeof q?q.bind(ee):q&&q.then?q.then(te=>Ge.run(()=>te)):Ge.run(()=>q)});return new Proxy(()=>{},{get:(ee,q)=>Ue[q],apply:(ee,q,te)=>Ue.then(ge=>{var ne;const Me=ge&&ge(...te);return(null===(ne=null==Ce?void 0:Ce.spy)||void 0===ne?void 0:ne.apply)&&Ce.spy.apply(ve,te,Me),Me})})})}),pe=(we,We)=>{We.forEach(Ge=>{Object.getOwnPropertyNames(Ge.prototype||Ge).forEach(Ce=>{Object.defineProperty(we.prototype,Ce,Object.getOwnPropertyDescriptor(Ge.prototype||Ge,Ce))})})};class ie{constructor(We){return We}}const ce=new d.OlP("angularfire2.app.options"),ue=new d.OlP("angularfire2.app.name");function B(we,We,Ge){const _e="object"==typeof Ge&&Ge||{};_e.name=_e.name||"string"==typeof Ge&&Ge||"[DEFAULT]";const je=K.Z.apps.filter(Ue=>Ue&&Ue.name===_e.name)[0]||We.runOutsideAngular(()=>K.Z.initializeApp(we,_e));try{JSON.stringify(we)!==JSON.stringify(je.options)&&j("error",`${je.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return new ie(je)}const j=(we,...We)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[we](...We)},Q={provide:ie,useFactory:B,deps:[ce,d.R0b,[new d.FiY,ue]]};let $e=(()=>{class we{constructor(Ge){K.Z.registerVersion("angularfire",R.q4.full,"core"),K.Z.registerVersion("angularfire",R.q4.full,"app-compat"),K.Z.registerVersion("angular",d.q4F.full,Ge.toString())}static initializeApp(Ge,Ce){return{ngModule:we,providers:[{provide:ce,useValue:Ge},{provide:ue,useValue:Ce}]}}}return we.\u0275fac=function(Ge){return new(Ge||we)(d.LFG(d.Lbi))},we.\u0275mod=d.oAB({type:we}),we.\u0275inj=d.cJS({providers:[Q]}),we})();function Ae(we,We,Ge,Ce,_e){const[,ve,je]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===we)||[];if(ve)return function xe(we,We){try{return we.toString()===We.toString()}catch(Ge){return we===We}}(_e,je)||(de("error",`${We} was already initialized on the ${Ge} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:_e,was:je})),ve;{const Ue=Ce();return globalThis.\u0275AngularfireInstanceCache.push([we,Ue,_e]),Ue}}const Ne=!!nt.hot,de=(we,...We)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[we](...We)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(nt,De,k)=>{k.d(De,{q4:()=>Bo,iC:()=>Nl,HU:()=>Rl,vb:()=>Uh,JM:()=>ba});var d=k(5e3),K=k(5867),R=k(5861),oe=k(9681),J=k(2090),pe=k(4859),ie=k(1877);const ce="@firebase/installations",j="w:0.5.7",Q="FIS_v2",we=new J.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function We(C){return C instanceof J.ZR&&C.code.includes("request-failed")}function Ge({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ce(C){return{token:C.token,requestStatus:2,expiresIn:te(C.expiresIn),creationTime:Date.now()}}function _e(C,I){return ve.apply(this,arguments)}function ve(){return(ve=(0,R.Z)(function*(C,I){const F=(yield I.json()).error;return we.create("request-failed",{requestName:C,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function je({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Ue(C,{refreshToken:I}){const M=je(C);return M.append("Authorization",function ge(C){return`${Q} ${C}`}(I)),M}function ee(C){return q.apply(this,arguments)}function q(){return(q=(0,R.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function te(C){return Number(C.replace("s","000"))}function ne(C,I){return Me.apply(this,arguments)}function Me(){return(Me=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:M}){const F=Ge(C),z=je(C),X=I.getImmediate({optional:!0});if(X){const yt=yield X.getHeartbeatsHeader();yt&&z.append("x-firebase-client",yt)}const qe={method:"POST",headers:z,body:JSON.stringify({fid:M,authVersion:Q,appId:C.appId,sdkVersion:j})},Je=yield ee(()=>fetch(F,qe));if(Je.ok){const yt=yield Je.json();return{fid:yt.fid||M,registrationStatus:2,refreshToken:yt.refreshToken,authToken:Ce(yt.authToken)}}throw yield _e("Create Installation",Je)})).apply(this,arguments)}function se(C){return new Promise(I=>{setTimeout(I,C)})}const Zt=/^[cdef][\w-]{21}$/;function rt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function dt(C){return function wt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Zt.test(M)?M:""}catch(C){return""}}function on(C){return`${C.appName}!${C.appId}`}const an=new Map;function wi(C,I){const M=on(C);Wt(M,I),function Vt(C,I){const M=function ri(){return!tr&&"BroadcastChannel"in self&&(tr=new BroadcastChannel("[Firebase] FID Change"),tr.onmessage=C=>{Wt(C.data.key,C.data.fid)}),tr}();M&&M.postMessage({key:C,fid:I}),function _s(){0===an.size&&tr&&(tr.close(),tr=null)}()}(M,I)}function Wt(C,I){const M=an.get(C);if(M)for(const F of M)F(I)}let tr=null;const Sr="firebase-installations-store";let $i=null;function Hi(){return $i||($i=(0,J.X3)("firebase-installations-database",1,(C,I)=>{0===I&&C.createObjectStore(Sr)})),$i}function st(C,I){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,R.Z)(function*(C,I){const M=on(C),z=(yield Hi()).transaction(Sr,"readwrite"),X=z.objectStore(Sr),Se=yield X.get(M);return yield X.put(I,M),yield z.complete,(!Se||Se.fid!==I.fid)&&wi(C,I.fid),I})).apply(this,arguments)}function zn(C){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,R.Z)(function*(C){const I=on(C),F=(yield Hi()).transaction(Sr,"readwrite");yield F.objectStore(Sr).delete(I),yield F.complete})).apply(this,arguments)}function ii(C,I){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,R.Z)(function*(C,I){const M=on(C),z=(yield Hi()).transaction(Sr,"readwrite"),X=z.objectStore(Sr),Se=yield X.get(M),qe=I(Se);return void 0===qe?yield X.delete(M):yield X.put(qe,M),yield z.complete,qe&&(!Se||Se.fid!==qe.fid)&&wi(C,qe.fid),qe})).apply(this,arguments)}function pn(C){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,R.Z)(function*(C){let I;const M=yield ii(C.appConfig,F=>{const z=vs(F),X=oa(C,z);return I=X.registrationPromise,X.installationEntry});return""===M.fid?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}})).apply(this,arguments)}function vs(C){return Ft(C||{fid:rt(),registrationStatus:0})}function oa(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(we.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},F=function Ut(C,I){return et.apply(this,arguments)}(C,M);return{installationEntry:M,registrationPromise:F}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:mt(C)}:{installationEntry:I}}function et(){return(et=(0,R.Z)(function*(C,I){try{const M=yield ne(C,I);return st(C.appConfig,M)}catch(M){throw We(M)&&409===M.customData.serverCode?yield zn(C.appConfig):yield st(C.appConfig,{fid:I.fid,registrationStatus:0}),M}})).apply(this,arguments)}function mt(C){return nr.apply(this,arguments)}function nr(){return(nr=(0,R.Z)(function*(C){let I=yield Oi(C.appConfig);for(;1===I.registrationStatus;)yield se(100),I=yield Oi(C.appConfig);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:F}=yield pn(C);return F||M}return I})).apply(this,arguments)}function Oi(C){return ii(C,I=>{if(!I)throw we.create("installation-not-found");return Ft(I)})}function Ft(C){return function Ks(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function dr(C,I){return rr.apply(this,arguments)}function rr(){return(rr=(0,R.Z)(function*({appConfig:C,heartbeatServiceProvider:I},M){const F=ot(C,M),z=Ue(C,M),X=I.getImmediate({optional:!0});if(X){const yt=yield X.getHeartbeatsHeader();yt&&z.append("x-firebase-client",yt)}const qe={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:j,appId:C.appId}})},Je=yield ee(()=>fetch(F,qe));if(Je.ok)return Ce(yield Je.json());throw yield _e("Generate Auth Token",Je)})).apply(this,arguments)}function ot(C,{fid:I}){return`${Ge(C)}/${I}/authTokens:generate`}function hr(C){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,R.Z)(function*(C,I=!1){let M;const F=yield ii(C.appConfig,X=>{if(!Mt(X))throw we.create("not-registered");const Se=X.authToken;if(!I&&U(Se))return X;if(1===Se.requestStatus)return M=ze(C,I),X;{if(!navigator.onLine)throw we.create("app-offline");const qe=$(X);return M=at(C,qe),qe}});return M?yield M:F.authToken})).apply(this,arguments)}function ze(C,I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,R.Z)(function*(C,I){let M=yield Ze(C.appConfig);for(;1===M.authToken.requestStatus;)yield se(100),M=yield Ze(C.appConfig);const F=M.authToken;return 0===F.requestStatus?hr(C,I):F})).apply(this,arguments)}function Ze(C){return ii(C,I=>{if(!Mt(I))throw we.create("not-registered");return function le(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function at(C,I){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,R.Z)(function*(C,I){try{const M=yield dr(C,I),F=Object.assign(Object.assign({},I),{authToken:M});return yield st(C.appConfig,F),M}catch(M){if(!We(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const F=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield st(C.appConfig,F)}else yield zn(C.appConfig);throw M}})).apply(this,arguments)}function Mt(C){return void 0!==C&&2===C.registrationStatus}function U(C){return 2===C.requestStatus&&!function L(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+36e5}(C)}function $(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}function Fe(){return(Fe=(0,R.Z)(function*(C){const I=C,{installationEntry:M,registrationPromise:F}=yield pn(I);return F?F.catch(console.error):hr(I).catch(console.error),M.fid})).apply(this,arguments)}function qt(){return(qt=(0,R.Z)(function*(C,I=!1){const M=C;return yield fr(M),(yield hr(M,I)).token})).apply(this,arguments)}function fr(C){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,R.Z)(function*(C){const{registrationPromise:I}=yield pn(C);I&&(yield I)})).apply(this,arguments)}function Un(C){return we.create("missing-app-config-values",{valueName:C})}const ua="installations",Oe=C=>{const I=C.getProvider("app").getImmediate(),M=function Gi(C){if(!C||!C.options)throw Un("App Configuration");if(!C.name)throw Un("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!C.options[M])throw Un(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:M,heartbeatServiceProvider:(0,oe._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},St=C=>{const I=C.getProvider("app").getImmediate(),M=(0,oe._getProvider)(I,ua).getImmediate();return{getId:()=>function Y(C){return Fe.apply(this,arguments)}(M),getToken:z=>function ht(C){return qt.apply(this,arguments)}(M,z)}};(function ln(){(0,oe._registerComponent)(new pe.wA(ua,Oe,"PUBLIC")),(0,oe._registerComponent)(new pe.wA("installations-internal",St,"PRIVATE"))})(),(0,oe.registerVersion)(ce,"0.5.7"),(0,oe.registerVersion)(ce,"0.5.7","esm2017");const ir="@firebase/remote-config",Mn=new J.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mh{constructor(I,M,F,z){this.client=I,this.storage=M,this.storageCache=F,this.logger=z}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-M,z=F<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${z}.`),z}fetch(I){var M=this;return(0,R.Z)(function*(){const[F,z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(z&&M.isCachedDataFresh(I.cacheMaxAgeMillis,F))return z;I.eTag=z&&z.eTag;const X=yield M.client.fetch(I),Se=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&Se.push(M.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(Se),X})()}}function Uc(C=navigator){return C.languages&&C.languages[0]||C.language}class su{constructor(I,M,F,z,X,Se){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=F,this.projectId=z,this.apiKey=X,this.appId=Se}fetch(I){var M=this;return(0,R.Z)(function*(){const[F,z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Je={sdk_version:M.sdkVersion,app_instance_id:F,app_instance_id_token:z,app_id:M.appId,language_code:Uc()},yt={method:"POST",headers:qe,body:JSON.stringify(Je)},kt=fetch(Se,yt),vt=new Promise((vr,Us)=>{I.signal.addEventListener(()=>{const ss=new Error("The operation was aborted.");ss.name="AbortError",Us(ss)})});let Kn;try{yield Promise.race([kt,vt]),Kn=yield kt}catch(vr){let Us="fetch-client-network";throw"AbortError"===vr.name&&(Us="fetch-timeout"),Mn.create(Us,{originalErrorMessage:vr.message})}let En=Kn.status;const Ni=Kn.headers.get("ETag")||void 0;let po,_r;if(200===Kn.status){let vr;try{vr=yield Kn.json()}catch(Us){throw Mn.create("fetch-client-parse",{originalErrorMessage:Us.message})}po=vr.entries,_r=vr.state}if("INSTANCE_STATE_UNSPECIFIED"===_r?En=500:"NO_CHANGE"===_r?En=304:("NO_TEMPLATE"===_r||"EMPTY_CONFIG"===_r)&&(po={}),304!==En&&200!==En)throw Mn.create("fetch-status",{httpStatus:En});return{status:En,eTag:Ni,config:po}})()}}class Dp{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,R.Z)(function*(){const F=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,F)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:F}){var z=this;return(0,R.Z)(function*(){yield function kn(C,I){return new Promise((M,F)=>{const z=Math.max(I-Date.now(),0),X=setTimeout(M,z);C.addEventListener(()=>{clearTimeout(X),F(Mn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const X=yield z.client.fetch(I);return yield z.storage.deleteThrottleMetadata(),X}catch(X){if(!function Bc(C){if(!(C instanceof J.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(X))throw X;const Se={throttleEndTimeMillis:Date.now()+(0,J.$s)(F),backoffCount:F+1};return yield z.storage.setThrottleMetadata(Se),z.attemptFetch(I,Se)}})()}}class jc{constructor(I,M,F,z,X){this.app=I,this._client=M,this._storageCache=F,this._storage=z,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function al(C,I){const M=C.target.error||void 0;return Mn.create(I,{originalErrorMessage:M&&M.message})}const Ds="app_namespace_store";class Hc{constructor(I,M,F,z=function Sp(){return new Promise((C,I)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=F=>{I(al(F,"storage-open"))},M.onsuccess=F=>{C(F.target.result)},M.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Ds,{keyPath:"compositeKey"})}}catch(M){I(Mn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=I,this.appName=M,this.namespace=F,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((z,X)=>{const qe=F.transaction([Ds],"readonly").objectStore(Ds),Je=M.createCompositeKey(I);try{const yt=qe.get(Je);yt.onerror=kt=>{X(al(kt,"storage-get"))},yt.onsuccess=kt=>{const vt=kt.target.result;z(vt?vt.value:void 0)}}catch(yt){X(Mn.create("storage-get",{originalErrorMessage:yt&&yt.message}))}})})()}set(I,M){var F=this;return(0,R.Z)(function*(){const z=yield F.openDbPromise;return new Promise((X,Se)=>{const Je=z.transaction([Ds],"readwrite").objectStore(Ds),yt=F.createCompositeKey(I);try{const kt=Je.put({compositeKey:yt,value:M});kt.onerror=vt=>{Se(al(vt,"storage-set"))},kt.onsuccess=()=>{X()}}catch(kt){Se(Mn.create("storage-set",{originalErrorMessage:kt&&kt.message}))}})})()}delete(I){var M=this;return(0,R.Z)(function*(){const F=yield M.openDbPromise;return new Promise((z,X)=>{const qe=F.transaction([Ds],"readwrite").objectStore(Ds),Je=M.createCompositeKey(I);try{const yt=qe.delete(Je);yt.onerror=kt=>{X(al(kt,"storage-delete"))},yt.onsuccess=()=>{z()}}catch(yt){X(Mn.create("storage-delete",{originalErrorMessage:yt&&yt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Gc{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,R.Z)(function*(){const M=I.storage.getLastFetchStatus(),F=I.storage.getLastSuccessfulFetchTimestampMillis(),z=I.storage.getActiveConfig(),X=yield M;X&&(I.lastFetchStatus=X);const Se=yield F;Se&&(I.lastSuccessfulFetchTimestampMillis=Se);const qe=yield z;qe&&(I.activeConfig=qe)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Qs(){return xh.apply(this,arguments)}function xh(){return(xh=(0,R.Z)(function*(){if(!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Oo(){(0,oe._registerComponent)(new pe.wA("remote-config",function C(I,{instanceIdentifier:M}){const F=I.getProvider("app").getImmediate(),z=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Mn.create("registration-window");if(!(0,J.hl)())throw Mn.create("indexed-db-unavailable");const{projectId:X,apiKey:Se,appId:qe}=F.options;if(!X)throw Mn.create("registration-project-id");if(!Se)throw Mn.create("registration-api-key");if(!qe)throw Mn.create("registration-app-id");const Je=new Hc(qe,F.name,M=M||"firebase"),yt=new Gc(Je),kt=new ie.Yd(ir);kt.logLevel=ie.in.ERROR;const vt=new su(z,oe.SDK_VERSION,M,X,Se,qe),Kn=new Dp(vt,Je),En=new Mh(Kn,Je,yt,kt),Ni=new jc(F,En,yt,Je,kt);return function Mr(C){const I=(0,J.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ni),Ni},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ir,"0.3.6"),(0,oe.registerVersion)(ir,"0.3.6","esm2017")}();const ul="/firebase-messaging-sw.js",Ts="/firebase-cloud-messaging-push-scope",Ur="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Js="google.c.a.c_id",ca="google.c.a.c_l",qc="google.c.a.ts",Mp="google.c.a.e";var As=(()=>{return(C=As||(As={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",As;var C})();function ai(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function au(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(M),z=new Uint8Array(F.length);for(let X=0;X<F.length;++X)z[X]=F.charCodeAt(X);return z}const uu="fcm_token_details_db",sr="fcm_token_object_Store";function Oh(C){return lu.apply(this,arguments)}function lu(){return lu=(0,R.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(uu))return null;let I=null;return(yield(0,J.X3)(uu,5,function(){var F=(0,R.Z)(function*(z,X,Se,qe){var Je;if(X<2||!z.objectStoreNames.contains(sr))return;const yt=qe.objectStore(sr),kt=yield yt.index("fcmSenderId").get(C);if(yield yt.clear(),kt)if(2===X){const vt=kt;if(!vt.auth||!vt.p256dh||!vt.endpoint)return;I={token:vt.fcmToken,createTime:null!==(Je=vt.createTime)&&void 0!==Je?Je:Date.now(),subscriptionOptions:{auth:vt.auth,p256dh:vt.p256dh,endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:"string"==typeof vt.vapidKey?vt.vapidKey:ai(vt.vapidKey)}}}else if(3===X){const vt=kt;I={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:ai(vt.auth),p256dh:ai(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:ai(vt.vapidKey)}}}else if(4===X){const vt=kt;I={token:vt.fcmToken,createTime:vt.createTime,subscriptionOptions:{auth:ai(vt.auth),p256dh:ai(vt.p256dh),endpoint:vt.endpoint,swScope:vt.swScope,vapidKey:ai(vt.vapidKey)}}}});return function(z,X,Se,qe){return F.apply(this,arguments)}}())).close(),yield(0,J.Lj)(uu),yield(0,J.Lj)("fcm_vapid_details_db"),yield(0,J.Lj)("undefined"),zc(I)?I:null}),lu.apply(this,arguments)}function zc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Wi="firebase-messaging-store";let da=null;function ll(){return da||(da=(0,J.X3)("firebase-messaging-database",1,(C,I)=>{0===I&&C.createObjectStore(Wi)})),da}function dn(C){return No.apply(this,arguments)}function No(){return(No=(0,R.Z)(function*(C){const I=eo(C),F=yield(yield ll()).transaction(Wi).objectStore(Wi).get(I);if(F)return F;{const z=yield Oh(C.appConfig.senderId);if(z)return yield Ss(C,z),z}})).apply(this,arguments)}function Ss(C,I){return nn.apply(this,arguments)}function nn(){return(nn=(0,R.Z)(function*(C,I){const M=eo(C),z=(yield ll()).transaction(Wi,"readwrite");return yield z.objectStore(Wi).put(I,M),yield z.complete,I})).apply(this,arguments)}function Zc(C){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,R.Z)(function*(C){const I=eo(C),F=(yield ll()).transaction(Wi,"readwrite");yield F.objectStore(Wi).delete(I),yield F.complete})).apply(this,arguments)}function eo({appConfig:C}){return C.appId}const xn=new J.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ha(C,I){return bi.apply(this,arguments)}function bi(){return(bi=(0,R.Z)(function*(C,I){const M=yield xs(C),F=ut(I),z={method:"POST",headers:M,body:JSON.stringify(F)};let X;try{X=yield(yield fetch(jr(C.appConfig),z)).json()}catch(Se){throw xn.create("token-subscribe-failed",{errorInfo:Se})}if(X.error)throw xn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw xn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function gr(C,I){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,R.Z)(function*(C,I){const M=yield xs(C),F=ut(I.subscriptionOptions),z={method:"PATCH",headers:M,body:JSON.stringify(F)};let X;try{X=yield(yield fetch(`${jr(C.appConfig)}/${I.token}`,z)).json()}catch(Se){throw xn.create("token-update-failed",{errorInfo:Se})}if(X.error)throw xn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw xn.create("token-update-no-token");return X.token})).apply(this,arguments)}function Ki(C,I){return hu.apply(this,arguments)}function hu(){return(hu=(0,R.Z)(function*(C,I){const F={method:"DELETE",headers:yield xs(C)};try{const X=yield(yield fetch(`${jr(C.appConfig)}/${I}`,F)).json();if(X.error)throw xn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(z){throw xn.create("token-unsubscribe-failed",{errorInfo:z})}})).apply(this,arguments)}function jr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function xs(C){return Os.apply(this,arguments)}function Os(){return(Os=(0,R.Z)(function*({appConfig:C,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ut({p256dh:C,auth:I,endpoint:M,vapidKey:F}){const z={web:{endpoint:M,auth:I,p256dh:C}};return F!==Ur&&(z.web.applicationPubKey=F),z}const fu=6048e5;function fa(C){return pu.apply(this,arguments)}function pu(){return(pu=(0,R.Z)(function*(C){const I=yield hl(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:ai(I.getKey("auth")),p256dh:ai(I.getKey("p256dh"))},F=yield dn(C.firebaseDependencies);if(F){if(ko(F.subscriptionOptions,M))return Date.now()>=F.createTime+fu?cl(C,{token:F.token,createTime:Date.now(),subscriptionOptions:M}):F.token;try{yield Ki(C.firebaseDependencies,F.token)}catch(z){console.warn(z)}return Ee(C.firebaseDependencies,M)}return Ee(C.firebaseDependencies,M)})).apply(this,arguments)}function gu(C){return mu.apply(this,arguments)}function mu(){return(mu=(0,R.Z)(function*(C){const I=yield dn(C.firebaseDependencies);I&&(yield Ki(C.firebaseDependencies,I.token),yield Zc(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function cl(C,I){return dl.apply(this,arguments)}function dl(){return(dl=(0,R.Z)(function*(C,I){try{const M=yield gr(C.firebaseDependencies,I),F=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield Ss(C.firebaseDependencies,F),M}catch(M){throw yield gu(C),M}})).apply(this,arguments)}function Ee(C,I){return xt.apply(this,arguments)}function xt(){return(xt=(0,R.Z)(function*(C,I){const F={token:yield ha(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Ss(C,F),F.token})).apply(this,arguments)}function hl(C,I){return mn.apply(this,arguments)}function mn(){return(mn=(0,R.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:au(I)})})).apply(this,arguments)}function ko(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}function Fo(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function $r(C,I){if(!I.notification)return;C.notification={};const M=I.notification.title;M&&(C.notification.title=M);const F=I.notification.body;F&&(C.notification.body=F);const z=I.notification.image;z&&(C.notification.image=z)}(I,C),function fl(C,I){!I.data||(C.data=I.data)}(I,C),function pl(C,I){if(!I.fcmOptions)return;C.fcmOptions={};const M=I.fcmOptions.link;M&&(C.fcmOptions.link=M);const F=I.fcmOptions.analytics_label;F&&(C.fcmOptions.analyticsLabel=F)}(I,C),I}function Wc(C){return"object"==typeof C&&!!C&&Js in C}function gl(C,I){const M=[];for(let F=0;F<C.length;F++)M.push(C.charAt(F)),F<I.length&&M.push(I.charAt(F));return M.join("")}function Ps(C){return xn.create("missing-app-config-values",{valueName:C})}gl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class or{constructor(I,M,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function yu(C){if(!C||!C.options)throw Ps("App Configuration Object");if(!C.name)throw Ps("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const F of I)if(!M[F])throw Ps(F);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:z,installations:M,analyticsProvider:F}}_delete(){return Promise.resolve()}}function ui(C){return _u.apply(this,arguments)}function _u(){return(_u=(0,R.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(ul,{scope:Ts}),C.swRegistration.update().catch(()=>{})}catch(I){throw xn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Rs(C,I){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,R.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield ui(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function ml(C,I){return vu.apply(this,arguments)}function vu(){return(vu=(0,R.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=Ur)})).apply(this,arguments)}function yl(){return(yl=(0,R.Z)(function*(C,I){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield ml(C,null==I?void 0:I.vapidKey),yield Rs(C,null==I?void 0:I.serviceWorkerRegistration),fa(C)})).apply(this,arguments)}function pa(C,I,M){return ga.apply(this,arguments)}function ga(){return(ga=(0,R.Z)(function*(C,I,M){const F=_l(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:M[Js],message_name:M[ca],message_time:M[qc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _l(C){switch(C){case As.NOTIFICATION_CLICKED:return"notification_open";case As.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Kc(){return(Kc=(0,R.Z)(function*(C,I){const M=I.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===As.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Fo(M)):C.onMessageHandler.next(Fo(M)));const F=M.data;Wc(F)&&"1"===F[Mp]&&(yield pa(C,M.messageType,F))})).apply(this,arguments)}const wl="@firebase/messaging",Yc=C=>{const I=new or(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function vl(C,I){return Kc.apply(this,arguments)}(I,M)),I},no=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:F=>function wu(C,I){return yl.apply(this,arguments)}(I,F)}};function Jc(){return ro.apply(this,arguments)}function ro(){return(ro=(0,R.Z)(function*(){try{yield(0,J.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,J.hl)()&&(0,J.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qc(){(0,oe._registerComponent)(new pe.wA("messaging",Yc,"PUBLIC")),(0,oe._registerComponent)(new pe.wA("messaging-internal",no,"PRIVATE")),(0,oe.registerVersion)(wl,"0.9.11"),(0,oe.registerVersion)(wl,"0.9.11","esm2017")}();const bl="analytics",vy="firebase_id",ma="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Eu="https://www.googletagmanager.com/gtag/js",Fn=new ie.Yd("@firebase/analytics");function ed(C){return Promise.all(C.map(I=>I.catch(M=>M)))}function xp(C,I){const M=document.createElement("script");M.src=`${Eu}?l=${C}&id=${I}`,M.async=!0,document.head.appendChild(M)}function Lo(C,I,M,F,z,X){return td.apply(this,arguments)}function td(){return(td=(0,R.Z)(function*(C,I,M,F,z,X){const Se=F[z];try{if(Se)yield I[Se];else{const Je=(yield ed(M)).find(yt=>yt.measurementId===z);Je&&(yield I[Je.appId])}}catch(qe){Fn.error(qe)}C("config",z,X)})).apply(this,arguments)}function Il(C,I,M,F,z){return io.apply(this,arguments)}function io(){return(io=(0,R.Z)(function*(C,I,M,F,z){try{let X=[];if(z&&z.send_to){let Se=z.send_to;Array.isArray(Se)||(Se=[Se]);const qe=yield ed(M);for(const Je of Se){const yt=qe.find(vt=>vt.measurementId===Je),kt=yt&&I[yt.appId];if(!kt){X=[];break}X.push(kt)}}0===X.length&&(X=Object.values(I)),yield Promise.all(X),C("event",F,z||{})}catch(X){Fn.error(X)}})).apply(this,arguments)}function Op(){const C=window.document.getElementsByTagName("script");for(const I of Object.values(C))if(I.src&&I.src.includes(Eu))return I;return null}const yn=new J.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),ya=new class Tl{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function so(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function rd(C){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,R.Z)(function*(C){var I;const{appId:M,apiKey:F}=C,z={method:"GET",headers:so(F)},X=ma.replace("{app-id}",M),Se=yield fetch(X,z);if(200!==Se.status&&304!==Se.status){let qe="";try{const Je=yield Se.json();(null===(I=Je.error)||void 0===I?void 0:I.message)&&(qe=Je.error.message)}catch(Je){}throw yn.create("config-fetch-failed",{httpStatus:Se.status,responseMessage:qe})}return Se.json()})).apply(this,arguments)}function Vo(C){return _n.apply(this,arguments)}function _n(){return(_n=(0,R.Z)(function*(C,I=ya,M){const{appId:F,apiKey:z,measurementId:X}=C.options;if(!F)throw yn.create("no-app-id");if(!z){if(X)return{measurementId:X,appId:F};throw yn.create("no-api-key")}const Se=I.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new bu;return setTimeout((0,R.Z)(function*(){qe.abort()}),void 0!==M?M:6e4),It({appId:F,apiKey:z,measurementId:X},Se,qe,I)})).apply(this,arguments)}function It(C,I,M){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,R.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:M},F,z=ya){const{appId:X,measurementId:Se}=C;try{yield Pp(F,I)}catch(qe){if(Se)return Fn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:X,measurementId:Se};throw qe}try{const qe=yield rd(C);return z.deleteThrottleMetadata(X),qe}catch(qe){if(!Al(qe)){if(z.deleteThrottleMetadata(X),Se)return Fn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Se} provided in the "measurementId" field in the local Firebase config. [${qe.message}]`),{appId:X,measurementId:Se};throw qe}const Je=503===Number(qe.customData.httpStatus)?(0,J.$s)(M,z.intervalMillis,30):(0,J.$s)(M,z.intervalMillis),yt={throttleEndTimeMillis:Date.now()+Je,backoffCount:M+1};return z.setThrottleMetadata(X,yt),Fn.debug(`Calling attemptFetch again in ${Je} millis`),It(C,yt,F,z)}})).apply(this,arguments)}function Pp(C,I){return new Promise((M,F)=>{const z=Math.max(I-Date.now(),0),X=setTimeout(M,z);C.addEventListener(()=>{clearTimeout(X),F(yn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function Al(C){if(!(C instanceof J.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}class bu{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Rh(){return oo.apply(this,arguments)}function oo(){return(oo=(0,R.Z)(function*(){if(!(0,J.hl)())return Fn.warn(yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,J.eu)()}catch(C){return Fn.warn(yn.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function Bn(){return(Bn=(0,R.Z)(function*(C,I,M,F,z,X,Se){var qe;const Je=Vo(C);Je.then(En=>{M[En.measurementId]=En.appId,C.options.measurementId&&En.measurementId!==C.options.measurementId&&Fn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${En.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(En=>Fn.error(En)),I.push(Je);const yt=Rh().then(En=>{if(En)return F.getId()}),[kt,vt]=yield Promise.all([Je,yt]);Op()||xp(X,kt.measurementId),z("js",new Date);const Kn=null!==(qe=null==Se?void 0:Se.config)&&void 0!==qe?qe:{};return Kn.origin="firebase",Kn.update=!0,null!=vt&&(Kn[vy]=vt),z("config",kt.measurementId,Kn),kt.measurementId})).apply(this,arguments)}class Uo{constructor(I){this.app=I}_delete(){return delete Hr[this.app.options.appId],Promise.resolve()}}let Hr={},ao=[];const Sl={};let ci,Ls,uo="dataLayer",jn=!1;function es(C,I,M){!function Ml(){const C=[];if((0,J.ru)()&&C.push("This is a browser extension environment."),(0,J.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((F,z)=>`(${z+1}) ${F}`).join(" "),M=yn.create("invalid-analytics-context",{errorInfo:I});Fn.warn(M.message)}}();const F=C.options.appId;if(!F)throw yn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw yn.create("no-api-key");Fn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hr[F])throw yn.create("already-exists",{id:F});if(!jn){!function Qi(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(uo);const{wrappedGtag:X,gtagCore:Se}=function Ph(C,I,M,F,z){let X=function(...Se){window[F].push(arguments)};return window[z]&&"function"==typeof window[z]&&(X=window[z]),window[z]=function nd(C,I,M,F){function X(){return(X=(0,R.Z)(function*(Se,qe,Je){try{"event"===Se?yield Il(C,I,M,qe,Je):"config"===Se?yield Lo(C,I,M,F,qe,Je):C("set",qe)}catch(yt){Fn.error(yt)}})).apply(this,arguments)}return function z(Se,qe,Je){return X.apply(this,arguments)}}(X,C,I,M),{gtagCore:X,wrappedGtag:window[z]}}(Hr,ao,Sl,uo,"gtag");Ls=X,ci=Se,jn=!0}return Hr[F]=function li(C,I,M,F,z,X,Se){return Bn.apply(this,arguments)}(C,ao,Sl,I,ci,uo,M),new Uo(C)}function _a(){return(_a=(0,R.Z)(function*(C,I,M,F,z){if(z&&z.global)C("event",M,F);else{const X=yield I;C("event",M,Object.assign(Object.assign({},F),{send_to:X}))}})).apply(this,arguments)}function ho(){return Iu.apply(this,arguments)}function Iu(){return(Iu=(0,R.Z)(function*(){if((0,J.ru)()||!(0,J.zI)()||!(0,J.hl)())return!1;try{return yield(0,J.eu)()}catch(C){return!1}})).apply(this,arguments)}const Pl="@firebase/analytics";!function kh(){(0,oe._registerComponent)(new pe.wA(bl,(I,{options:M})=>es(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,oe._registerComponent)(new pe.wA("analytics-internal",function C(I){try{const M=I.getProvider(bl).getImmediate();return{logEvent:(F,z,X)=>function ad(C,I,M,F){C=(0,J.m9)(C),function id(C,I,M,F,z){return _a.apply(this,arguments)}(Ls,Hr[C.app.options.appId],I,M,F).catch(z=>Fn.error(z))}(M,F,z,X)}}catch(M){throw yn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,oe.registerVersion)(Pl,"0.7.7"),(0,oe.registerVersion)(Pl,"0.7.7","esm2017")}();var ld=k(4408),Fh=k(7565);const Du=new class wn extends Fh.v{}(class Ri extends ld.o{constructor(I,M){super(I,M),this.scheduler=I,this.work=M}schedule(I,M=0){return M>0?super.schedule(I,M):(this.delay=M,this.state=I,this.scheduler.flush(this),this)}execute(I,M){return M>0||this.closed?super.execute(I,M):this._execute(I,M)}requestAsyncId(I,M,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(I,M,F):I.flush(this)}});var xr=k(4986),Tu=k(8505),Or=k(9468),Di=k(5363);const Bo=new d.GfV("7.3.0"),hi="__angularfire_symbol__analyticsIsSupportedValue",qr="__angularfire_symbol__analyticsIsSupported",zr="__angularfire_symbol__remoteConfigIsSupportedValue",wa="__angularfire_symbol__remoteConfigIsSupported",Ea="__angularfire_symbol__messagingIsSupportedValue",cd="__angularfire_symbol__messagingIsSupported";function ba(C,I,M){if(I){if(1===I.length)return I[0];const X=I.filter(Se=>Se.app===M);if(1===X.length)return X[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[qr]||(globalThis[qr]=ho().then(C=>globalThis[hi]=C).catch(()=>globalThis[hi]=!1)),globalThis[cd]||(globalThis[cd]=Jc().then(C=>globalThis[Ea]=C).catch(()=>globalThis[Ea]=!1)),globalThis[wa]||(globalThis[wa]=Qs().then(C=>globalThis[zr]=C).catch(()=>globalThis[zr]=!1));const Uh=(C,I)=>{const M=I?[I]:(0,K.C6)(),F=[];return M.forEach(z=>{z.container.getProvider(C).instances.forEach(Se=>{F.includes(Se)||F.push(Se)})}),F};function fo(){}class Ca{constructor(I,M=Du){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,F){const z=this.zone;return this.delegate.schedule(function(Se){z.runGuarded(()=>{I.apply(this,[Se])})},M,F)}}class Bh{constructor(I){this.zone=I,this.task=null}call(I,M){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fo,{},fo,fo)),M.pipe((0,Tu.b)({next:F,complete:F,error:F})).subscribe(I).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Rl=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Ca(Zone.current)),this.insideAngular=M.run(()=>new Ca(Zone.current,xr.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(d.LFG(d.R0b))},C.\u0275prov=d.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function rs(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Nl(C){return rs(),function is(C){return function(M){return(M=M.lift(new Bh(C.ngZone))).pipe((0,Or.R)(C.outsideAngular),(0,Di.Q)(C.insideAngular))}}(rs())(C)}},2090:(nt,De,k)=>{k.d(De,{BH:()=>Ae,LL:()=>wt,ZR:()=>se,zI:()=>ge,US:()=>ie,tV:()=>B,L:()=>ue,$s:()=>Ks,r3:()=>Wt,Sg:()=>xe,ne:()=>st,vZ:()=>_s,ZB:()=>Q,Lj:()=>Nt,pd:()=>$i,m9:()=>ot,z$:()=>Ne,jU:()=>We,ru:()=>Ge,d:()=>_e,xb:()=>tr,w1:()=>ve,hl:()=>q,uI:()=>de,UG:()=>we,b$:()=>Ce,G6:()=>ee,Mn:()=>je,X3:()=>at,xO:()=>xi,zd:()=>Sr,eu:()=>te});var d=k(5861);const J=function(U){const L=[];let $=0;for(let le=0;le<U.length;le++){let Y=U.charCodeAt(le);Y<128?L[$++]=Y:Y<2048?(L[$++]=Y>>6|192,L[$++]=63&Y|128):55296==(64512&Y)&&le+1<U.length&&56320==(64512&U.charCodeAt(le+1))?(Y=65536+((1023&Y)<<10)+(1023&U.charCodeAt(++le)),L[$++]=Y>>18|240,L[$++]=Y>>12&63|128,L[$++]=Y>>6&63|128,L[$++]=63&Y|128):(L[$++]=Y>>12|224,L[$++]=Y>>6&63|128,L[$++]=63&Y|128)}return L},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,L){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const $=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Y=0;Y<U.length;Y+=3){const Fe=U[Y],ht=Y+1<U.length,qt=ht?U[Y+1]:0,fr=Y+2<U.length,Bt=fr?U[Y+2]:0;let un=(15&qt)<<2|Bt>>6,Wn=63&Bt;fr||(Wn=64,ht||(un=64)),le.push($[Fe>>2],$[(3&Fe)<<4|qt>>4],$[un],$[Wn])}return le.join("")},encodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(U):this.encodeByteArray(J(U),L)},decodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(U):function(U){const L=[];let $=0,le=0;for(;$<U.length;){const Y=U[$++];if(Y<128)L[le++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Fe=U[$++];L[le++]=String.fromCharCode((31&Y)<<6|63&Fe)}else if(Y>239&&Y<365){const fr=((7&Y)<<18|(63&U[$++])<<12|(63&U[$++])<<6|63&U[$++])-65536;L[le++]=String.fromCharCode(55296+(fr>>10)),L[le++]=String.fromCharCode(56320+(1023&fr))}else{const Fe=U[$++],ht=U[$++];L[le++]=String.fromCharCode((15&Y)<<12|(63&Fe)<<6|63&ht)}}return L.join("")}(this.decodeStringToByteArray(U,L))},decodeStringToByteArray(U,L){this.init_();const $=L?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Y=0;Y<U.length;){const Fe=$[U.charAt(Y++)],qt=Y<U.length?$[U.charAt(Y)]:0;++Y;const Bt=Y<U.length?$[U.charAt(Y)]:64;++Y;const Dt=Y<U.length?$[U.charAt(Y)]:64;if(++Y,null==Fe||null==qt||null==Bt||null==Dt)throw Error();le.push(Fe<<2|qt>>4),64!==Bt&&(le.push(qt<<4&240|Bt>>2),64!==Dt&&le.push(Bt<<6&192|Dt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}},ue=function(U){return function(U){const L=J(U);return ie.encodeByteArray(L,!0)}(U).replace(/\./g,"")},B=function(U){try{return ie.decodeString(U,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function Q(U,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return L}for(const $ in L)!L.hasOwnProperty($)||!$e($)||(U[$]=Q(U[$],L[$]));return U}function $e(U){return"__proto__"!==U}class Ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,$)=>{this.resolve=L,this.reject=$})}wrapCallback(L){return($,le)=>{$?this.reject($):this.resolve(le),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L($):L($,le))}}}function xe(U,L){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=L||"demo-project",Y=U.iat||0,Fe=U.sub||U.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Y,exp:Y+3600,auth_time:Y,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(ht)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(U){return!1}}function We(){return"object"==typeof self&&self.self===self}function Ge(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function Ce(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return Ne().indexOf("Electron/")>=0}function ve(){const U=Ne();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function je(){return Ne().indexOf("MSAppHost/")>=0}function ee(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q(){return"object"==typeof indexedDB}function te(){return new Promise((U,L)=>{try{let $=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(le);Y.onsuccess=()=>{Y.result.close(),$||self.indexedDB.deleteDatabase(le),U(!0)},Y.onupgradeneeded=()=>{$=!1},Y.onerror=()=>{var Fe;L((null===(Fe=Y.error)||void 0===Fe?void 0:Fe.message)||"")}}catch($){L($)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class se extends Error{constructor(L,$,le){super($),this.code=L,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,se.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(L,$,le){this.service=L,this.serviceName=$,this.errors=le}create(L,...$){const le=$[0]||{},Y=`${this.service}/${L}`,Fe=this.errors[L],ht=Fe?function Zt(U,L){return U.replace(Sn,($,le)=>{const Y=L[le];return null!=Y?String(Y):`<${le}?>`})}(Fe,le):"Error";return new se(Y,`${this.serviceName}: ${ht} (${Y}).`,le)}}const Sn=/\{\$([^}]+)}/g;function Wt(U,L){return Object.prototype.hasOwnProperty.call(U,L)}function tr(U){for(const L in U)if(Object.prototype.hasOwnProperty.call(U,L))return!1;return!0}function _s(U,L){if(U===L)return!0;const $=Object.keys(U),le=Object.keys(L);for(const Y of $){if(!le.includes(Y))return!1;const Fe=U[Y],ht=L[Y];if(Ar(Fe)&&Ar(ht)){if(!_s(Fe,ht))return!1}else if(Fe!==ht)return!1}for(const Y of le)if(!$.includes(Y))return!1;return!0}function Ar(U){return null!==U&&"object"==typeof U}function xi(U){const L=[];for(const[$,le]of Object.entries(U))Array.isArray(le)?le.forEach(Y=>{L.push(encodeURIComponent($)+"="+encodeURIComponent(Y))}):L.push(encodeURIComponent($)+"="+encodeURIComponent(le));return L.length?"&"+L.join("&"):""}function Sr(U){const L={};return U.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[Y,Fe]=le.split("=");L[decodeURIComponent(Y)]=decodeURIComponent(Fe)}}),L}function $i(U){const L=U.indexOf("?");if(!L)return"";const $=U.indexOf("#",L);return U.substring(L,$>0?$:void 0)}function st(U,L){const $=new Lr(U,L);return $.subscribe.bind($)}class Lr{constructor(L,$){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=$,this.task.then(()=>{L(this)}).catch(le=>{this.error(le)})}next(L){this.forEachObserver($=>{$.next(L)})}error(L){this.forEachObserver($=>{$.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,$,le){let Y;if(void 0===L&&void 0===$&&void 0===le)throw new Error("Missing Observer.");Y=function Vn(U,L){if("object"!=typeof U||null===U)return!1;for(const $ of L)if($ in U&&"function"==typeof U[$])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:$,complete:le},void 0===Y.next&&(Y.next=ii),void 0===Y.error&&(Y.error=ii),void 0===Y.complete&&(Y.complete=ii);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch(ht){}}),this.observers.push(Y),Fe}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let $=0;$<this.observers.length;$++)this.sendOne($,L)}sendOne(L,$){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{$(this.observers[L])}catch(le){"undefined"!=typeof console&&console.error&&console.error(le)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ii(){}function Ks(U,L=1e3,$=2){const le=L*Math.pow($,U),Y=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+Y)}function ot(U){return U&&U._delegate?U._delegate:U}function hr(U,L){return new Promise(($,le)=>{U.onsuccess=Y=>{$(Y.target.result)},U.onerror=Y=>{var Fe;le(`${L}: ${null===(Fe=Y.target.error)||void 0===Fe?void 0:Fe.message}`)}})}class Pt{constructor(L){this._db=L,this.objectStoreNames=this._db.objectStoreNames}transaction(L,$){return new ze(this._db.transaction.call(this._db,L,$))}createObjectStore(L,$){return new Ie(this._db.createObjectStore(L,$))}close(){this._db.close()}}class ze{constructor(L){this._transaction=L,this.complete=new Promise(($,le)=>{this._transaction.oncomplete=function(){$()},this._transaction.onerror=()=>{le(this._transaction.error)},this._transaction.onabort=()=>{le(this._transaction.error)}})}objectStore(L){return new Ie(this._transaction.objectStore(L))}}class Ie{constructor(L){this._store=L}index(L){return new Ze(this._store.index(L))}createIndex(L,$,le){return new Ze(this._store.createIndex(L,$,le))}get(L){return hr(this._store.get(L),"Error reading from IndexedDB")}put(L,$){return hr(this._store.put(L,$),"Error writing to IndexedDB")}delete(L){return hr(this._store.delete(L),"Error deleting from IndexedDB")}clear(){return hr(this._store.clear(),"Error clearing IndexedDB object store")}}class Ze{constructor(L){this._index=L}get(L){return hr(this._index.get(L),"Error reading from IndexedDB")}}function at(U,L,$){return new Promise((le,Y)=>{try{const Fe=indexedDB.open(U,L);Fe.onsuccess=ht=>{le(new Pt(ht.target.result))},Fe.onerror=ht=>{var qt;Y(`Error opening indexedDB: ${null===(qt=ht.target.error)||void 0===qt?void 0:qt.message}`)},Fe.onupgradeneeded=ht=>{$(new Pt(Fe.result),ht.oldVersion,ht.newVersion,new ze(Fe.transaction))}}catch(Fe){Y(`Error opening indexedDB: ${Fe.message}`)}})}function Nt(U){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,d.Z)(function*(U){return new Promise((L,$)=>{try{const le=indexedDB.deleteDatabase(U);le.onsuccess=()=>{L()},le.onerror=Y=>{var Fe;$(`Error deleting indexedDB database "${U}": ${null===(Fe=Y.target.error)||void 0===Fe?void 0:Fe.message}`)}}catch(le){$(`Error deleting indexedDB database "${U}": ${le.message}`)}})})).apply(this,arguments)}},4117:(nt,De,k)=>{var d=k(5e3);let K=null;function R(){return K}const ie=new d.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ue(){return(0,d.LFG)(j)}()},providedIn:"platform"}),n})();const B=new d.OlP("Location Initialized");let j=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Q()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Q()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function $e(){return new j((0,d.LFG)(ie))}()},providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function xe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ne(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function we(n){const e=(0,d.LFG)(ie).location;return new Ge((0,d.LFG)(ce),e&&e.origin||"")}()},providedIn:"root"}),n})();const We=new d.OlP("appBaseHref");let Ge=(()=>{class n extends de{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ne(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const f=this.prepareExternalUrl(o+Ne(u));this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,u){const f=this.prepareExternalUrl(o+Ne(u));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce),d.LFG(We,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ce=(()=>{class n extends de{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let f=this.prepareExternalUrl(o+Ne(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,o,u){let f=this.prepareExternalUrl(o+Ne(u));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ce),d.LFG(We,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t,r){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=xe(Ue(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ne(r))}normalize(t){return n.stripTrailingSlash(function je(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ue(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ne(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ne(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ne,n.joinWithSlash=Ae,n.stripTrailingSlash=xe,n.\u0275fac=function(t){return new(t||n)(d.LFG(de),d.LFG(ce))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ve(){return new _e((0,d.LFG)(de),(0,d.LFG)(ce))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Format=0]="Format",ge[ge.Standalone=1]="Standalone",ge))(),ne=(()=>((ne=ne||{})[ne.Narrow=0]="Narrow",ne[ne.Abbreviated=1]="Abbreviated",ne[ne.Wide=2]="Wide",ne[ne.Short=3]="Short",ne))(),Me=(()=>((Me=Me||{})[Me.Short=0]="Short",Me[Me.Medium=1]="Medium",Me[Me.Long=2]="Long",Me[Me.Full=3]="Full",Me))(),se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Group=1]="Group",se[se.List=2]="List",se[se.PercentSign=3]="PercentSign",se[se.PlusSign=4]="PlusSign",se[se.MinusSign=5]="MinusSign",se[se.Exponential=6]="Exponential",se[se.SuperscriptingExponent=7]="SuperscriptingExponent",se[se.PerMille=8]="PerMille",se[se.Infinity=9]="Infinity",se[se.NaN=10]="NaN",se[se.TimeSeparator=11]="TimeSeparator",se[se.CurrencyDecimal=12]="CurrencyDecimal",se[se.CurrencyGroup=13]="CurrencyGroup",se))();function Xt(n,e){return zn((0,d.cg1)(n)[d.wAp.DateFormat],e)}function ji(n,e){return zn((0,d.cg1)(n)[d.wAp.TimeFormat],e)}function Wt(n,e){return zn((0,d.cg1)(n)[d.wAp.DateTimeFormat],e)}function Vt(n,e){const t=(0,d.cg1)(n),r=t[d.wAp.NumberSymbols][e];if(void 0===r){if(e===se.CurrencyDecimal)return t[d.wAp.NumberSymbols][se.Decimal];if(e===se.CurrencyGroup)return t[d.wAp.NumberSymbols][se.Group]}return r}function $i(n){if(!n[d.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[d.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function zn(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Vn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Zn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vs={},oa=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ut=(()=>((Ut=Ut||{})[Ut.Short=0]="Short",Ut[Ut.ShortGMT=1]="ShortGMT",Ut[Ut.Long=2]="Long",Ut[Ut.Extended=3]="Extended",Ut))(),et=(()=>((et=et||{})[et.FullYear=0]="FullYear",et[et.Month=1]="Month",et[et.Date=2]="Date",et[et.Hours=3]="Hours",et[et.Minutes=4]="Minutes",et[et.Seconds=5]="Seconds",et[et.FractionalSeconds=6]="FractionalSeconds",et[et.Day=7]="Day",et))(),mt=(()=>((mt=mt||{})[mt.DayPeriods=0]="DayPeriods",mt[mt.Days=1]="Days",mt[mt.Months=2]="Months",mt[mt.Eras=3]="Eras",mt))();function nr(n,e,t,r){let o=function qt(n){if(Bt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,u=1,f=1]=n.split("-").map(m=>+m);return Oi(o,u-1,f)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Zn))return function fr(n){const e=new Date(0);let t=0,r=0;const o=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const f=Number(n[4]||0)-t,m=Number(n[5]||0)-r,E=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,f,m,E,D),e}(r)}const e=new Date(n);if(!Bt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ft(t,e)||e;let m,f=[];for(;e;){if(m=oa.exec(e),!m){f.push(e);break}{f=f.concat(m.slice(1));const x=f.pop();if(!x)break;e=x}}let E=o.getTimezoneOffset();r&&(E=Y(r,E),o=function ht(n,e,t){const r=t?-1:1,o=n.getTimezoneOffset();return function Fe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Y(e,o)-o))}(o,r,!0));let D="";return f.forEach(x=>{const P=function le(n){if($[n])return $[n];let e;switch(n){case"G":case"GG":case"GGG":e=Pt(mt.Eras,ne.Abbreviated);break;case"GGGG":e=Pt(mt.Eras,ne.Wide);break;case"GGGGG":e=Pt(mt.Eras,ne.Narrow);break;case"y":e=ot(et.FullYear,1,0,!1,!0);break;case"yy":e=ot(et.FullYear,2,0,!0,!0);break;case"yyy":e=ot(et.FullYear,3,0,!1,!0);break;case"yyyy":e=ot(et.FullYear,4,0,!1,!0);break;case"Y":e=L(1);break;case"YY":e=L(2,!0);break;case"YYY":e=L(3);break;case"YYYY":e=L(4);break;case"M":case"L":e=ot(et.Month,1,1);break;case"MM":case"LL":e=ot(et.Month,2,1);break;case"MMM":e=Pt(mt.Months,ne.Abbreviated);break;case"MMMM":e=Pt(mt.Months,ne.Wide);break;case"MMMMM":e=Pt(mt.Months,ne.Narrow);break;case"LLL":e=Pt(mt.Months,ne.Abbreviated,ge.Standalone);break;case"LLLL":e=Pt(mt.Months,ne.Wide,ge.Standalone);break;case"LLLLL":e=Pt(mt.Months,ne.Narrow,ge.Standalone);break;case"w":e=U(1);break;case"ww":e=U(2);break;case"W":e=U(1,!0);break;case"d":e=ot(et.Date,1);break;case"dd":e=ot(et.Date,2);break;case"c":case"cc":e=ot(et.Day,1);break;case"ccc":e=Pt(mt.Days,ne.Abbreviated,ge.Standalone);break;case"cccc":e=Pt(mt.Days,ne.Wide,ge.Standalone);break;case"ccccc":e=Pt(mt.Days,ne.Narrow,ge.Standalone);break;case"cccccc":e=Pt(mt.Days,ne.Short,ge.Standalone);break;case"E":case"EE":case"EEE":e=Pt(mt.Days,ne.Abbreviated);break;case"EEEE":e=Pt(mt.Days,ne.Wide);break;case"EEEEE":e=Pt(mt.Days,ne.Narrow);break;case"EEEEEE":e=Pt(mt.Days,ne.Short);break;case"a":case"aa":case"aaa":e=Pt(mt.DayPeriods,ne.Abbreviated);break;case"aaaa":e=Pt(mt.DayPeriods,ne.Wide);break;case"aaaaa":e=Pt(mt.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":e=Pt(mt.DayPeriods,ne.Abbreviated,ge.Standalone,!0);break;case"bbbb":e=Pt(mt.DayPeriods,ne.Wide,ge.Standalone,!0);break;case"bbbbb":e=Pt(mt.DayPeriods,ne.Narrow,ge.Standalone,!0);break;case"B":case"BB":case"BBB":e=Pt(mt.DayPeriods,ne.Abbreviated,ge.Format,!0);break;case"BBBB":e=Pt(mt.DayPeriods,ne.Wide,ge.Format,!0);break;case"BBBBB":e=Pt(mt.DayPeriods,ne.Narrow,ge.Format,!0);break;case"h":e=ot(et.Hours,1,-12);break;case"hh":e=ot(et.Hours,2,-12);break;case"H":e=ot(et.Hours,1);break;case"HH":e=ot(et.Hours,2);break;case"m":e=ot(et.Minutes,1);break;case"mm":e=ot(et.Minutes,2);break;case"s":e=ot(et.Seconds,1);break;case"ss":e=ot(et.Seconds,2);break;case"S":e=ot(et.FractionalSeconds,1);break;case"SS":e=ot(et.FractionalSeconds,2);break;case"SSS":e=ot(et.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ie(Ut.Short);break;case"ZZZZZ":e=Ie(Ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ie(Ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ie(Ut.Long);break;default:return null}return $[n]=e,e}(x);D+=P?P(o,t,E):"''"===x?"'":x.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function Oi(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ft(n,e){const t=function Zt(n){return(0,d.cg1)(n)[d.wAp.LocaleId]}(n);if(vs[t]=vs[t]||{},vs[t][e])return vs[t][e];let r="";switch(e){case"shortDate":r=Xt(n,Me.Short);break;case"mediumDate":r=Xt(n,Me.Medium);break;case"longDate":r=Xt(n,Me.Long);break;case"fullDate":r=Xt(n,Me.Full);break;case"shortTime":r=ji(n,Me.Short);break;case"mediumTime":r=ji(n,Me.Medium);break;case"longTime":r=ji(n,Me.Long);break;case"fullTime":r=ji(n,Me.Full);break;case"short":const o=Ft(n,"shortTime"),u=Ft(n,"shortDate");r=Ks(Wt(n,Me.Short),[o,u]);break;case"medium":const f=Ft(n,"mediumTime"),m=Ft(n,"mediumDate");r=Ks(Wt(n,Me.Medium),[f,m]);break;case"long":const E=Ft(n,"longTime"),D=Ft(n,"longDate");r=Ks(Wt(n,Me.Long),[E,D]);break;case"full":const x=Ft(n,"fullTime"),P=Ft(n,"fullDate");r=Ks(Wt(n,Me.Full),[x,P])}return r&&(vs[t][e]=r),r}function Ks(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function dr(n,e,t="-",r,o){let u="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,u=t));let f=String(n);for(;f.length<e;)f="0"+f;return r&&(f=f.substr(f.length-e)),u+f}function ot(n,e,t=0,r=!1,o=!1){return function(u,f){let m=function hr(n,e){switch(n){case et.FullYear:return e.getFullYear();case et.Month:return e.getMonth();case et.Date:return e.getDate();case et.Hours:return e.getHours();case et.Minutes:return e.getMinutes();case et.Seconds:return e.getSeconds();case et.FractionalSeconds:return e.getMilliseconds();case et.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||m>-t)&&(m+=t),n===et.Hours)0===m&&-12===t&&(m=12);else if(n===et.FractionalSeconds)return function rr(n,e){return dr(n,3).substr(0,e)}(m,e);const E=Vt(f,se.MinusSign);return dr(m,e,E,r,o)}}function Pt(n,e,t=ge.Format,r=!1){return function(o,u){return function ze(n,e,t,r,o,u){switch(t){case mt.Months:return function dt(n,e,t){const r=(0,d.cg1)(n),u=zn([r[d.wAp.MonthsFormat],r[d.wAp.MonthsStandalone]],e);return zn(u,t)}(e,o,r)[n.getMonth()];case mt.Days:return function rt(n,e,t){const r=(0,d.cg1)(n),u=zn([r[d.wAp.DaysFormat],r[d.wAp.DaysStandalone]],e);return zn(u,t)}(e,o,r)[n.getDay()];case mt.DayPeriods:const f=n.getHours(),m=n.getMinutes();if(u){const D=function Hi(n){const e=(0,d.cg1)(n);return $i(e),(e[d.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Vn(r):[Vn(r[0]),Vn(r[1])])}(e),x=function st(n,e,t){const r=(0,d.cg1)(n);$i(r);const u=zn([r[d.wAp.ExtraData][0],r[d.wAp.ExtraData][1]],e)||[];return zn(u,t)||[]}(e,o,r),P=D.findIndex(H=>{if(Array.isArray(H)){const[W,fe]=H,ke=f>=W.hours&&m>=W.minutes,tt=f<fe.hours||f===fe.hours&&m<fe.minutes;if(W.hours<fe.hours){if(ke&&tt)return!0}else if(ke||tt)return!0}else if(H.hours===f&&H.minutes===m)return!0;return!1});if(-1!==P)return x[P]}return function Sn(n,e,t){const r=(0,d.cg1)(n),u=zn([r[d.wAp.DayPeriodsFormat],r[d.wAp.DayPeriodsStandalone]],e);return zn(u,t)}(e,o,r)[f<12?0:1];case mt.Eras:return function on(n,e){return zn((0,d.cg1)(n)[d.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,u,n,e,t,r)}}function Ie(n){return function(e,t,r){const o=-1*r,u=Vt(t,se.MinusSign),f=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case Ut.Short:return(o>=0?"+":"")+dr(f,2,u)+dr(Math.abs(o%60),2,u);case Ut.ShortGMT:return"GMT"+(o>=0?"+":"")+dr(f,1,u);case Ut.Long:return"GMT"+(o>=0?"+":"")+dr(f,2,u)+":"+dr(Math.abs(o%60),2,u);case Ut.Extended:return 0===r?"Z":(o>=0?"+":"")+dr(f,2,u)+":"+dr(Math.abs(o%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Mt(n){return Oi(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function U(n,e=!1){return function(t,r){let o;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,f=t.getDate();o=1+Math.floor((f+u)/7)}else{const u=Mt(t),f=function Nt(n){const e=Oi(n,0,1).getDay();return Oi(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),m=u.getTime()-f.getTime();o=1+Math.round(m/6048e5)}return dr(o,n,Vt(r,se.MinusSign))}}function L(n,e=!1){return function(t,r){return dr(Mt(t).getFullYear(),n,Vt(r,se.MinusSign),e)}}const $={};function Y(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Bt(n){return n instanceof Date&&!isNaN(n.valueOf())}let bs=(()=>{class n{constructor(t,r,o,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=o,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Cs{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,f)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Cs(o.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,f),qi(m,o)}});for(let o=0,u=r.length;o<u;o++){const m=r.get(o).context;m.index=o,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{qi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function qi(n,e){n.context.$implicit=e.item}let Mr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new tn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class tn{constructor(){this.$implicit=null,this.ngIf=null}}function nu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}const Sp=new d.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Hc=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",o,u){var f;if(null==t||""===t||t!=t)return null;try{return nr(t,r,u||this.locale,null!==(f=null!=o?o:this.defaultTimezone)&&void 0!==f?f:void 0)}catch(m){throw function kn(n,e){return new d.vHH(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.soG,16),d.Y36(Sp,24))},n.\u0275pipe=d.Yjl({name:"date",type:n,pure:!0}),n})(),Ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function sr(n){return"server"===n}let cu=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new du((0,d.LFG)(ie),window)}),n})();class du{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function da(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const f=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(f)return f}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Wi(this.window.history)||Wi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Wi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ss extends class No extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function J(n){K||(K=n)}(new Ss)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zc(){return nn=nn||document.querySelector("base"),nn?nn.getAttribute("href"):null}();return null==t?null:function eo(n){Xs=Xs||document.createElement("a"),Xs.setAttribute("href",n);const e=Xs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){nn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Xs,nn=null;const pr=new d.OlP("TRANSITION_ID"),ha=[{provide:d.ip1,useFactory:function xn(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=R(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[pr,ie,d.zs3],multi:!0}];class bi{static init(){(0,d.VLi)(new bi)}addToWindow(e){d.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const o=d.dqk.getAllAngularTestabilities();let u=o.length,f=!1;const m=function(E){f=f||E,u--,0==u&&r(f)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let gr=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ms=new d.OlP("EventManagerPlugins");let Ki=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const f=o[u];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ms),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class hu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=R().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let jr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),xs=(()=>{class n extends jr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const f=this._doc.createElement("style");f.textContent=u,o.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Os),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Os))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Os(n){R().remove(n)}const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fu=/%COMP%/g;function Ee(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ee(n,o,t):(o=o.replace(fu,n),t.push(o))}return t}function xt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mn=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new ko(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case d.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new fl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case d.ifc.ShadowDom:return new pl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ee(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ki),d.LFG(xs),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ko{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ut[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=ut[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=ut[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,o&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xt(r)):this.eventManager.addEventListener(e,t,xt(r))}}class fl extends ko{constructor(e,t,r,o){super(e),this.component=r;const u=Ee(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function cl(n){return"_ngcontent-%COMP%".replace(fu,n)}(o+"-"+r.id),this.hostAttr=function dl(n){return"_nghost-%COMP%".replace(fu,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class pl extends ko{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ee(o.id,o.styles,[]);for(let f=0;f<u.length;f++){const m=document.createElement("style");m.textContent=u[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Wc=(()=>{class n extends hu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const gl=["alt","control","meta","shift"],Ps={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},or={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ui={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _u=(()=>{class n extends hu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),f=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,u.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let f="";if(gl.forEach(E=>{const D=r.indexOf(E);D>-1&&(r.splice(D,1),f+=E+".")}),f+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=o,m.fullKey=f,m}static getEventFullKey(t){let r="",o=function Rs(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&or.hasOwnProperty(e)&&(e=or[e]))}return Ps[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),gl.forEach(u=>{u!=o&&ui[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ie))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const yl=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Ci(){Ss.makeCurrent(),bi.init()},multi:!0},{provide:ie,useFactory:function vu(){return(0,d.RDi)(document),document},deps:[]}]),pa=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function ml(){return new d.qLn},deps:[]},{provide:Ms,useClass:Wc,multi:!0,deps:[ie,d.R0b,d.Lbi]},{provide:Ms,useClass:_u,multi:!0,deps:[ie]},{provide:mn,useClass:mn,deps:[Ki,xs,d.AFp]},{provide:d.FYo,useExisting:mn},{provide:jr,useExisting:xs},{provide:xs,useClass:xs,deps:[ie]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:Ki,useClass:Ki,deps:[Ms,d.R0b]},{provide:class dn{},useClass:gr,deps:[]}];let ga=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:pr,useExisting:d.AFp},ha]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:pa,imports:[Ro,d.hGG]}),n})();"undefined"!=typeof window&&window;var On=k(8996),yn=k(8306);const{isArray:Dl}=Array,{getPrototypeOf:Ji,prototype:Tl,keys:ya}=Object;function so(n){if(1===n.length){const e=n[0];if(Dl(e))return{args:e,keys:null};if(function rd(n){return n&&"object"==typeof n&&Ji(n)===Tl}(e)){const t=ya(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Yt=k(8421),Vo=k(7669),_n=k(5403),It=k(4004);const{isArray:Fs}=Array;function Al(n){return(0,It.U)(e=>function Pp(n,e){return Fs(e)?n(...e):n(e)}(n,e))}function bu(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}let oo=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),li=(()=>{class n extends oo{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const Bn=new d.OlP("NgValueAccessor"),ao={provide:Bn,useExisting:(0,d.Gpc)(()=>Xi),multi:!0},uo=new d.OlP("CompositionEventMode");let Xi=(()=>{class n extends oo{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sl(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(uo,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[d._Bn([ao]),d.qOj]}),n})();const jn=new d.OlP("NgValidators"),lo=new d.OlP("NgAsyncValidators");function di(n){return null!=n}function sd(n){const e=(0,d.QGY)(n)?(0,On.D)(n):n;return(0,d.CqO)(e),e}function Cu(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ho(n,e){return e.map(t=>t(n))}function Nh(n){return n.map(e=>function Iu(n){return!n.validate}(e)?e:t=>e.validate(t))}function od(n){return null!=n?function Dn(n){if(!n)return null;const e=n.filter(di);return 0==e.length?null:function(t){return Cu(ho(t,e))}}(Nh(n)):null}function ad(n){return null!=n?function Rp(n){if(!n)return null;const e=n.filter(di);return 0==e.length?null:function(t){return function Rh(...n){const e=(0,Vo.jO)(n),{args:t,keys:r}=so(n),o=new yn.y(u=>{const{length:f}=t;if(!f)return void u.complete();const m=new Array(f);let E=f,D=f;for(let x=0;x<f;x++){let P=!1;(0,Yt.Xf)(t[x]).subscribe((0,_n.x)(u,H=>{P||(P=!0,D--),m[x]=H},()=>E--,void 0,()=>{(!E||!P)&&(D||u.next(r?bu(r,m):m),u.complete())}))}});return e?o.pipe(Al(e)):o}(ho(t,e).map(sd)).pipe((0,It.U)(Cu))}}(Nh(n)):null}function Pl(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ud(n){return n._rawValidators}function kh(n){return n._rawAsyncValidators}function ld(n){return n?Array.isArray(n)?n:[n]:[]}function Ri(n,e){return Array.isArray(n)?n.includes(e):n===e}function Fh(n,e){const t=ld(e);return ld(n).forEach(o=>{Ri(t,o)||t.push(o)}),t}function wn(n,e){return ld(e).filter(t=>!Ri(n,t))}class Du{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=od(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ad(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Gr extends Du{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class xr extends Du{get formDirective(){return null}get path(){return null}}class Tu{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}let Bo=(()=>{class n extends Tu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Gr,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[d.qOj]}),n})(),hi=(()=>{class n extends Tu{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(xr,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[d.qOj]}),n})();function Au(n,e){return[...e.path,n]}function yr(n,e){is(n,e),e.valueAccessor.writeValue(n.value),function kl(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&I(n,e)})}(n,e),function M(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function C(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&I(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Nl(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ia(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Vs(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function jo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function is(n,e){const t=ud(n);null!==e.validator?n.setValidators(Pl(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=kh(n);null!==e.asyncValidator?n.setAsyncValidators(Pl(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();jo(e._rawValidators,o),jo(e._rawAsyncValidators,o)}function Vs(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=ud(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=kh(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(f=>f!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return jo(e._rawValidators,r),jo(e._rawAsyncValidators,r),t}function I(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F(n,e){is(n,e)}function qe(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function yt(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function kt(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===Xi?t=u:function Je(n){return Object.getPrototypeOf(n.constructor)===li}(u)?r=u:o=u}),o||r||t||null}function vt(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ni="VALID",po="INVALID",_r="PENDING",vr="DISABLED";function ss(n){return(go(n)?n.validators:n)||null}function jh(n){return Array.isArray(n)?od(n):n||null}function hd(n,e){return(go(e)?e.asyncValidators:n)||null}function Fl(n){return Array.isArray(n)?ad(n):n||null}function go(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const $h=n=>n instanceof $o,Hh=n=>n instanceof yo;function mo(n){return $h(n)?n.value:n.getRawValue()}function Su(n,e){const t=Hh(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new d.vHH(1e3,"");if(!r[e])throw new d.vHH(1001,"")}function Np(n,e){Hh(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new d.vHH(1002,"")})}class Gh{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=jh(this._rawValidators),this._composedAsyncValidatorFn=Fl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ni}get invalid(){return this.status===po}get pending(){return this.status==_r}get disabled(){return this.status===vr}get enabled(){return this.status!==vr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=jh(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Fl(e)}addValidators(e){this.setValidators(Fh(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Fh(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wn(e,this._rawAsyncValidators))}hasValidator(e){return Ri(this._rawValidators,e)}hasAsyncValidator(e){return Ri(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=_r,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vr,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ni,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ni||this.status===_r)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vr:Ni}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=_r,this._hasOwnPendingAsyncValidator=!0;const t=sd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Us(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=Hh(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof g0)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?vr:this.errors?po:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_r)?_r:this._anyControlsHaveStatus(po)?po:Ni}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){go(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class $o extends Gh{constructor(e=null,t,r){super(ss(t),hd(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),go(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vt(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vt(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class yo extends Gh{constructor(e,t,r){super(ss(t),hd(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Np(this,e),Object.keys(e).forEach(r=>{Su(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=mo(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class g0 extends Gh{constructor(e,t,r){super(ss(t),hd(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Np(this,e),e.forEach((r,o)=>{Su(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>mo(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Ey={provide:xr,useExisting:(0,d.Gpc)(()=>fd)},Ll=(()=>Promise.resolve(null))();let fd=(()=>{class n extends xr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new d.vpe,this.form=new yo({},od(t),ad(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ll.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),yr(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ll.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Ll.then(()=>{const r=this._findContainer(t.path),o=new yo({});F(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ll.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Ll.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,yt(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(jn,10),d.Y36(lo,10))},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Ey]),d.qOj]}),n})();const qh={provide:Gr,useExisting:(0,d.Gpc)(()=>pd)},zh=(()=>Promise.resolve(null))();let pd=(()=>{class n extends Gr{constructor(t,r,o,u,f){super(),this._changeDetectorRef=f,this.control=new $o,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=kt(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),qe(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){zh.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;zh.then(()=>{var u;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?Au(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(xr,9),d.Y36(jn,10),d.Y36(lo,10),d.Y36(Bn,10),d.Y36(d.sBO,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([qh]),d.qOj,d.TTD]}),n})(),Da=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),gd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const Up=new d.OlP("NgModelWithFormControlWarning"),Dy={provide:xr,useExisting:(0,d.Gpc)(()=>Mu)};let Mu=(()=>{class n extends xr{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vs(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return yr(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ia(t.control||null,t,!1),vt(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,yt(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(Ia(r||null,t),$h(o)&&(yr(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);F(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function z(n,e){return Vs(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){is(this.form,this),this._oldForm&&Vs(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(jn,10),d.Y36(lo,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([Dy]),d.qOj,d.TTD]}),n})();const v0={provide:Gr,useExisting:(0,d.Gpc)(()=>$l)};let $l=(()=>{class n extends Gr{constructor(t,r,o,u,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=kt(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),qe(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Au(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(xr,13),d.Y36(jn,10),d.Y36(lo,10),d.Y36(Bn,10),d.Y36(Up,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([v0]),d.qOj,d.TTD]}),n})(),Yp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[gd]]}),n})(),b0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Yp]}),n})(),C0=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Up,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Yp]}),n})();function pt(...n){const e=(0,Vo.yG)(n);return(0,On.D)(n,e)}var Bs=k(7579);class gn extends Bs.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var as=k(4671),rf=k(9672);function Cd(n,e,t){n?(0,rf.f)(t,n,e):e()}var sf=k(576);function Sa(n,e){const t=(0,sf.m)(n)?n:()=>n,r=o=>o.error(t());return new yn.y(e?o=>e.schedule(r,0,o):r)}const ql=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var zl=k(8189);function Fi(...n){return function Py(){return(0,zl.J)(1)}()((0,On.D)(n,(0,Vo.yG)(n)))}function af(n){return new yn.y(e=>{(0,Yt.Xf)(n()).subscribe(e)})}var Pu=k(515),Id=k(727),Ai=k(4482);function uf(){return(0,Ai.e)((n,e)=>{let t=null;n._refCount++;const r=(0,_n.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class wr extends yn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ai.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Id.w0;const t=this.getSubject();e.add(this.source.subscribe((0,_n.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Id.w0.EMPTY)}return e}refCount(){return uf()(this)}}function Er(n,e){return(0,Ai.e)((t,r)=>{let o=null,u=0,f=!1;const m=()=>f&&!o&&r.complete();t.subscribe((0,_n.x)(r,E=>{null==o||o.unsubscribe();let D=0;const x=u++;(0,Yt.Xf)(n(E,x)).subscribe(o=(0,_n.x)(r,P=>r.next(e?e(E,P,x,D++):P),()=>{o=null,m()}))},()=>{f=!0,m()}))})}var Zl=k(5698);function Dd(...n){const e=(0,Vo.yG)(n);return(0,Ai.e)((t,r)=>{(e?Fi(n,t,e):Fi(n,t)).subscribe(r)})}function _o(n,e,t,r,o){return(u,f)=>{let m=t,E=e,D=0;u.subscribe((0,_n.x)(f,x=>{const P=D++;E=m?n(E,x,P):(m=!0,x),r&&f.next(E)},o&&(()=>{m&&f.next(E),f.complete()})))}}function vo(n,e){return(0,Ai.e)(_o(n,e,arguments.length>=2,!0))}function us(n,e){return(0,Ai.e)((t,r)=>{let o=0;t.subscribe((0,_n.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function wo(n){return(0,Ai.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,_n.x)(t,void 0,void 0,f=>{u=(0,Yt.Xf)(n(f,wo(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var Pr=k(5577);function Ma(n,e){return(0,sf.m)(e)?(0,Pr.z)(n,e,1):(0,Pr.z)(n,1)}function lf(n){return n<=0?()=>Pu.E:(0,Ai.e)((e,t)=>{let r=[];e.subscribe((0,_n.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Qp(n=Ry){return(0,Ai.e)((e,t)=>{let r=!1;e.subscribe((0,_n.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Ry(){return new ql}function Jp(n){return(0,Ai.e)((e,t)=>{let r=!1;e.subscribe((0,_n.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function h(n,e){const t=arguments.length>=2;return r=>r.pipe(n?us((o,u)=>n(o,u,r)):as.y,(0,Zl.q)(1),t?Jp(e):Qp(()=>new ql))}var p=k(8505);class T{constructor(e,t){this.id=e,this.url=t}}class O extends T{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class G extends T{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class re extends T{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Le extends T{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ke extends T{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ft extends T{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class it extends T{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Tn extends T{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Li extends T{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ru{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wl{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kl{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cf{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ny{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Go{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yl{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ot="primary";class df{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Eo(n){return new df(n)}const Xp="ngNavigationCancelingError";function Ql(n){const e=Error("NavigationCancelingError: "+n);return e[Xp]=!0,e}function oC(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const f=r[u],m=n[u];if(f.startsWith(":"))o[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function qo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Fy(n[o],e[o]))return!1;return!0}function Fy(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function eg(n){return Array.prototype.concat.apply([],n)}function Ly(n){return n.length>0?n[n.length-1]:null}function Wr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function zo(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,On.D)(Promise.resolve(n)):pt(n)}const T0={exact:function S0(n,e,t){if(!Zo(n.segments,e.segments)||!hf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!S0(n.children[r],e.children[r],t))return!1;return!0},subset:M0},Nu={exact:function A0(n,e){return qo(n,e)},subset:function tg(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Fy(n[t],e[t]))},ignored:()=>!0};function Vy(n,e,t){return T0[t.paths](n.root,e.root,t.matrixParams)&&Nu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function M0(n,e,t){return Uy(n,e,e.segments,t)}function Uy(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Zo(o,t)||e.hasChildren()||!hf(o,t,r))}if(n.segments.length===t.length){if(!Zo(n.segments,t)||!hf(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!M0(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Zo(n.segments,o)&&hf(n.segments,o,r)&&n.children[Ot])&&Uy(n.children[Ot],e,u,r)}}function hf(n,e,t){return e.every((r,o)=>Nu[t](n[o].parameters,r.parameters))}class ku{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eo(this.queryParams)),this._queryParamMap}toString(){return jy.serialize(this)}}class jt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fu(this)}}class Td{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Eo(this.parameters)),this._parameterMap}toString(){return lC(this)}}function Zo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class rg{}class By{parse(e){const t=new fC(e);return new ku(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ff(e.root,!0)}`,r=function cC(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${ig(t)}=${ig(o)}`).join("&"):`${ig(t)}=${ig(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function uC(n){return encodeURI(n)}(e.fragment)}`:""}`}}const jy=new By;function Fu(n){return n.segments.map(e=>lC(e)).join("/")}function ff(n,e){if(!n.hasChildren())return Fu(n);if(e){const t=n.children[Ot]?ff(n.children[Ot],!1):"",r=[];return Wr(n.children,(o,u)=>{u!==Ot&&r.push(`${u}:${ff(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function x0(n,e){let t=[];return Wr(n.children,(r,o)=>{o===Ot&&(t=t.concat(e(r,o)))}),Wr(n.children,(r,o)=>{o!==Ot&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Ot?[ff(n.children[Ot],!1)]:[`${o}:${ff(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${Fu(n)}/${t[0]}`:`${Fu(n)}/(${t.join("//")})`}}function $y(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ig(n){return $y(n).replace(/%3B/gi,";")}function sg(n){return $y(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ad(n){return decodeURIComponent(n)}function Hy(n){return Ad(n.replace(/\+/g,"%20"))}function lC(n){return`${sg(n.path)}${function O0(n){return Object.keys(n).map(e=>`;${sg(e)}=${sg(n[e])}`).join("")}(n.parameters)}`}const P0=/^[^\/()?;=#]+/;function og(n){const e=n.match(P0);return e?e[0]:""}const dC=/^[^=?&#]+/,hC=/^[^&#]+/;class fC{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new jt(e,t)),r}parseSegment(){const e=og(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Td(Ad(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=og(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=og(this.remaining);o&&(r=o,this.capture(r))}e[Ad(t)]=Ad(r)}parseQueryParam(e){const t=function bo(n){const e=n.match(dC);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function R0(n){const e=n.match(hC);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const o=Hy(t),u=Hy(r);if(e.hasOwnProperty(o)){let f=e[o];Array.isArray(f)||(f=[f],e[o]=f),f.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=og(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ot);const f=this.parseChildren();t[u]=1===Object.keys(f).length?f[Ot]:new jt([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class N0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Gy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Gy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=qy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return qy(e,this._root).map(t=>t.value)}}function Gy(n,e){if(n===e.value)return e;for(const t of e.children){const r=Gy(n,t);if(r)return r}return null}function qy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=qy(n,t);if(r.length)return r.unshift(e),r}return[]}class Wo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Sd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class k0 extends N0{constructor(e,t){super(e),this.snapshot=t,ag(this,e)}toString(){return this.snapshot.toString()}}function F0(n,e){const t=function Tt(n,e){const f=new Xl([],{},{},"",{},Ot,e,null,n.root,-1,{});return new js("",new Wo(f,[]))}(n,e),r=new gn([new Td("",{})]),o=new gn({}),u=new gn({}),f=new gn({}),m=new gn(""),E=new Jl(r,o,f,m,u,Ot,e,t.root);return E.snapshot=t.root,new k0(new Wo(E,[]),t)}class Jl{constructor(e,t,r,o,u,f,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=f,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,It.U)(e=>Eo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,It.U)(e=>Eo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function zy(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function L0(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Xl{constructor(e,t,r,o,u,f,m,E,D,x,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=f,this.component=m,this.routeConfig=E,this._urlSegment=D,this._lastPathIndex=x,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class js extends N0{constructor(e,t){super(t),this.url=e,ag(this,t)}toString(){return V0(this._root)}}function ag(n,e){e.value._routerState=n,e.children.forEach(t=>ag(n,t))}function V0(n){const e=n.children.length>0?` { ${n.children.map(V0).join(", ")} } `:"";return`${n.value}${e}`}function pf(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,qo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),qo(e.params,t.params)||n.params.next(t.params),function aC(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!qo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),qo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Co(n,e){const t=qo(n.params,e.params)&&function ng(n,e){return Zo(n,e)&&n.every((t,r)=>qo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Co(n.parent,e.parent))}function Md(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Wy(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Md(n,r,o);return Md(n,r)})}(n,e,t);return new Wo(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const f=u.route;return f.value._futureSnapshot=e.value,f.children=e.children.map(m=>Md(n,m)),f}}const r=function YT(n){return new Jl(new gn(n.url),new gn(n.params),new gn(n.queryParams),new gn(n.fragment),new gn(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Md(n,u));return new Wo(r,o)}}function Ky(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lu(n){return"object"==typeof n&&null!=n&&n.outlets}function xd(n,e,t,r,o){let u={};return r&&Wr(r,(f,m)=>{u[m]=Array.isArray(f)?f.map(E=>`${E}`):`${f}`}),new ku(t.root===n?e:ug(t.root,n,e),u,o)}function ug(n,e,t){const r={};return Wr(n.children,(o,u)=>{r[u]=o===e?t:ug(o,e,t)}),new jt(n.segments,r)}class lg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ky(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Lu);if(o&&o!==Ly(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class B0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function j0(n,e,t){if(n||(n=new jt([],{})),0===n.segments.length&&n.hasChildren())return gf(n,e,t);const r=function QT(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const f=n.segments[o],m=t[r];if(Lu(m))break;const E=`${m}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&D&&"object"==typeof D&&void 0===D.outlets){if(!Xy(E,D,f))return u;r+=2}else{if(!Xy(E,{},f))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new jt(n.segments.slice(0,r.pathIndex),{});return u.children[Ot]=new jt(n.segments.slice(r.pathIndex),n.children),gf(u,0,o)}return r.match&&0===o.length?new jt(n.segments,{}):r.match&&!n.hasChildren()?Qy(n,e,t):r.match?gf(n,0,o):Qy(n,e,t)}function gf(n,e,t){if(0===t.length)return new jt(n.segments,{});{const r=function mC(n){return Lu(n[0])?n[0].outlets:{[Ot]:n}}(t),o={};return Wr(r,(u,f)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[f]=j0(n.children[f],e,u))}),Wr(n.children,(u,f)=>{void 0===r[f]&&(o[f]=u)}),new jt(n.segments,o)}}function Qy(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Lu(u)){const E=JT(u.outlets);return new jt(r,E)}if(0===o&&Ky(t[0])){r.push(new Td(n.segments[e].path,Jy(t[0]))),o++;continue}const f=Lu(u)?u.outlets[Ot]:`${u}`,m=o<t.length-1?t[o+1]:null;f&&m&&Ky(m)?(r.push(new Td(f,Jy(m))),o+=2):(r.push(new Td(f,{})),o++)}return new jt(r,{})}function JT(n){const e={};return Wr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Qy(new jt([],{}),0,t))}),e}function Jy(n){const e={};return Wr(n,(t,r)=>e[r]=`${t}`),e}function Xy(n,e,t){return n==t.path&&qo(e,t.parameters)}class e_{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),pf(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Sd(t);e.children.forEach(u=>{const f=u.value.outlet;this.deactivateRoutes(u,o[f],r),delete o[f]}),Wr(o,(u,f)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const f=r.getContext(o.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Sd(e);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);if(r&&r.outlet){const f=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:f,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Sd(e);for(const f of Object.keys(u))this.deactivateRouteAndItsChildren(u[f],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Sd(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Go(u.value.snapshot))}),e.children.length&&this.forwardEvent(new cf(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(pf(o),o===u)if(o.component){const f=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const f=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),pf(m.route.value),this.activateChildRoutes(e,null,f.children)}else{const m=function XT(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=o,f.resolver=E,f.outlet&&f.outlet.activateWith(o,E),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}class $0{constructor(e,t){this.routes=e,this.module=t}}function ec(n){return"function"==typeof n}function Od(n){return n instanceof ku}const cg=Symbol("INITIAL_VALUE");function $s(){return Er(n=>function Ti(...n){const e=(0,Vo.yG)(n),t=(0,Vo.jO)(n),{args:r,keys:o}=so(n);if(0===r.length)return(0,On.D)([],e);const u=new yn.y(function Gl(n,e,t=as.y){return r=>{Cd(e,()=>{const{length:o}=n,u=new Array(o);let f=o,m=o;for(let E=0;E<o;E++)Cd(e,()=>{const D=(0,On.D)(n[E],e);let x=!1;D.subscribe((0,_n.x)(r,P=>{u[E]=P,x||(x=!0,m--),m||r.next(t(u.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,e,o?f=>bu(o,f):as.y));return t?u.pipe(Al(t)):u}(n.map(e=>e.pipe((0,Zl.q)(1),Dd(cg)))).pipe(vo((e,t)=>{let r=!1;return t.reduce((o,u,f)=>o!==cg?o:(u===cg&&(r=!0),r||!1!==u&&f!==t.length-1&&!Od(u)?o:u),e)},cg),us(e=>e!==cg),(0,It.U)(e=>Od(e)?e:!0===e),(0,Zl.q)(1)))}class t_{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new mf,this.attachRef=null}}class mf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new t_,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let yf=(()=>{class n{constructor(t,r,o,u,f){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=u||Ot,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new n_(t,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(mf),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class n_{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jl?this.route:e===mf?this.childContexts:this.parent.get(e,t)}}let r_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[yf],encapsulation:2}),n})();function dg(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];_C(r,Vu(e,r))}}function _C(n,e){n.children&&dg(n.children,e)}function Vu(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function hg(n){const e=n.children&&n.children.map(hg),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=r_),t}function Hs(n){return n.outlet||Ot}function fg(n,e){const t=n.filter(r=>Hs(r)===e);return t.push(...n.filter(r=>Hs(r)!==e)),t}const H0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function _f(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},H0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||oC)(t,n,e);if(!u)return Object.assign({},H0);const f={};Wr(u.posParams,(E,D)=>{f[D]=E.path});const m=u.consumed.length>0?Object.assign(Object.assign({},f),u.consumed[u.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function pg(n,e,t,r,o="corrected"){if(t.length>0&&function Pd(n,e,t){return t.some(r=>xa(n,e,r)&&Hs(r)!==Ot)}(n,t,r)){const f=new jt(e,function vf(n,e,t,r){const o={};o[Ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Hs(u)!==Ot){const f=new jt([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[Hs(u)]=f}return o}(n,e,r,new jt(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function i_(n,e,t){return t.some(r=>xa(n,e,r))}(n,t,r)){const f=new jt(n.segments,function vC(n,e,t,r,o,u){const f={};for(const m of r)if(xa(n,t,m)&&!o[Hs(m)]){const E=new jt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,f[Hs(m)]=E}return Object.assign(Object.assign({},o),f)}(n,e,t,r,n.children,o));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const u=new jt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function xa(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Rd(n,e,t,r){return!!(Hs(n)===r||r!==Ot&&xa(e,t,n))&&("**"===n.path||_f(e,n,t).matched)}function tc(n,e,t){return 0===e.length&&!n.children[t]}class gg{constructor(e){this.segmentGroup=e||null}}class s_{constructor(e){this.urlTree=e}}function Nd(n){return Sa(new gg(n))}function mg(n){return Sa(new s_(n))}class wC{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(d.h0i)}apply(){const e=pg(this.urlTree.root,[],[],this.config).segmentGroup,t=new jt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Ot).pipe((0,It.U)(u=>this.createUrlTree(z0(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wo(u=>{if(u instanceof s_)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof gg?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Ot).pipe((0,It.U)(o=>this.createUrlTree(z0(o),e.queryParams,e.fragment))).pipe(wo(o=>{throw o instanceof gg?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new jt([],{[Ot]:e}):e;return new ku(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,It.U)(u=>new jt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,On.D)(o).pipe(Ma(u=>{const f=r.children[u],m=fg(t,u);return this.expandSegmentGroup(e,m,f,u).pipe((0,It.U)(E=>({segment:E,outlet:u})))}),vo((u,f)=>(u[f.outlet]=f.segment,u),{}),function y(n,e){const t=arguments.length>=2;return r=>r.pipe(n?us((o,u)=>n(o,u,r)):as.y,lf(1),t?Jp(e):Qp(()=>new ql))}())}expandSegment(e,t,r,o,u,f){return(0,On.D)(r).pipe(Ma(m=>this.expandSegmentAgainstRoute(e,t,r,m,o,u,f).pipe(wo(D=>{if(D instanceof gg)return pt(null);throw D}))),h(m=>!!m),wo((m,E)=>{if(m instanceof ql||"EmptyError"===m.name)return tc(t,o,u)?pt(new jt([],{})):Nd(t);throw m}))}expandSegmentAgainstRoute(e,t,r,o,u,f,m){return Rd(o,t,u,f)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,f):Nd(t):Nd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,f){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?mg(u):this.lineralizeSegments(r,u).pipe((0,Pr.z)(f=>{const m=new jt(f,{});return this.expandSegment(e,m,t,f,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,f){const{matched:m,consumedSegments:E,remainingSegments:D,positionalParamSegments:x}=_f(t,o,u);if(!m)return Nd(t);const P=this.applyRedirectCommands(E,o.redirectTo,x);return o.redirectTo.startsWith("/")?mg(P):this.lineralizeSegments(o,P).pipe((0,Pr.z)(H=>this.expandSegment(e,t,r,H.concat(D),f,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?pt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,It.U)(P=>(r._loadedConfig=P,new jt(o,{})))):pt(new jt(o,{}));const{matched:f,consumedSegments:m,remainingSegments:E}=_f(t,r,o);return f?this.getChildConfig(e,r,o).pipe((0,Pr.z)(x=>{const P=x.module,H=x.routes,{segmentGroup:W,slicedSegments:fe}=pg(t,m,E,H),ke=new jt(W.segments,W.children);if(0===fe.length&&ke.hasChildren())return this.expandChildren(P,H,ke).pipe((0,It.U)(bn=>new jt(m,bn)));if(0===H.length&&0===fe.length)return pt(new jt(m,{}));const tt=Hs(r)===u;return this.expandSegment(P,ke,H,fe,tt?Ot:u,!0).pipe((0,It.U)(ct=>new jt(m.concat(ct.segments),ct.children)))})):Nd(t)}getChildConfig(e,t,r){return t.children?pt(new $0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?pt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Pr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,It.U)(u=>(t._loadedConfig=u,u))):function G0(n){return Sa(Ql(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):pt(new $0([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?pt(o.map(f=>{const m=e.get(f);let E;if(function tA(n){return n&&ec(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!ec(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return zo(E)})).pipe($s(),(0,p.b)(f=>{if(!Od(f))return;const m=Ql(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,It.U)(f=>!0===f)):pt(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return pt(r);if(o.numberOfChildren>1||!o.children[Ot])return Sa(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new ku(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Wr(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[u]=t[m]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let f={};return Wr(t.children,(m,E)=>{f[E]=this.createSegmentGroup(e,m,r,o)}),new jt(u,f)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function z0(n){const e={};for(const r of Object.keys(n.children)){const u=z0(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function q0(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new jt(n.segments.concat(e.segments),e.children)}return n}(new jt(n.segments,e))}class a_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _g{constructor(e,t){this.component=e,this.route=t}}function W0(n,e,t){const r=n._root;return wf(r,e?e._root:null,t,[r.value])}function vg(n,e,t){const r=function ls(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function wf(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Sd(e);return n.children.forEach(f=>{(function bC(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,f=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(f&&u.routeConfig===f.routeConfig){const E=function sA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Zo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zo(n.url,e.url)||!qo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Co(n,e)||!qo(n.queryParams,e.queryParams);default:return!Co(n,e)}}(f,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new a_(r)):(u.data=f.data,u._resolvedData=f._resolvedData),wf(n,e,u.component?m?m.children:null:t,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new _g(m.outlet.component,f))}else f&&wg(e,m,o),o.canActivateChecks.push(new a_(r)),wf(n,null,u.component?m?m.children:null:t,r,o)})(f,u[f.value.outlet],t,r.concat([f.value]),o),delete u[f.value.outlet]}),Wr(u,(f,m)=>wg(f,t.getContext(m),o)),o}function wg(n,e,t){const r=Sd(n),o=n.value;Wr(r,(u,f)=>{wg(u,o.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new _g(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Q0{}function J0(n){return new yn.y(e=>e.error(n))}class AC{constructor(e,t,r,o,u,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f}recognize(){const e=pg(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Ot);if(null===t)return null;const r=new Xl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Wo(r,t),u=new js(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=zy(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const f=t.children[u],m=fg(e,u),E=this.processSegmentGroup(m,f,u);if(null===E)return null;r.push(...E)}const o=nw(r);return function SC(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const f=this.processSegmentAgainstRoute(u,t,r,o);if(null!==f)return f}return tc(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Rd(e,t,r,o))return null;let u,f=[],m=[];if("**"===e.path){const W=r.length>0?Ly(r).parameters:{};u=new Xl(r,W,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iw(e),Hs(e),e.component,e,Eg(t),rw(t)+r.length,MC(e))}else{const W=_f(t,e,r);if(!W.matched)return null;f=W.consumedSegments,m=W.remainingSegments,u=new Xl(f,W.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iw(e),Hs(e),e.component,e,Eg(t),rw(t)+f.length,MC(e))}const E=function ew(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:x}=pg(t,f,m,E.filter(W=>void 0===W.redirectTo),this.relativeLinkResolution);if(0===x.length&&D.hasChildren()){const W=this.processChildren(E,D);return null===W?null:[new Wo(u,W)]}if(0===E.length&&0===x.length)return[new Wo(u,[])];const P=Hs(e)===o,H=this.processSegment(E,D,x,P?Ot:o);return null===H?null:[new Wo(u,H)]}}function tw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function nw(n){const e=[],t=new Set;for(const r of n){if(!tw(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=nw(r.children);e.push(new Wo(r.value,o))}return e.filter(r=>!t.has(r))}function Eg(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rw(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function iw(n){return n.data||{}}function MC(n){return n.resolve||{}}function bg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function l_(n){return Er(e=>{const t=n(e);return t?(0,On.D)(t).pipe((0,It.U)(()=>e)):pt(e)})}class NC extends class c_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ef=new d.OlP("ROUTES");class Ig{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,It.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=u.create(e);return new $0(eg(f.injector.get(Ef,void 0,d.XFs.Self|d.XFs.Optional)).map(hg),f)}),wo(u=>{throw t._loader$=void 0,u}));return t._loader$=new wr(o,()=>new Bs.x).pipe(uf()),t._loader$}loadModuleFactory(e){return zo(e()).pipe((0,Pr.z)(t=>t instanceof d.YKP?pt(t):(0,On.D)(this.compiler.compileModuleAsync(t))))}}class kC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function FC(n){throw n}function d_(n,e,t){return e.parse("/")}function LC(n,e){return pt(null)}const VC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let br=(()=>{class n{constructor(t,r,o,u,f,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Bs.x,this.errorHandler=FC,this.malformedUriErrorHandler=d_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:LC,afterPreactivation:LC},this.urlHandlingStrategy=new kC,this.routeReuseStrategy=new NC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(d.h0i),this.console=f.get(d.c2e);const P=f.get(d.R0b);this.isNgZoneEnabled=P instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function D0(){return new ku(new jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Ig(f,m,H=>this.triggerEvent(new Ru(H)),H=>this.triggerEvent(new Wl(H))),this.routerState=F0(this.currentUrlTree,this.rootComponentType),this.transitions=new gn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(us(o=>0!==o.id),(0,It.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Er(o=>{let u=!1,f=!1;return pt(o).pipe((0,p.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Er(m=>{const E=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return h_(m.source)&&(this.browserUrlTree=m.extractedUrl),pt(m).pipe(Er(P=>{const H=this.transitions.getValue();return r.next(new O(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),H!==this.transitions.getValue()?Pu.E:Promise.resolve(P)}),function Z0(n,e,t,r){return Er(o=>function yg(n,e,t,r,o){return new wC(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,It.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,p.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function sw(n,e,t,r,o){return(0,Pr.z)(u=>function X0(n,e,t,r,o="emptyOnly",u="legacy"){try{const f=new AC(n,e,t,r,o,u).recognize();return null===f?J0(new Q0):pt(f)}catch(f){return J0(f)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,It.U)(f=>Object.assign(Object.assign({},u),{targetSnapshot:f}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,p.b)(P=>{if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const W=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(W,P)}this.browserUrlTree=P.urlAfterRedirects}const H=new Ke(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next(H)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:H,extractedUrl:W,source:fe,restoredState:ke,extras:tt}=m,zt=new O(H,this.serializeUrl(W),fe,ke);r.next(zt);const ct=F0(W,this.rootComponentType).snapshot;return pt(Object.assign(Object.assign({},m),{targetSnapshot:ct,urlAfterRedirects:W,extras:Object.assign(Object.assign({},tt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Pu.E}),l_(m=>{const{targetSnapshot:E,id:D,extractedUrl:x,rawUrl:P,extras:{skipLocationChange:H,replaceUrl:W}}=m;return this.hooks.beforePreactivation(E,{navigationId:D,appliedUrlTree:x,rawUrlTree:P,skipLocationChange:!!H,replaceUrl:!!W})}),(0,p.b)(m=>{const E=new ft(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,It.U)(m=>Object.assign(Object.assign({},m),{guards:W0(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function K0(n,e){return(0,Pr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:f}}=t;return 0===f.length&&0===u.length?pt(Object.assign(Object.assign({},t),{guardsResult:!0})):function oA(n,e,t,r){return(0,On.D)(n).pipe((0,Pr.z)(o=>function TC(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?pt(u.map(m=>{const E=vg(m,e,o);let D;if(function iA(n){return n&&ec(n.canDeactivate)}(E))D=zo(E.canDeactivate(n,e,t,r));else{if(!ec(E))throw new Error("Invalid CanDeactivate guard");D=zo(E(n,e,t,r))}return D.pipe(h())})).pipe($s()):pt(!0)}(o.component,o.route,t,e,r)),h(o=>!0!==o,!0))}(f,r,o,n).pipe((0,Pr.z)(m=>m&&function eA(n){return"boolean"==typeof n}(m)?function CC(n,e,t,r){return(0,On.D)(e).pipe(Ma(o=>Fi(function Y0(n,e){return null!==n&&e&&e(new Kl(n)),pt(!0)}(o.route.parent,r),function u_(n,e){return null!==n&&e&&e(new Ny(n)),pt(!0)}(o.route,r),function DC(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(f=>function EC(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>af(()=>pt(f.guards.map(E=>{const D=vg(E,f.node,t);let x;if(function rA(n){return n&&ec(n.canActivateChild)}(D))x=zo(D.canActivateChild(r,n));else{if(!ec(D))throw new Error("Invalid CanActivateChild guard");x=zo(D(r,n))}return x.pipe(h())})).pipe($s())));return pt(u).pipe($s())}(n,o.path,t),function IC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const o=r.map(u=>af(()=>{const f=vg(u,e,t);let m;if(function nA(n){return n&&ec(n.canActivate)}(f))m=zo(f.canActivate(e,n));else{if(!ec(f))throw new Error("Invalid CanActivate guard");m=zo(f(e,n))}return m.pipe(h())}));return pt(o).pipe($s())}(n,o.route,t))),h(o=>!0!==o,!0))}(r,u,n,e):pt(m)),(0,It.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,p.b)(m=>{if(Od(m.guardsResult)){const D=Ql(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const E=new it(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),us(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),l_(m=>{if(m.guards.canActivateChecks.length)return pt(m).pipe((0,p.b)(E=>{const D=new Tn(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),Er(E=>{let D=!1;return pt(E).pipe(function xC(n,e){return(0,Pr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return pt(t);let u=0;return(0,On.D)(o).pipe(Ma(f=>function OC(n,e,t,r){return function PC(n,e,t,r){const o=bg(n);if(0===o.length)return pt({});const u={};return(0,On.D)(o).pipe((0,Pr.z)(f=>function RC(n,e,t,r){const o=vg(n,e,r);return zo(o.resolve?o.resolve(e,t):o(e,t))}(n[f],e,t,r).pipe((0,p.b)(m=>{u[f]=m}))),lf(1),(0,Pr.z)(()=>bg(u).length===o.length?pt(u):Pu.E))}(n._resolve,n,e,r).pipe((0,It.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),zy(n,t).resolve),null)))}(f.route,r,n,e)),(0,p.b)(()=>u++),lf(1),(0,Pr.z)(f=>u===o.length?pt(t):Pu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,p.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,p.b)(E=>{const D=new Li(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}))}),l_(m=>{const{targetSnapshot:E,id:D,extractedUrl:x,rawUrl:P,extras:{skipLocationChange:H,replaceUrl:W}}=m;return this.hooks.afterPreactivation(E,{navigationId:D,appliedUrlTree:x,rawUrlTree:P,skipLocationChange:!!H,replaceUrl:!!W})}),(0,It.U)(m=>{const E=function Zy(n,e,t){const r=Md(n,e._root,t?t._root:void 0);return new k0(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,p.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,It.U)(r=>(new e_(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,p.b)({next(){u=!0},complete(){u=!0}}),function v(n){return(0,Ai.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||f||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),wo(m=>{if(f=!0,function ky(n){return n&&n[Xp]}(m)){const E=Od(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const D=new re(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(D),E?setTimeout(()=>{const x=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),P={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||h_(o.source)};this.scheduleNavigation(x,"imperative",null,P,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new Le(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return Pu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},f=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(f){const E=Object.assign({},f);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,f,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){dg(t),this.config=t.map(hg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:f,queryParamsHandling:m,preserveFragment:E}=r,D=o||this.routerState.root,x=E?this.currentUrlTree.fragment:f;let P=null;switch(m){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=u||null}return null!==P&&(P=this.removeEmptyProps(P)),function U0(n,e,t,r,o){if(0===t.length)return xd(e.root,e.root,e,r,o);const u=function Yy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new lg(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,f)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Wr(u.outlets,(E,D)=>{m[D]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===f?(u.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&o.push(m))}),o):[...o,u]},[]);return new lg(t,e,r)}(t);if(u.toRoot())return xd(e.root,new jt([],{}),e,r,o);const f=function pC(n,e,t){if(n.isAbsolute)return new B0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new B0(u,u===e.root,0)}const r=Ky(n.commands[0])?0:1;return function gC(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new B0(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=f.processChildren?gf(f.segmentGroup,f.index,u.commands):j0(f.segmentGroup,f.index,u.commands);return xd(f.segmentGroup,m,e,r,o)}(D,this.currentUrlTree,t,P,null!=x?x:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Od(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function uw(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},VC):!1===r?Object.assign({},aw):r,Od(t))return Vy(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Vy(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new G(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,f){var m,E;if(this.disposed)return Promise.resolve(!1);let D,x,P;f?(D=f.resolve,x=f.reject,P=f.promise):P=new Promise((fe,ke)=>{D=fe,x=ke});const H=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),W=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):W=0,this.setTransition({id:H,targetPageId:W,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:D,reject:x,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(fe=>Promise.reject(fe))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===f?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new re(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function h_(n){return"imperative"!==n}let Gs=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Bs.x,this.subscription=t.events.subscribe(u=>{u instanceof G&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,f){if(0!==t||r||o||u||f||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Pa(this.skipLocationChange),replaceUrl:Pa(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pa(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(br),d.Y36(Jl),d.Y36(de))},n.\u0275dir=d.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&d.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&d.uIk("target",r.target)("href",r.href,d.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[d.TTD]}),n})();function Pa(n){return""===n||!!n}class jC{}class p_{preload(e,t){return pt(null)}}let Tg=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new Ig(o,r,E=>t.triggerEvent(new Ru(E)),E=>t.triggerEvent(new Wl(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(us(t=>t instanceof G),Ma(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(d.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const f=u._loadedConfig;o.push(this.processRoutes(f.module,f.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,On.D)(o).pipe((0,zl.J)(),(0,It.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?pt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Pr.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(br),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(jC))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),nc=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof O?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof G&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Yl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ra=new d.OlP("ROUTER_CONFIGURATION"),g_=new d.OlP("ROUTER_FORROOT_GUARD"),lw=[_e,{provide:rg,useClass:By},{provide:br,useFactory:function kd(n,e,t,r,o,u,f={},m,E){const D=new br(null,n,e,t,r,o,eg(u));return m&&(D.urlHandlingStrategy=m),E&&(D.routeReuseStrategy=E),function hw(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(f,D),f.enableTracing&&D.events.subscribe(x=>{var P,H;null===(P=console.group)||void 0===P||P.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(H=console.groupEnd)||void 0===H||H.call(console)}),D},deps:[rg,mf,_e,d.zs3,d.Sil,Ef,Ra,[class ow{},new d.FiY],[class Cg{},new d.FiY]]},mf,{provide:Jl,useFactory:function GC(n){return n.routerState.root},deps:[br]},Tg,p_,class f_{preload(e,t){return t().pipe(wo(()=>pt(null)))}},{provide:Ra,useValue:{enableTracing:!1}}];function cw(){return new d.PXZ("Router",br)}let dw=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[lw,y_(t),{provide:g_,useFactory:HC,deps:[[br,new d.FiY,new d.tp0]]},{provide:Ra,useValue:r||{}},{provide:de,useFactory:$C,deps:[ce,[new d.tBr(We),new d.FiY],Ra]},{provide:nc,useFactory:m_,deps:[br,cu,Ra]},{provide:jC,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:p_},{provide:d.PXZ,multi:!0,useFactory:cw},[__,{provide:d.ip1,multi:!0,useFactory:Fd,deps:[__]},{provide:fw,useFactory:qC,deps:[__]},{provide:d.tb,multi:!0,useExisting:fw}]]}}static forChild(t){return{ngModule:n,providers:[y_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(g_,8),d.LFG(br,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function m_(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new nc(n,e,t)}function $C(n,e,t={}){return t.useHash?new Ce(n,e):new Ge(n,e)}function HC(n){return"guarded"}function y_(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:Ef,multi:!0,useValue:n}]}let __=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Bs.x}appInitializer(){return this.injector.get(B,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),u=this.injector.get(br),f=this.injector.get(Ra);return"disabled"===f.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?pt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(Ra),o=this.injector.get(Tg),u=this.injector.get(nc),f=this.injector.get(br),m=this.injector.get(d.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),o.setUpPreloading(),u.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Fd(n){return n.appInitializer.bind(n)}function qC(n){return n.bootstrapListener.bind(n)}const fw=new d.OlP("Router Initializer");k(4087);var Ye,v_=k(3942),me=k(5861),Uu=k(9681),bf=k(4859),Na=k(1877),$t=k(2090),ZC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ka={},Ag=Ag||{},At=ZC||self;function Cf(){}function w_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function If(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var pw="closure_uid_"+(1e9*Math.random()>>>0),E_=0;function WC(n,e,t){return n.call.apply(n.bind,arguments)}function gw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Rr(n,e,t){return(Rr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WC:gw).apply(null,arguments)}function b_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function vn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return e.prototype[o].apply(r,f)}}function rc(){this.s=this.s,this.o=this.o}var mw={};rc.prototype.s=!1,rc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function lA(n){return Object.prototype.hasOwnProperty.call(n,pw)&&n[pw]||(n[pw]=++E_)}(this);delete mw[n]}},rc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const C_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},I_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function YC(n){return Array.prototype.concat.apply([],arguments)}function Sg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ld(n){return/^[\s\xa0]*$/.test(n)}var Si,yw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Kr(n,e){return-1!=n.indexOf(e)}function D_(n,e){return n<e?-1:n>e?1:0}e:{var _w=At.navigator;if(_w){var vw=_w.userAgent;if(vw){Si=vw;break e}}Si=""}function T_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ww(n){const e={};for(const t in n)e[t]=n[t];return e}var Df="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ic(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<Df.length;u++)t=Df[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function A_(n){return A_[" "](n),n}A_[" "]=Cf;var sc,n,QC=Kr(Si,"Opera"),Vd=Kr(Si,"Trident")||Kr(Si,"MSIE"),Mg=Kr(Si,"Edge"),qs=Mg||Vd,Ud=Kr(Si,"Gecko")&&!(Kr(Si.toLowerCase(),"webkit")&&!Kr(Si,"Edge"))&&!(Kr(Si,"Trident")||Kr(Si,"MSIE"))&&!Kr(Si,"Edge"),pi=Kr(Si.toLowerCase(),"webkit")&&!Kr(Si,"Edge");function Bu(){var n=At.document;return n?n.documentMode:void 0}e:{var Vi="",Af=(n=Si,Ud?/rv:([^\);]+)(\)|;)/.exec(n):Mg?/Edge\/([\d\.]+)/.exec(n):Vd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):pi?/WebKit\/(\S+)/.exec(n):QC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Af&&(Vi=Af?Af[1]:""),Vd){var ju=Bu();if(null!=ju&&ju>parseFloat(Vi)){sc=String(ju);break e}}sc=Vi}var Bd={};var $d=At.document&&Vd&&(Bu()||parseInt(sc,10))||void 0,Hd=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{At.addEventListener("test",Cf,e),At.removeEventListener("test",Cf,e)}catch(t){}return n}();function Yn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Yo(n,e){if(Yn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Ud){e:{try{A_(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ew[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Yo.Z.h.call(this)}}Yn.prototype.h=function(){this.defaultPrevented=!0},vn(Yo,Yn);var Ew={2:"touch",3:"pen",4:"mouse"};Yo.prototype.h=function(){Yo.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gd="closure_listenable_"+(1e6*Math.random()|0),bw=0;function Cw(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++bw,this.ca=this.fa=!1}function Sf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Mf(n){this.src=n,this.g={},this.h=0}function xg(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=C_(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Sf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Og(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}Mf.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var f=Og(n,e,r,o);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new Cw(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var Pg="closure_lm_"+(1e6*Math.random()|0),S_={};function M_(n,e,t,r,o){if(r&&r.once)return x_(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)M_(n,e[u],t,r,o);return null}return t=N_(t),n&&n[Gd]?n.N(e,t,If(r)?!!r.capture:!!r,o):Iw(n,e,t,!1,r,o)}function Iw(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var f=If(o)?!!o.capture:!!o,m=Rg(n);if(m||(n[Pg]=m=new Mf(n)),(t=m.add(e,t,r,f,u)).proxy)return t;if(r=function JC(){var e=XC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Hd||(o=f),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(P_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function x_(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)x_(n,e[u],t,r,o);return null}return t=N_(t),n&&n[Gd]?n.O(e,t,If(r)?!!r.capture:!!r,o):Iw(n,e,t,!0,r,o)}function Dw(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)Dw(n,e[u],t,r,o);else r=If(r)?!!r.capture:!!r,t=N_(t),n&&n[Gd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Og(u=n.g[e],t,r,o))&&(Sf(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Rg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Og(e,t,r,o)),(t=-1<n?e[n]:null)&&O_(t))}function O_(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Gd])xg(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(P_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Rg(e))?(xg(t,n),0==t.h&&(t.src=null,e[Pg]=null)):Sf(n)}}}function P_(n){return n in S_?S_[n]:S_[n]="on"+n}function XC(n,e){if(n.ca)n=!0;else{e=new Yo(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&O_(n),n=t.call(r,e)}return n}function Rg(n){return(n=n[Pg])instanceof Mf?n:null}var R_="__closure_events_fn_"+(1e9*Math.random()>>>0);function N_(n){return"function"==typeof n?n:(n[R_]||(n[R_]=function(e){return n.handleEvent(e)}),n[R_])}function Yr(){rc.call(this),this.i=new Mf(this),this.P=this,this.I=null}function Qr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Yn(e,n);else if(e instanceof Yn)e.target=e.target||n;else{var o=e;ic(e=new Yn(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var f=e.g=t[u];o=qd(f,r,!0,e)&&o}if(o=qd(f=e.g=n,r,!0,e)&&o,o=qd(f,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=qd(f=e.g=t[u],r,!1,e)&&o}function qd(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var f=e[u];if(f&&!f.ca&&f.capture==t){var m=f.listener,E=f.ia||f.src;f.fa&&xg(n.i,f),o=!1!==m.call(E,r)&&o}}return o&&!r.defaultPrevented}vn(Yr,rc),Yr.prototype[Gd]=!0,Yr.prototype.removeEventListener=function(n,e,t,r){Dw(this,n,e,t,r)},Yr.prototype.M=function(){if(Yr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Sf(t[r]);delete n.g[e],n.h--}}this.I=null},Yr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var xf=At.JSON.stringify;function eI(){var n=Aw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Tw,tI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new hA,n=>n.reset());class hA{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nI(n){At.setTimeout(()=>{throw n},0)}function Ng(n,e){Tw||function rI(){var n=At.Promise.resolve(void 0);Tw=function(){n.then(Sw)}}(),Hu||(Tw(),Hu=!0),Aw.add(n,e)}var Hu=!1,Aw=new class dA{constructor(){this.h=this.g=null}add(e,t){const r=tI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Sw(){for(var n;n=eI();){try{n.h.call(n.g)}catch(t){nI(t)}var e=tI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Hu=!1}function kg(n,e){Yr.call(this),this.h=n||1,this.g=e||At,this.j=Rr(this.kb,this),this.l=Date.now()}function Fg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function zd(n,e,t){if("function"==typeof n)t&&(n=Rr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Rr(n.handleEvent,n)}return 2147483647<Number(e)?-1:At.setTimeout(n,e||0)}function Mw(n){n.g=zd(()=>{n.g=null,n.i&&(n.i=!1,Mw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}vn(kg,Yr),(Ye=kg.prototype).da=!1,Ye.S=null,Ye.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Qr(this,"tick"),this.da&&(Fg(this),this.start()))}},Ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.M=function(){kg.Z.M.call(this),Fg(this),delete this.g};class xw extends rc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mw(this)}M(){super.M(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Of(n){rc.call(this),this.h=n,this.g={}}vn(Of,rc);var Ow=[];function Pw(n,e,t,r){Array.isArray(t)||(t&&(Ow[0]=t.toString()),t=Ow);for(var o=0;o<t.length;o++){var u=M_(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Rw(n){T_(n.g,function(e,t){this.g.hasOwnProperty(t)&&O_(e)},n),n.g={}}function Lg(){this.g=!0}function ac(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function k_(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var f=1;f<o.length;f++)o[f]=""}}}return xf(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Of.prototype.M=function(){Of.Z.M.call(this),Rw(this)},Of.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Lg.prototype.Aa=function(){this.g=!1},Lg.prototype.info=function(){};var Zd={},Vg=null;function Ug(){return Vg=Vg||new Yr}function sI(n){Yn.call(this,Zd.Ma,n)}function Fa(n){const e=Ug();Qr(e,new sI(e,n))}function F_(n,e){Yn.call(this,Zd.STAT_EVENT,n),this.stat=e}function Jr(n){const e=Ug();Qr(e,new F_(e,n))}function Bg(n,e){Yn.call(this,Zd.Na,n),this.size=e}function Pf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){n()},e)}Zd.Ma="serverreachability",vn(sI,Yn),Zd.STAT_EVENT="statevent",vn(F_,Yn),Zd.Na="timingevent",vn(Bg,Yn);var uc={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rf={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Nf(){}function Fw(){}Nf.prototype.h=null;var $g,lc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kf(){Yn.call(this,"d")}function jg(){Yn.call(this,"c")}function Wd(){}function Kd(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Of(this),this.P=V_,this.W=new kg(n=qs?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new L_}function L_(){this.i=null,this.g="",this.h=!1}vn(kf,Yn),vn(jg,Yn),vn(Wd,Nf),Wd.prototype.g=function(){return new XMLHttpRequest},Wd.prototype.i=function(){return{}},$g=new Wd;var V_=45e3,Hg={},Gg={};function qg(n,e,t){n.K=1,n.v=Qg(La(e)),n.s=t,n.U=!0,U_(n,null)}function U_(n,e){n.F=Date.now(),Ff(n),n.A=La(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Hw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new L_,n.g=ov(n.l,t?e:null,!n.s),0<n.O&&(n.L=new xw(Rr(n.Ia,n,n.g),n.O)),Pw(n.V,n.g,"readystatechange",n.gb),e=n.H?ww(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Fa(1),function Nw(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var f="",m=u.split("&"),E=0;E<m.length;E++){var D=m[E].split("=");if(1<D.length){var x=D[0];D=D[1];var P=x.split("_");f=2<=P.length&&"type"==P[1]?f+(x+"=")+D+"&":f+(x+"=redacted&")}}else f=null;else f=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function zg(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function B_(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=aI(n,t),o==Gg){4==e&&(n.o=4,Jr(14),r=!1),ac(n.j,n.m,null,"[Incomplete Response]");break}if(o==Hg){n.o=4,Jr(15),ac(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ac(n.j,n.m,o,null),Zg(n,o)}zg(n)&&o!=Gg&&o!=Hg&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Jr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),om(e),e.L=!0,Jr(11))):(ac(n.j,n.m,t,"[Invalid Chunked Response]"),Gu(n),cc(n))}function aI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Gg:(t=Number(e.substring(t,r)),isNaN(t)?Hg:(r+=1)+t>e.length?Gg:(e=e.substr(r,t),n.C=r+t,e))}function Ff(n){n.Y=Date.now()+n.P,Lw(n,n.P)}function Lw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Pf(Rr(n.eb,n),e)}function Yd(n){n.B&&(At.clearTimeout(n.B),n.B=null)}function cc(n){0==n.l.G||n.I||nv(n.l,n)}function Gu(n){Yd(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Fg(n.W),Rw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Zg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||G_(t.i,n)))if(t.I=n.N,!n.J&&G_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Pf(Rr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;jf(t),rm(t)}sm(t),Jr(18)}if(1>=qw(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else zu(t,11)}else if((n.J||t.g==n)&&jf(t),!Ld(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const x=D[3];null!=x&&(t.ma=x,t.h.info("VER="+t.ma));const P=D[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const H=D[5];null!=H&&"number"==typeof H&&0<H&&(t.K=r=1.5*H,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const W=n.g;if(W){const fe=W.g?W.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fe){var u=r.i;!u.g&&(Kr(fe,"spdy")||Kr(fe,"quic")||Kr(fe,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(q_(u,u.h),u.h=null))}if(r.D){const ke=W.g?W.g.getResponseHeader("X-HTTP-Session-Id"):null;ke&&(r.sa=ke,Pn(r.F,r.D,ke))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=sv(r,r.H?r.la:null,r.W),f.J){zw(r.i,f);var m=f,E=r.K;E&&m.setTimeout(E),m.B&&(Yd(m),Ff(m)),r.g=f}else ev(r);0<t.l.length&&im(t)}else"stop"!=D[0]&&"close"!=D[0]||zu(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?zu(t,7):J_(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}Fa(4)}catch(D){}}function Wg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(w_(n)||"string"==typeof n)I_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(w_(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function Vw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(w_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function dc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof dc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Kg(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];qu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)qu(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function qu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ye=Kd.prototype).setTimeout=function(n){this.P=n},Ye.gb=function(n){n=n.target;const e=this.L;e&&3==Ua(n)?e.l():this.Ia(n)},Ye.Ia=function(n){try{if(n==this.g)e:{const x=Ua(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>x)&&(3!=x||qs||this.g&&(this.h.h||this.g.ga()||eE(this.g)))){this.I||4!=x||7==e||Fa(8==e||0>=P?3:2),Yd(this);var t=this.g.ba();this.N=t;t:if(zg(this)){var r=eE(this.g);n="";var o=r.length,u=4==Ua(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Gu(this),cc(this);var f="";break t}this.h.i=new At.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function iI(n,e,t,r,o,u,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+f})}(this.j,this.u,this.A,this.m,this.X,x,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ld(m)){var D=m;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Jr(12),Gu(this),cc(this);break e}ac(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zg(this,t)}this.U?(B_(this,x,f),qs&&this.i&&3==x&&(Pw(this.V,this.W,"tick",this.fb),this.W.start())):(ac(this.j,this.m,f,null),Zg(this,f)),4==x&&Gu(this),this.i&&!this.I&&(4==x?nv(this.l,this):(this.i=!1,Ff(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Jr(12)):(this.o=0,Jr(13)),Gu(this),cc(this)}}}catch(x){}},Ye.fb=function(){if(this.g){var n=Ua(this.g),e=this.g.ga();this.C<e.length&&(Yd(this),B_(this,n,e),this.i&&4!=n&&Ff(this))}},Ye.cancel=function(){this.I=!0,Gu(this)},Ye.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function kw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Fa(3),Jr(17)),Gu(this),this.o=2,cc(this)):Lw(this,this.Y-n)},(Ye=dc.prototype).R=function(){Kg(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ye.T=function(){return Kg(this),this.g.concat()},Ye.get=function(n,e){return qu(this.h,n)?this.h[n]:e},Ye.set=function(n,e){qu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ye.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var j_=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof hc){this.g=void 0!==e?e:n.g,Lf(this,n.j),this.s=n.s,Yg(this,n.i),Hn(this,n.m),this.l=n.l,e=n.h;var t=new Jg;t.i=e.i,e.g&&(t.g=new dc(e.g),t.h=e.h),$_(this,t),this.o=n.o}else n&&(t=String(n).match(j_))?(this.g=!!e,Lf(this,t[1]||"",!0),this.s=Qd(t[2]||""),Yg(this,t[3]||"",!0),Hn(this,t[4]),this.l=Qd(t[5]||"",!0),$_(this,t[6]||"",!0),this.o=Qd(t[7]||"")):(this.g=!!e,this.h=new Jg(null,this.g))}function La(n){return new hc(n)}function Lf(n,e,t){n.j=t?Qd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Yg(n,e,t){n.i=t?Qd(e,!0):e}function Hn(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $_(n,e,t){e instanceof Jg?(n.h=e,function Qo(n,e){e&&!n.j&&(Va(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(Xg(this,r),Hw(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Jd(e,cI)),n.h=new Jg(e,n.g))}function Pn(n,e,t){n.h.set(e,t)}function Qg(n){return Pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Qd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Jd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Xd),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Xd(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}hc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Jd(e,Bw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Jd(e,Bw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Jd(t,"/"==t.charAt(0)?jw:lI,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Jd(t,$w)),n.join("")};var Bw=/[#\/\?@]/g,lI=/[#\?:]/g,jw=/[#\?]/g,cI=/[#\?@]/g,$w=/#/g;function Jg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Va(n){n.g||(n.g=new dc,n.h=0,n.i&&function fA(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Xg(n,e){Va(n),e=eh(n,e),qu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,qu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Kg(n)))}function Io(n,e){return Va(n),e=eh(n,e),qu(n.g.h,e)}function Hw(n,e,t){Xg(n,e),0<t.length&&(n.i=null,n.g.set(eh(n,e),Sg(t)),n.h+=t.length)}function eh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function zs(n){this.l=n||Gw,n=At.PerformanceNavigationTiming?0<(n=At.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(At.g&&At.g.Ea&&At.g.Ea()&&At.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=Jg.prototype).add=function(n,e){Va(this),this.i=null,n=eh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){Va(this),this.g.forEach(function(t,r){I_(t,function(o){n.call(e,o,r,this)},this)},this)},Ye.T=function(){Va(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},Ye.R=function(n){Va(this);var e=[];if("string"==typeof n)Io(this,n)&&(e=YC(e,this.g.get(eh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=YC(e,n[t])}return e},Ye.set=function(n,e){return Va(this),this.i=null,Io(this,n=eh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var f=o;""!==r[u]&&(f+="="+encodeURIComponent(String(r[u]))),n.push(f)}}return this.i=n.join("&")};var Gw=10;function H_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function qw(n){return n.h?1:n.g?n.g.size:0}function G_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function q_(n,e){n.g?n.g.add(e):n.h=e}function zw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function em(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Sg(n.i)}function fc(){}function dI(){this.g=new fc}function Zw(n,e,t){const r=t||"";try{Wg(n,function(o,u){let f=o;If(o)&&(f=xf(o)),e.push(r+u+"="+encodeURIComponent(f))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Vf(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function th(n){this.l=n.$b||null,this.j=n.ib||!1}function pc(n,e){Yr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=z_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zs.prototype.cancel=function(){if(this.i=em(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},fc.prototype.stringify=function(n){return At.JSON.stringify(n,void 0)},fc.prototype.parse=function(n){return At.JSON.parse(n,void 0)},vn(th,Nf),th.prototype.g=function(){return new pc(this.l,this.j)},th.prototype.i=function(n){return function(){return n}}({}),vn(pc,Yr);var z_=0;function Z_(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function nh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gc(n)}function gc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=pc.prototype).open=function(n,e){if(this.readyState!=z_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gc(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||At).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nh(this)),this.readyState=z_},Ye.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gc(this)),this.g&&(this.readyState=3,gc(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==At.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Z_(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ye.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?nh(this):gc(this),3==this.readyState&&Z_(this)}},Ye.Ua=function(n){this.g&&(this.response=this.responseText=n,nh(this))},Ye.Ta=function(n){this.g&&(this.response=n,nh(this))},Ye.ha=function(){this.g&&nh(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pc.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var tm=At.JSON.parse;function Qn(n){Yr.call(this),this.headers=new dc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=W_,this.K=this.L=!1}vn(Qn,Yr);var W_="",Ww=/^https?$/i,Kw=["POST","PUT"];function Qw(n){return"content-type"==n.toLowerCase()}function K_(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Y_(n),nm(n)}function Y_(n){n.D||(n.D=!0,Qr(n,"complete"),Qr(n,"error"))}function Jw(n){if(n.h&&void 0!==Ag&&(!n.C[1]||4!=Ua(n)||2!=n.ba()))if(n.v&&4==Ua(n))zd(n.Fa,0,n);else if(Qr(n,"readystatechange"),4==Ua(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var o=String(n.H).match(j_)[1]||null;if(!o&&At.self&&At.self.location){var u=At.self.location.protocol;o=u.substr(0,u.length-1)}r=!Ww.test(o?o.toLowerCase():"")}t=r}if(t)Qr(n,"complete"),Qr(n,"success");else{n.m=6;try{var f=2<Ua(n)?n.g.statusText:""}catch(E){f=""}n.j=f+" ["+n.ba()+"]",Y_(n)}}finally{nm(n)}}}function nm(n,e){if(n.g){Xw(n);const t=n.g,r=n.C[0]?Cf:null;n.g=null,n.C=null,e||Qr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function Xw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(At.clearTimeout(n.A),n.A=null)}function Ua(n){return n.g?n.g.readyState:0}function eE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case W_:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Q_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function fI(n){let e="";return T_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pn(n,e,t))}function Uf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function tE(n){this.za=0,this.l=[],this.h=new Lg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Uf("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Uf("baseRetryDelayMs",5e3,n),this.$a=Uf("retryDelaySeedMs",1e4,n),this.Ya=Uf("forwardChannelMaxRetries",2,n),this.ra=Uf("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new zs(n&&n.concurrentRequestLimit),this.Ca=new dI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function J_(n){if(nE(n),3==n.G){var e=n.V++,t=La(n.F);Pn(t,"SID",n.J),Pn(t,"RID",e),Pn(t,"TYPE","terminate"),Bf(n,t),(e=new Kd(n,n.h,e,void 0)).K=2,e.v=Qg(La(t)),t=!1,At.navigator&&At.navigator.sendBeacon&&(t=At.navigator.sendBeacon(e.v.toString(),"")),!t&&At.Image&&((new Image).src=e.v,t=!0),t||(e.g=ov(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ff(e)}iv(n)}function rm(n){n.g&&(om(n),n.g.cancel(),n.g=null)}function nE(n){rm(n),n.u&&(At.clearTimeout(n.u),n.u=null),jf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&At.clearTimeout(n.m),n.m=null)}function X_(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&im(n)}function im(n){H_(n.i)||n.m||(n.m=!0,Ng(n.Ha,n),n.C=0)}function rE(n,e){var t;t=e?e.m:n.V++;const r=La(n.F);Pn(r,"SID",n.J),Pn(r,"RID",t),Pn(r,"AID",n.U),Bf(n,r),n.o&&n.s&&Q_(r,n.o,n.s),t=new Kd(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=iE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),q_(n.i,t),qg(t,r,e)}function Bf(n,e){n.j&&Wg({},function(t,r){Pn(e,r,t)})}function iE(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Rr(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const f=["count="+t];-1==u?0<t?(u=o[0].h,f.push("ofs="+u)):u=0:f.push("ofs="+u);let m=!0;for(let E=0;E<t;E++){let D=o[E].h;const x=o[E].g;if(D-=u,0>D)u=Math.max(0,o[E].h-100),m=!1;else try{Zw(x,f,"req"+D+"_")}catch(P){r&&r(x)}}if(m){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function ev(n){n.g||n.u||(n.Y=1,Ng(n.Ga,n),n.A=0)}function sm(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Pf(Rr(n.Ga,n),rv(n,n.A)),n.A++,0))}function om(n){null!=n.B&&(At.clearTimeout(n.B),n.B=null)}function tv(n){n.g=new Kd(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=La(n.oa);Pn(e,"RID","rpc"),Pn(e,"SID",n.J),Pn(e,"CI",n.N?"0":"1"),Pn(e,"AID",n.U),Bf(n,e),Pn(e,"TYPE","xmlhttp"),n.o&&n.s&&Q_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Qg(La(e)),t.s=null,t.U=!0,U_(t,n)}function jf(n){null!=n.v&&(At.clearTimeout(n.v),n.v=null)}function nv(n,e){var t=null;if(n.g==e){jf(n),om(n),n.g=null;var r=2}else{if(!G_(n.i,e))return;t=e.D,zw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Qr(r=Ug(),new Bg(r,t,e,o)),im(n)}else ev(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function pI(n,e){return!(qw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Pf(Rr(n.Ha,n,e),rv(n,n.C)),n.C++,0)))}(n,e)||2==r&&sm(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:zu(n,5);break;case 4:zu(n,10);break;case 3:zu(n,6);break;default:zu(n,2)}}function rv(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function zu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Rr(n.jb,n);t||(t=new hc("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||Lf(t,"https"),Qg(t)),function hI(n,e){const t=new Lg;if(At.Image){const r=new Image;r.onload=b_(Vf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=b_(Vf,t,r,"TestLoadImage: error",!1,e),r.onabort=b_(Vf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=b_(Vf,t,r,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Jr(2);n.G=0,n.j&&n.j.va(e),iv(n),nE(n)}function iv(n){n.G=0,n.I=-1,n.j&&((0!=em(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Sg(n.l),n.l.length=0),n.j.ua())}function sv(n,e,t){let r=function Uw(n){return n instanceof hc?La(n):new hc(n,void 0)}(t);if(""!=r.i)e&&Yg(r,e+"."+r.i),Hn(r,r.m);else{const o=At.location;r=function uI(n,e,t,r){var o=new hc(null,void 0);return n&&Lf(o,n),e&&Yg(o,e),t&&Hn(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&T_(n.aa,function(o,u){Pn(r,u,o)}),t=n.sa,(e=n.D)&&t&&Pn(r,e,t),Pn(r,"VER",n.ma),Bf(n,r),r}function ov(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qn(t&&n.Ba&&!n.qa?new th({ib:!0}):n.qa)).L=n.H,e}function Zu(){}function am(){if(Vd&&!(10<=Number($d)))throw Error("Environmental error: no available transport.")}function cs(n,e){Yr.call(this),this.g=new tE(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Ld(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ld(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wu(this)}function mc(n){kf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function gI(){jg.call(this),this.status=1}function Wu(n){this.g=n}(Ye=Qn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():$g.g(),this.C=function oI(n){return n.h||(n.h=n.i())}(this.u?this.u:$g),this.g.onreadystatechange=Rr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void K_(this,u)}n=t||"";const o=new dc(this.headers);r&&Wg(r,function(u,f){o.set(f,u)}),r=function KC(n){e:{var e=Qw;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=At.FormData&&n instanceof At.FormData,!(0<=C_(Kw,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,f){this.g.setRequestHeader(f,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Xw(this),0<this.B&&((this.K=function Yw(n){return Vd&&function jd(){return function Tf(n){var e=Bd;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=yw(String(sc)).split("."),t=yw("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var o=e[f]||"",u=t[f]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=D_(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||D_(0==o[2].length,0==u[2].length)||D_(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Rr(this.pa,this)):this.A=zd(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){K_(this,u)}},Ye.pa=function(){void 0!==Ag&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Qr(this,"complete"),Qr(this,"abort"),nm(this))},Ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),nm(this,!0)),Qn.Z.M.call(this)},Ye.Fa=function(){this.s||(this.F||this.v||this.l?Jw(this):this.cb())},Ye.cb=function(){Jw(this)},Ye.ba=function(){try{return 2<Ua(this)?this.g.status:-1}catch(n){return-1}},Ye.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ye.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),tm(e)}},Ye.Da=function(){return this.m},Ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=tE.prototype).ma=8,Ye.G=1,Ye.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ye.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Kd(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=ww(u),ic(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=iE(this,o,e),Pn(t=La(this.F),"RID",n),Pn(t,"CVER",22),this.D&&Pn(t,"X-HTTP-Session-Id",this.D),Bf(this,t),this.o&&u&&Q_(t,this.o,u),q_(this.i,o),this.Ra&&Pn(t,"TYPE","init"),this.ja?(Pn(t,"$req",e),Pn(t,"SID","null"),o.$=!0,qg(o,t,null)):qg(o,t,e),this.G=2}}else 3==this.G&&(n?rE(this,n):0==this.l.length||H_(this.i)||rE(this))},Ye.Ga=function(){if(this.u=null,tv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Pf(Rr(this.bb,this),n)}},Ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jr(10),rm(this),tv(this))},Ye.ab=function(){null!=this.v&&(this.v=null,rm(this),sm(this),Jr(19))},Ye.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Jr(2)):(this.h.info("Failed to ping google.com"),Jr(1))},(Ye=Zu.prototype).xa=function(){},Ye.wa=function(){},Ye.va=function(){},Ye.ua=function(){},Ye.Oa=function(){},am.prototype.g=function(n,e){return new cs(n,e)},vn(cs,Yr),cs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Ng(Rr(n.hb,n,e))),Jr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=sv(n,null,n.W),im(n)},cs.prototype.close=function(){J_(this.g)},cs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,X_(this.g,e)}else this.v?((e={}).__data__=xf(n),X_(this.g,e)):X_(this.g,n)},cs.prototype.M=function(){this.g.j=null,delete this.j,J_(this.g),delete this.g,cs.Z.M.call(this)},vn(mc,kf),vn(gI,jg),vn(Wu,Zu),Wu.prototype.xa=function(){Qr(this.g,"a")},Wu.prototype.wa=function(n){Qr(this.g,new mc(n))},Wu.prototype.va=function(n){Qr(this.g,new gI(n))},Wu.prototype.ua=function(){Qr(this.g,"b")},am.prototype.createWebChannel=am.prototype.g,cs.prototype.send=cs.prototype.u,cs.prototype.open=cs.prototype.m,cs.prototype.close=cs.prototype.close,uc.NO_ERROR=0,uc.TIMEOUT=8,uc.HTTP_ERROR=6,Rf.COMPLETE="complete",Fw.EventType=lc,lc.OPEN="a",lc.CLOSE="b",lc.ERROR="c",lc.MESSAGE="d",Yr.prototype.listen=Yr.prototype.N,Qn.prototype.listenOnce=Qn.prototype.O,Qn.prototype.getLastError=Qn.prototype.La,Qn.prototype.getLastErrorCode=Qn.prototype.Da,Qn.prototype.getStatus=Qn.prototype.ba,Qn.prototype.getResponseJson=Qn.prototype.Qa,Qn.prototype.getResponseText=Qn.prototype.ga,Qn.prototype.send=Qn.prototype.ea;var pA=ka.createWebChannelTransport=function(){return new am},sE=ka.getStatEventTarget=function(){return Ug()},um=ka.ErrorCode=uc,gA=ka.EventType=Rf,gt=ka.Event=Zd,oE=ka.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},mI=ka.FetchXmlHttpFactory=th,lm=ka.WebChannel=Fw,cm=ka.XhrIo=Qn;const aE="@firebase/firestore";class ar{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");let Ba="9.6.10";const hn=new Na.Yd("@firebase/firestore");function uE(){return hn.logLevel}function Pe(n,...e){if(hn.logLevel<=Na.in.DEBUG){const t=e.map(dm);hn.debug(`Firestore (${Ba}): ${n}`,...t)}}function ur(n,...e){if(hn.logLevel<=Na.in.ERROR){const t=e.map(dm);hn.error(`Firestore (${Ba}): ${n}`,...t)}}function rh(n,...e){if(hn.logLevel<=Na.in.WARN){const t=e.map(dm);hn.warn(`Firestore (${Ba}): ${n}`,...t)}}function dm(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function Et(n,e){n||Xe()}function He(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends $t.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Nr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class cE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ar.UNAUTHENTICATED))}shutdown(){}}class hm{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class dE{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let f=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Nr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const D=f;e.enqueueRetryable((0,me.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},E=D=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(D=>E(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?E(D):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Nr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et("string"==typeof r.accessToken),new cE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new ar(e)}}class hE{constructor(e,t,r){this.type="FirstParty",this.user=ar.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class fE{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new hE(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $f{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.p;return this.p=u.token,Pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),this.p=t.token,new pE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ds{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function vI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ds.A=-1;class gE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=vI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Lt(n,e){return n<e?-1:n>e?1:0}function yc(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function av(n){return n+"\0"}class Jn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Te(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jn.fromMillis(Date.now())}static fromDate(e){return Jn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Jn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lt(this.nanoseconds,e.nanoseconds):Lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Jn(0,0))}static max(){return new _t(new Jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function mE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _c(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function wI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pm{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===pm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pm?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),f=t.get(o);if(u<f)return-1;if(u>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Qt extends pm{construct(e,t,r){return new Qt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new Qt(t)}static emptyPath(){return new Qt([])}}const mA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cr extends pm{construct(e,t,r){return new Cr(e,t,r)}static isValidIdentifier(e){return mA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Cr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if("\\"===m){if(o+1===e.length)throw new Te(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Te(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===m?(f=!f,o++):"."!==m||f?(r+=m,o++):(u(),o++)}if(u(),f)throw new Te(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Cr(t)}static emptyPath(){return new Cr([])}}class ja{constructor(e){this.fields=e,e.sort(Cr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Ir{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Ir(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Ir(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ir.EMPTY_BYTE_STRING=new Ir("");const yE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(n){if(Et(!!n),"string"==typeof n){let e=0;const t=yE.exec(n);if(Et(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gn(n.seconds),nanos:Gn(n.nanos)}}function Gn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function vc(n){return"string"==typeof n?Ir.fromBase64String(n):Ir.fromUint8Array(n)}function uv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function _E(n){const e=n.mapValue.fields.__previous_value__;return uv(e)?_E(e):e}function Hf(n){const e=Zs(n.mapValue.fields.__local_write_time__.timestampValue);return new Jn(e.seconds,e.nanos)}class vE{constructor(e,t,r,o,u,f,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class $a{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $a("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $a&&e.projectId===this.projectId&&e.database===this.database}}function wc(n){return null==n}function Jo(n){return 0===n&&1/n==-1/0}function wE(n){return"number"==typeof n&&Number.isInteger(n)&&!Jo(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Qt.fromString(e))}static fromName(e){return new Ve(Qt.fromString(e).popFirst(5))}static empty(){return new Ve(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Qt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Qt(e.slice()))}}const EE={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},lv={nullValue:"NULL_VALUE"};function Ec(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uv(n)?4:IE(n)?9:10:Xe()}function To(n,e){if(n===e)return!0;const t=Ec(n);if(t!==Ec(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hf(n).isEqual(Hf(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Zs(r.timestampValue),f=Zs(o.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,vc(n.bytesValue).isEqual(vc(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Gn(r.geoPointValue.latitude)===Gn(o.geoPointValue.latitude)&&Gn(r.geoPointValue.longitude)===Gn(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Gn(r.integerValue)===Gn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Gn(r.doubleValue),f=Gn(o.doubleValue);return u===f?Jo(u)===Jo(f):isNaN(u)&&isNaN(f)}return!1}(n,e);case 9:return yc(n.arrayValue.values||[],e.arrayValue.values||[],To);case 10:return function(r,o){const u=r.mapValue.fields||{},f=o.mapValue.fields||{};if(mE(u)!==mE(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===f[m]||!To(u[m],f[m])))return!1;return!0}(n,e);default:return Xe()}var o}function Gf(n,e){return void 0!==(n.values||[]).find(t=>To(t,e))}function Xo(n,e){if(n===e)return 0;const t=Ec(n),r=Ec(e);if(t!==r)return Lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Lt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const f=Gn(o.integerValue||o.doubleValue),m=Gn(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return bE(n.timestampValue,e.timestampValue);case 4:return bE(Hf(n),Hf(e));case 5:return Lt(n.stringValue,e.stringValue);case 6:return function(o,u){const f=vc(o),m=vc(u);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const f=o.split("/"),m=u.split("/");for(let E=0;E<f.length&&E<m.length;E++){const D=Lt(f[E],m[E]);if(0!==D)return D}return Lt(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const f=Lt(Gn(o.latitude),Gn(u.latitude));return 0!==f?f:Lt(Gn(o.longitude),Gn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const f=o.values||[],m=u.values||[];for(let E=0;E<f.length&&E<m.length;++E){const D=Xo(f[E],m[E]);if(D)return D}return Lt(f.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){const f=o.fields||{},m=Object.keys(f),E=u.fields||{},D=Object.keys(E);m.sort(),D.sort();for(let x=0;x<m.length&&x<D.length;++x){const P=Lt(m[x],D[x]);if(0!==P)return P;const H=Xo(f[m[x]],E[D[x]]);if(0!==H)return H}return Lt(m.length,D.length)}(n.mapValue,e.mapValue);default:throw Xe()}}function bE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Lt(n,e);const t=Zs(n),r=Zs(e),o=Lt(t.seconds,r.seconds);return 0!==o?o:Lt(t.nanos,r.nanos)}function bc(n){return gm(n)}function gm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Zs(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?vc(n.bytesValue).toBase64():"referenceValue"in n?Ve.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const f of r.values||[])u?u=!1:o+=",",o+=gm(f);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",f=!0;for(const m of o)f?f=!1:u+=",",u+=`${m}:${gm(r.fields[m])}`;return u+"}"}(n.mapValue):Xe();var e}function ih(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function cv(n){return!!n&&"integerValue"in n}function qf(n){return!!n&&"arrayValue"in n}function mm(n){return!!n&&"nullValue"in n}function CE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zf(n){return!!n&&"mapValue"in n}function Zf(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _c(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Zf(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zf(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function DE(n,e){return void 0===n?e:void 0===e||Xo(n,e)>0?n:e}function TE(n,e){return void 0===n?e:void 0===e||Xo(n,e)<0?n:e}class gi{constructor(e){this.value=e}static empty(){return new gi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!zf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zf(t)}setAll(e){let t=Cr.emptyPath(),r={},o=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=m.popLast()}f?r[m.lastSegment()]=Zf(f):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());zf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return To(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];zf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){_c(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new gi(Zf(this.value))}}function AE(n){const e=[];return _c(n.fields,(t,r)=>{const o=new Cr([t]);if(zf(r)){const u=AE(r.mapValue).fields;if(0===u.length)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new ja(e)}class An{constructor(e,t,r,o,u,f){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=f}static newInvalidDocument(e){return new An(e,0,_t.min(),_t.min(),gi.empty(),0)}static newFoundDocument(e,t,r){return new An(e,1,t,_t.min(),r,0)}static newNoDocument(e,t){return new An(e,2,t,_t.min(),gi.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,_t.min(),gi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ym{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function _m(n){return n.fields.find(e=>2===e.kind)}function Cc(n){return n.fields.filter(e=>2!==e.kind)}ym.UNKNOWN_ID=-1;class vm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Wf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Wf(0,Ha.min())}}function dv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(1e9===r?new Jn(t+1,0):new Jn(t,r));return new Ha(o,Ve.empty(),e)}function bI(n){return new Ha(n.readTime,n.key,-1)}class Ha{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ha(_t.min(),Ve.empty(),-1)}static max(){return new Ha(_t.max(),Ve.empty(),-1)}}function CI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ve.comparator(n.documentKey,e.documentKey),0!==t?t:Lt(n.largestBatchId,e.largestBatchId))}class hv{constructor(e,t=null,r=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.P=null}}function wm(n,e=null,t=[],r=[],o=null,u=null,f=null){return new hv(n,e,t,r,o,u,f)}function Ku(n){const e=He(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+bc(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),wc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>bc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>bc(r)).join(",")),e.P=t}return e.P}function Kf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Yf(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!To(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!TI(n.startAt,e.startAt)&&TI(n.endAt,e.endAt)}function Em(n){return Ve.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function sh(n,e){return n.filters.filter(t=>t instanceof Xr&&t.field.isEqual(e))}class Xr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new SE(e,t,r):"array-contains"===t?new OE(e,r):"in"===t?new yA(e,r):"not-in"===t?new DI(e,r):"array-contains-any"===t?new bm(e,r):new Xr(e,t,r)}static V(e,t,r){return"in"===t?new II(e,r):new ME(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Xo(t,this.value)):null!==t&&Ec(this.value)===Ec(t)&&this.v(Xo(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xe()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class SE extends Xr{constructor(e,t,r){super(e,t,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const t=Ve.comparator(e.key,this.key);return this.v(t)}}class II extends Xr{constructor(e,t){super(e,"in",t),this.keys=xE(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ME extends Xr{constructor(e,t){super(e,"not-in",t),this.keys=xE(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xE(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class OE extends Xr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qf(t)&&Gf(t.arrayValue,this.value)}}class yA extends Xr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gf(this.value.arrayValue,t)}}class DI extends Xr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gf(this.value.arrayValue,t)}}class bm extends Xr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Gf(this.value.arrayValue,r))}}class Yu{constructor(e,t){this.position=e,this.inclusive=t}}class Ao{constructor(e,t="asc"){this.field=e,this.dir=t}}function Yf(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function PE(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],f=n.position[o];if(r=u.field.isKeyField()?Ve.comparator(Ve.fromName(f.referenceValue),t.key):Xo(f,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function TI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!To(n.position[t],e.position[t]))return!1;return!0}class ea{constructor(e,t=null,r=[],o=[],u=null,f="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=E,this.D=null,this.C=null}}function RE(n,e,t,r,o,u,f,m){return new ea(n,e,t,r,o,u,f,m)}function oh(n){return new ea(n)}function Cm(n){return!wc(n.limit)&&"F"===n.limitType}function Im(n){return!wc(n.limit)&&"L"===n.limitType}function Dm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Tm(n){for(const e of n.filters)if(e.S())return e.field;return null}function Qf(n){return null!==n.collectionGroup}function Ga(n){const e=He(n);if(null===e.D){e.D=[];const t=Tm(e),r=Dm(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Ao(t)),e.D.push(new Ao(Cr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ao(Cr.keyField(),u))}}}return e.D}function mi(n){const e=He(n);if(!e.C)if("F"===e.limitType)e.C=wm(e.path,e.collectionGroup,Ga(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Ga(e))t.push(new Ao(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Yu(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Yu(e.startAt.position,!e.startAt.inclusive):null;e.C=wm(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function NE(n,e,t){return new ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ah(n,e){return Kf(mi(n),mi(e))&&n.limitType===e.limitType}function pv(n){return`${Ku(mi(n))}|lt:${n.limitType}`}function gv(n){return`Query(target=${function fv(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${bc(r.value)}`;var r}).join(", ")}]`),wc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>bc(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>bc(t)).join(",")),`Target(${e})`}(mi(n))}; limitType=${n.limitType})`}function mv(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Ve.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,f){const m=PE(o,u,f);return o.inclusive?m<=0:m<0}(t.startAt,Ga(t),r)||t.endAt&&!function(o,u,f){const m=PE(o,u,f);return o.inclusive?m>=0:m>0}(t.endAt,Ga(t),r)));var t,r}function Am(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kE(n){return(e,t)=>{let r=!1;for(const o of Ga(n)){const u=_A(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function _A(n,e,t){const r=n.field.isKeyField()?Ve.comparator(e.key,t.key):function(o,u,f){const m=u.data.field(o),E=f.data.field(o);return null!==m&&null!==E?Xo(m,E):Xe()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}function FE(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jo(e)?"-0":e}}function LE(n){return{integerValue:""+n}}function Ic(n,e){return wE(e)?LE(e):FE(n,e)}class Jf{constructor(){this._=void 0}}function uh(n,e,t){return n instanceof lh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof ch?_v(n,e):n instanceof dh?vv(n,e):function(r,o){const u=yv(r,o),f=wv(u)+wv(r.k);return cv(u)&&cv(r.k)?LE(f):FE(r.M,f)}(n,e)}function vA(n,e,t){return n instanceof ch?_v(n,e):n instanceof dh?vv(n,e):t}function yv(n,e){return n instanceof Qu?cv(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class lh extends Jf{}class ch extends Jf{constructor(e){super(),this.elements=e}}function _v(n,e){const t=VE(e);for(const r of n.elements)t.some(o=>To(o,r))||t.push(r);return{arrayValue:{values:t}}}class dh extends Jf{constructor(e){super(),this.elements=e}}function vv(n,e){let t=VE(e);for(const r of n.elements)t=t.filter(o=>!To(o,r));return{arrayValue:{values:t}}}class Qu extends Jf{constructor(e,t){super(),this.M=e,this.k=t}}function wv(n){return Gn(n.integerValue||n.doubleValue)}function VE(n){return qf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Xf{constructor(e,t){this.field=e,this.transform=t}}class SI{constructor(e,t){this.version=e,this.transformResults=t}}class lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Mm{}function MI(n,e,t){n instanceof hh?function(r,o,u){const f=r.value.clone(),m=Dv(r.fieldTransforms,o,u.transformResults);f.setAll(m),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Ju?function(r,o,u){if(!Sm(r.precondition,o))return void o.convertToUnknownDocument(u.version);const f=Dv(r.fieldTransforms,o,u.transformResults),m=o.data;m.setAll(Iv(r)),m.setAll(f),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Ev(n,e,t){var o;n instanceof hh?function(r,o,u){if(!Sm(r.precondition,o))return;const f=r.value.clone(),m=UE(r.fieldTransforms,u,o);f.setAll(m),o.convertToFoundDocument(Cv(o),f).setHasLocalMutations()}(n,e,t):n instanceof Ju?function(r,o,u){if(!Sm(r.precondition,o))return;const f=UE(r.fieldTransforms,u,o),m=o.data;m.setAll(Iv(r)),m.setAll(f),o.convertToFoundDocument(Cv(o),m).setHasLocalMutations()}(n,e,t):Sm(n.precondition,o=e)&&o.convertToNoDocument(_t.min())}function ep(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=yv(r.transform,o||null);null!=u&&(null==t&&(t=gi.empty()),t.set(r.field,u))}return t||null}function bv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&yc(t,r,(o,u)=>function AI(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ch&&r instanceof ch||t instanceof dh&&r instanceof dh?yc(t.elements,r.elements,To):t instanceof Qu&&r instanceof Qu?To(t.k,r.k):t instanceof lh&&r instanceof lh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Cv(n){return n.isFoundDocument()?n.version:_t.min()}class hh extends Mm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Ju extends Mm{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function Iv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Dv(n,e,t){const r=new Map;Et(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],f=u.transform,m=e.data.field(u.field);r.set(u.field,vA(f,m,t[o]))}return r}function UE(n,e,t){const r=new Map;for(const o of n){const u=o.transform,f=t.data.field(o.field);r.set(o.field,uh(u,f,e))}return r}class fh extends Mm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Tv extends Mm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class xI{constructor(e){this.count=e}}var cr,Kt;function ph(n){switch(n){default:return Xe();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function BE(n){if(void 0===n)return ur("GRPC error has no .code"),ae.UNKNOWN;switch(n){case cr.OK:return ae.OK;case cr.CANCELLED:return ae.CANCELLED;case cr.UNKNOWN:return ae.UNKNOWN;case cr.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case cr.INTERNAL:return ae.INTERNAL;case cr.UNAVAILABLE:return ae.UNAVAILABLE;case cr.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case cr.NOT_FOUND:return ae.NOT_FOUND;case cr.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case cr.ABORTED:return ae.ABORTED;case cr.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case cr.DATA_LOSS:return ae.DATA_LOSS;default:return Xe()}}(Kt=cr||(cr={}))[Kt.OK=0]="OK",Kt[Kt.CANCELLED=1]="CANCELLED",Kt[Kt.UNKNOWN=2]="UNKNOWN",Kt[Kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kt[Kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kt[Kt.NOT_FOUND=5]="NOT_FOUND",Kt[Kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kt[Kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kt[Kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kt[Kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kt[Kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kt[Kt.ABORTED=10]="ABORTED",Kt[Kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kt[Kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kt[Kt.INTERNAL=13]="INTERNAL",Kt[Kt.UNAVAILABLE=14]="UNAVAILABLE",Kt[Kt.DATA_LOSS=15]="DATA_LOSS";class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_c(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return wI(this.inner)}size(){return this.innerSize}}class cn{constructor(e,t){this.comparator=e,this.root=t||Dr.EMPTY}insert(e,t){return new cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dr.BLACK,null,null))}remove(e){return new cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xm(this.root,e,this.comparator,!1)}getReverseIterator(){return new xm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xm(this.root,e,this.comparator,!0)}}class xm{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dr{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:Dr.RED,this.left=null!=o?o:Dr.EMPTY,this.right=null!=u?u:Dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Dr(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Dr.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}Dr.EMPTY=null,Dr.RED=!0,Dr.BLACK=!1,Dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Dr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class fn{constructor(e){this.comparator=e,this.data=new cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jE(this.data.getIterator())}getIteratorFrom(e){return new jE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new fn(this.comparator);return t.data=e,t}}class jE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function gh(n){return n.hasNext()?n.getNext():void 0}const OI=new cn(Ve.comparator);function Mi(){return OI}const Om=new cn(Ve.comparator);function Av(){return Om}function tp(){return new ta(n=>n.toString(),(n,e)=>n.isEqual(e))}const $E=new cn(Ve.comparator),HE=new fn(Ve.comparator);function rn(...n){let e=HE;for(const t of n)e=e.add(t);return e}const GE=new fn(Lt);function Pm(){return GE}class np{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Rm.createSynthesizedTargetChangeForCurrentChange(e,t)),new np(_t.min(),r,Pm(),Mi(),rn())}}class Rm{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Rm(Ir.EMPTY_BYTE_STRING,t,rn(),rn(),rn())}}class mh{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class Nm{constructor(e,t){this.targetId=e,this.$=t}}class Sv{constructor(e,t,r=Ir.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class km{constructor(){this.B=0,this.L=zE(),this.U=Ir.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=rn(),t=rn(),r=rn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:Xe()}}),new Rm(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=zE()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class Mv{constructor(e){this.nt=e,this.st=new Map,this.it=Mi(),this.rt=qE(),this.ot=new fn(Lt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(Em(u))if(0===r){const f=new Ve(u.path);this.ct(t,f,An.newNoDocument(f,_t.min()))}else Et(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,f)=>{const m=this.wt(f);if(m){if(u.current&&Em(m.target)){const E=new Ve(m.target.path);null!==this.it.get(E)||this.It(f,E)||this.ct(f,E,An.newNoDocument(E,e))}u.j&&(t.set(f,u.H()),u.J())}});let r=rn();this.rt.forEach((u,f)=>{let m=!0;f.forEachWhile(E=>{const D=this.wt(E);return!D||2===D.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.it.forEach((u,f)=>f.setReadTime(e));const o=new np(e,t,this.ot,this.it,r);return this.it=Mi(),this.rt=qE(),this.ot=new fn(Lt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new km,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new fn(Lt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new km),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function qE(){return new cn(Ve.comparator)}function zE(){return new cn(Ve.comparator)}const PI={asc:"ASCENDING",desc:"DESCENDING"},RI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ZE{constructor(e,t){this.databaseId=e,this.N=t}}function Dc(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xv(n,e){return n.N?e.toBase64():e.toUint8Array()}function NI(n,e){return Dc(n,e.toTimestamp())}function Tr(n){return Et(!!n),_t.fromTimestamp(function(e){const t=Zs(e);return new Jn(t.seconds,t.nanos)}(n))}function Fm(n,e){return(t=n,new Qt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function WE(n){const e=Qt.fromString(n);return Et(Fv(e)),e}function yh(n,e){return Fm(n.databaseId,e.path)}function So(n,e){const t=WE(e);if(t.get(1)!==n.databaseId.projectId)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Te(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ve(yi(t))}function Ov(n,e){return Fm(n.databaseId,e)}function Pv(n){const e=WE(n);return 4===e.length?Qt.emptyPath():yi(e)}function rp(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function yi(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Tc(n,e,t){return{name:yh(n,e),fields:t.value.mapValue.fields}}function KE(n,e,t){const r=So(n,e.name),o=Tr(e.updateTime),u=new gi({mapValue:{fields:e.fields}}),f=An.newFoundDocument(r,o,u);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function qa(n,e){let t;if(e instanceof hh)t={update:Tc(n,e.key,e.value)};else if(e instanceof fh)t={delete:yh(n,e.key)};else if(e instanceof Ju)t={update:Tc(n,e.key,e.data),updateMask:LI(e.fieldMask)};else{if(!(e instanceof Tv))return Xe();t={verify:yh(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const f=u.transform;if(f instanceof lh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ch)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof dh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Qu)return{fieldPath:u.field.canonicalString(),increment:f.k};throw Xe()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:NI(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:Xe()),t;var o}function Rv(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?lr.updateTime(Tr(o.updateTime)):void 0!==o.exists?lr.exists(o.exists):lr.none():lr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,f){let m=null;"setToServerValue"in f?(Et("REQUEST_TIME"===f.setToServerValue),m=new lh):"appendMissingElements"in f?m=new ch(f.appendMissingElements.values||[]):"removeAllFromArray"in f?m=new dh(f.removeAllFromArray.values||[]):"increment"in f?m=new Qu(u,f.increment):Xe();const E=Cr.fromServerFormat(f.fieldPath);return new Xf(E,m)}(n,o)):[];var o;if(e.update){const o=So(n,e.update.name),u=new gi({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new ja((e.updateMask.fieldPaths||[]).map(D=>Cr.fromServerFormat(D)));return new Ju(o,u,f,t,r)}return new hh(o,u,t,r)}if(e.delete){const o=So(n,e.delete);return new fh(o,t)}if(e.verify){const o=So(n,e.verify);return new Tv(o,t)}return Xe()}function YE(n,e){return{documents:[Ov(n,e.path)]}}function kv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Ov(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Ov(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const D=E.map(x=>function(P){if("=="===P.op){if(CE(P.value))return{unaryFilter:{field:za(P.field),op:"IS_NAN"}};if(mm(P.value))return{unaryFilter:{field:za(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(CE(P.value))return{unaryFilter:{field:za(P.field),op:"IS_NOT_NAN"}};if(mm(P.value))return{unaryFilter:{field:za(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(P.field),op:XE(P.op),value:P.value}}}(x));return 1===D.length?D[0]:{compositeFilter:{op:"AND",filters:D}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(D=>{return{field:za((x=D).field),direction:JE(x.dir)};var x})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=(D=e.limit,n.N||wc(D)?D:{value:D});var D,m,E;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function QE(n){let e=Pv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Et(1===r);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let u=[];t.where&&(u=Lm(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(x=>{return new Ao(Xu((P=x).field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let m=null;t.limit&&(m=function(x){let P;return P="object"==typeof x?x.value:x,wc(P)?null:P}(t.limit));let E=null;var x;t.startAt&&(E=new Yu((x=t.startAt).values||[],!!x.before));let D=null;return t.endAt&&(D=function(x){return new Yu(x.values||[],!x.before)}(t.endAt)),RE(e,o,f,u,m,"F",E,D)}function Lm(n){return n?void 0!==n.unaryFilter?[eb(n)]:void 0!==n.fieldFilter?[EA(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Lm(e)).reduce((e,t)=>e.concat(t)):Xe():[]}function JE(n){return PI[n]}function XE(n){return RI[n]}function za(n){return{fieldPath:n.canonicalString()}}function Xu(n){return Cr.fromServerFormat(n.fieldPath)}function EA(n){return Xr.create(Xu(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(n.fieldFilter.op),n.fieldFilter.value)}function eb(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Xu(n.unaryFilter.field);return Xr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Xu(n.unaryFilter.field);return Xr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xu(n.unaryFilter.field);return Xr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Xu(n.unaryFilter.field);return Xr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}function LI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Fv(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Xn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nb(e)),e=tb(n.get(t),e);return nb(e)}function tb(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function nb(n){return n+"\x01\x01"}function hs(n){const e=n.length;if(Et(e>=2),2===e)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Qt.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const f=n.indexOf("\x01",u);switch((f<0||f>t)&&Xe(),n.charAt(f+1)){case"\x01":const m=n.substring(u,f);let E;0===o.length?E=m:(o+=m,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,f),o+="\0";break;case"\x11":o+=n.substring(u,f+1);break;default:Xe()}u=f+2}return new Qt(r)}const Vm=["userId","batchId"];function Lv(n,e){return[n,Xn(e)]}function rb(n,e,t){return[n,Xn(e),t]}const VI={},ib=["prefixPath","collectionGroup","readTime","documentId"],sb=["prefixPath","collectionGroup","documentId"],UI=["collectionGroup","readTime","prefixPath","documentId"],ob=["canonicalId","targetId"],ab=["targetId","path"],BI=["path","targetId"],jI=["collectionId","parent"],ub=["indexId","uid"],$I=["uid","sequenceNumber"],lb=["indexId","uid","arrayValue","directionalValue","documentKey"],cb=["indexId","uid","documentKey"],db=["userId","collectionPath","documentId"],hb=["userId","collectionPath","largestBatchId"],HI=["userId","collectionGroup","largestBatchId"],fb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],bA=[...fb,"documentOverlays"],Vv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],CA=[...Vv,"indexConfiguration","indexState","indexEntries"],GI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&t()},E=>r(E))}),f=!0,u===o&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(o=>o?he.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class Uv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Nr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Um(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=jm(r.target.error);this.At.reject(new Um(e,o))}}static open(e,t,r,o){try{return new Uv(t,e.transaction(o,r))}catch(u){throw new Um(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new DA(t)}}class na{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===na.Vt((0,$t.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),el(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,$t.hl)())return!1;if(na.St())return!0;const e=(0,$t.z$)(),t=na.Vt(e),r=0<t&&t<10,o=na.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,me.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=f=>{r(f.target.result)},u.onblocked=()=>{o(new Um(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=f=>{const m=f.target.error;o("VersionError"===m.name?new Te(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new Te(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Um(e,m))},u.onupgradeneeded=f=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.Pt.kt(f.target.result,u.transaction,f.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,me.Z)(function*(){const f="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Nt(e);const E=Uv.open(u.db,e,f?"readonly":"readwrite",r),D=o(E).next(x=>(E.bt(),x)).catch(x=>(E.abort(x),he.reject(x))).toPromise();return D.catch(()=>{}),yield E.Rt,D}catch(E){const D="FirebaseError"!==E.name&&m<3;if(Pe("SimpleDb","Transaction failed with error:",E.message,"Retrying:",D),u.close(),!D)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class IA{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return el(this.Ft.delete())}}class Um extends Te{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ra(n){return"IndexedDbTransactionError"===n.name}class DA{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),el(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),el(this.store.add(e))}get(e){return el(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),el(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),el(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Gt(o,(f,m)=>{u.push(m)}).next(()=>u)}{const o=this.store.getAll(r.range);return new he((u,f)=>{o.onerror=m=>{f(m.target.error)},o.onsuccess=m=>{u(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new he((o,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{o(f.target.result)}})}Qt(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Gt(o,(u,f,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Gt(o,t)}zt(e){const t=this.cursor({});return new he((r,o)=>{t.onerror=u=>{const f=jm(u.target.error);o(f)},t.onsuccess=u=>{const f=u.target.result;f?e(f.primaryKey,f.value).next(m=>{m?f.continue():r()}):r()}})}Gt(e,t){const r=[];return new he((o,u)=>{e.onerror=f=>{u(f.target.error)},e.onsuccess=f=>{const m=f.target.result;if(!m)return void o();const E=new IA(m),D=t(m.primaryKey,m.value,E);if(D instanceof he){const x=D.catch(P=>(E.done(),he.reject(P)));r.push(x)}E.isDone?o():null===E.Lt?m.continue():m.continue(E.Lt)}}).next(()=>he.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function el(n){return new he((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=jm(r.target.error);t(o)}})}let Bm=!1;function jm(n){const e=na.Vt((0,$t.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Te("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bm||(Bm=!0,setTimeout(()=>{throw r},0)),r}}return n}class Bv extends qI{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ei(n,e){const t=He(n);return na.xt(t.Ht,e)}class ip{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&MI(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Ev(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Ev(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(_t.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rn())}isEqual(e){return this.batchId===e.batchId&&yc(this.mutations,e.mutations,(t,r)=>bv(t,r))&&yc(this.baseMutations,e.baseMutations,(t,r)=>bv(t,r))}}class $m{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Et(e.mutations.length===r.length);let o=$E;const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new $m(e,t,r,o)}}class Hm{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Za{constructor(e,t,r,o,u=_t.min(),f=_t.min(),m=Ir.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zI{constructor(e){this.Jt=e}}function gb(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_h(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:yh(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:Dc(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ac(e.version)};else{if(!e.isUnknownDocument())return Xe();r.unknownDocument={path:t.path.toArray(),version:Ac(e.version)}}var o,u;return r}function _h(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ac(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function vh(n){const e=new Jn(n.seconds,n.nanoseconds);return _t.fromTimestamp(e)}function sp(n,e){const t=(e.baseMutations||[]).map(u=>Rv(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const f=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(f.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Rv(n.Jt,u)),o=Jn.fromMillis(e.localWriteTimeMs);return new ip(e.batchId,o,t,r)}function Gm(n){const e=vh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?vh(n.lastLimboFreeSnapshotVersion):_t.min();let r;var o;return void 0!==n.query.documents?(Et(1===(o=n.query).documents.length),r=mi(oh(Pv(o.documents[0])))):r=mi(QE(n.query)),new Za(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Ir.fromBase64String(n.resumeToken))}function mb(n,e){const t=Ac(e.snapshotVersion),r=Ac(e.lastLimboFreeSnapshotVersion);let o;o=Em(e.target)?YE(n.Jt,e.target):kv(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ku(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function jv(n){const e=QE({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?NE(e,e.limit,"L"):e}function $v(n,e){return new Hm(e.largestBatchId,Rv(n.Jt,e.overlayMutation))}function ZI(n,e){const t=e.path.lastSegment();return[n,Xn(e.path.popLast()),t]}class WI{getBundleMetadata(e,t){return qm(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:vh(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return qm(e).put({bundleId:(r=t).id,createTime:Ac(Tr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return yb(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:jv(o.bundledQuery),readTime:vh(o.readTime)};var o})}saveNamedQuery(e,t){return yb(e).put({name:(r=t).name,readTime:Ac(Tr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function qm(n){return ei(n,"bundles")}function yb(n){return ei(n,"namedQueries")}class fs{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new fs(e,t.uid||"")}getOverlay(e,t){return op(e).get(ZI(this.userId,t)).next(r=>r?$v(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,f)=>{const m=new Hm(t,f);o.push(this.Xt(e,m))}),he.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(f=>o.add(Xn(f.getCollectionPath())));const u=[];return o.forEach(f=>{const m=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);u.push(op(e).Qt("collectionPathOverlayIndex",m))}),he.waitFor(u)}getOverlaysForCollection(e,t,r){const o=tp(),u=Xn(t),f=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return op(e).qt("collectionPathOverlayIndex",f).next(m=>{for(const E of m){const D=$v(this.M,E);o.set(D.getKey(),D)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=tp();let f;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return op(e).Wt({index:"collectionGroupOverlayIndex",range:m},(E,D,x)=>{const P=$v(this.M,D);u.size()<o||P.largestBatchId===f?(u.set(P.getKey(),P),f=P.largestBatchId):x.done()}).next(()=>u)}Xt(e,t){return op(e).put(function(r,o,u){const[f,m,E]=ZI(o,u.mutation.key);return{userId:o,collectionPath:m,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:qa(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function op(n){return ei(n,"documentOverlays")}class tl{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Gn(e.integerValue));else if("doubleValue"in e){const r=Gn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Jo(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(vc(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?IE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Xe()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),Ve.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function KI(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function _b(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=KI(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}tl.fe=new tl;class Hv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=_b(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=_b(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class vb{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class wb{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class zm{constructor(){this.De=new Hv,this.Ce=new vb(this.De),this.xe=new wb(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Wa{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Wa(this.indexId,this.documentKey,this.arrayValue,r)}}function nl(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Eb(n.arrayValue,e.arrayValue),0!==t?t:(t=Eb(n.directionalValue,e.directionalValue),0!==t?t:Ve.comparator(n.documentKey,e.documentKey)))}function Eb(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class YI{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=_m(e);if(void 0!==t&&!this.Be(t))return!1;const r=Cc(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const f=r[o];if(!this.Le(this.Fe,f)||!this.Ue(this.Me[u++],f))return!1;++o}for(;o<r.length;++o){const f=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],f))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Gv{constructor(){this.qe=new ps}addToCollectionParentIndex(e,t){return this.qe.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getFieldIndex(e,t){return he.resolve(null)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class ps{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new fn(Qt.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new fn(Qt.comparator)).toArray()}}const Zm=new Uint8Array(0);class TA{constructor(e){this.user=e,this.Ge=new ps,this.Ke=new ta(t=>Ku(t),(t,r)=>Kf(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const u={collectionId:r,parent:Xn(o)};return bb(e).put(u)}return he.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[av(t),""],!1,!0);return bb(e).qt(o).next(u=>{for(const f of u){if(f.collectionId!==t)break;r.push(hs(f.parent))}return r})}addFieldIndex(e,t){const r=Wm(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=Wm(e),o=Km(e),u=wh(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=wh(e);let o=!0;const u=new Map;return he.forEach(this.Qe(t),f=>this.getFieldIndex(e,f).next(m=>{o&&(o=!!m),u.set(f,m)})).next(()=>{if(o){let f=rn();return he.forEach(u,(m,E)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=m,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(ct=>`${ct.fieldPath}:${ct.kind}`).join(",")}`} to execute ${Ku(t)}`);const x=function(ct,bn){const bt=_m(bn);if(void 0===bt)return null;for(const Ht of sh(ct,bt.fieldPath))switch(Ht.op){case"array-contains-any":return Ht.value.arrayValue.values||[];case"array-contains":return[Ht.value]}return null}(E,m),P=function(ct,bn){const bt=new Map;for(const Ht of Cc(bn))for(const Gt of sh(ct,Ht.fieldPath))switch(Gt.op){case"==":case"in":bt.set(Ht.fieldPath.canonicalString(),Gt.value);break;case"not-in":case"!=":return bt.set(Ht.fieldPath.canonicalString(),Gt.value),Array.from(bt.values())}return null}(E,m),H=function(ct,bn){const bt=[];let Ht=!0;for(const ol of Cc(bn)){let Mo,Ip=!0;for(const ni of sh(ct,ol.fieldPath)){let er,my=!0;switch(ni.op){case"<":case"<=":er="nullValue"in(Gt=ni.value)?lv:"booleanValue"in Gt?{booleanValue:!1}:"integerValue"in Gt||"doubleValue"in Gt?{doubleValue:NaN}:"timestampValue"in Gt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Gt?{stringValue:""}:"bytesValue"in Gt?{bytesValue:""}:"referenceValue"in Gt?ih($a.empty(),Ve.empty()):"geoPointValue"in Gt?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Gt?{arrayValue:{}}:"mapValue"in Gt?{mapValue:{}}:Xe();break;case"==":case"in":case">=":er=ni.value;break;case">":er=ni.value,my=!1;break;case"!=":case"not-in":er=lv}DE(Mo,er)===er&&(Mo=er,Ip=my)}if(null!==ct.startAt)for(let ni=0;ni<ct.orderBy.length;++ni)if(ct.orderBy[ni].field.isEqual(ol.fieldPath)){const er=ct.startAt.position[ni];DE(Mo,er)===er&&(Mo=er,Ip=ct.startAt.inclusive);break}if(void 0===Mo)return null;bt.push(Mo),Ht&&(Ht=Ip)}var Gt;return new Yu(bt,Ht)}(E,m),W=function(ct,bn){const bt=[];let Ht=!0;for(const ol of Cc(bn)){let Mo,Ip=!0;for(const ni of sh(ct,ol.fieldPath)){let er,my=!0;switch(ni.op){case">=":case">":er="nullValue"in(Gt=ni.value)?{booleanValue:!1}:"booleanValue"in Gt?{doubleValue:NaN}:"integerValue"in Gt||"doubleValue"in Gt?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Gt?{stringValue:""}:"stringValue"in Gt?{bytesValue:""}:"bytesValue"in Gt?ih($a.empty(),Ve.empty()):"referenceValue"in Gt?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Gt?{arrayValue:{}}:"arrayValue"in Gt?{mapValue:{}}:"mapValue"in Gt?EE:Xe(),my=!1;break;case"==":case"in":case"<=":er=ni.value;break;case"<":er=ni.value,my=!1;break;case"!=":case"not-in":er=EE}TE(Mo,er)===er&&(Mo=er,Ip=my)}if(null!==ct.endAt)for(let ni=0;ni<ct.orderBy.length;++ni)if(ct.orderBy[ni].field.isEqual(ol.fieldPath)){const er=ct.endAt.position[ni];TE(Mo,er)===er&&(Mo=er,Ip=ct.endAt.inclusive);break}if(void 0===Mo)return null;bt.push(Mo),Ht&&(Ht=Ip)}var Gt;return new Yu(bt,Ht)}(E,m),fe=this.je(m,E,H),ke=this.je(m,E,W),tt=this.We(m,E,P),zt=this.ze(m.indexId,x,fe,!!H&&H.inclusive,ke,!!W&&W.inclusive,tt);return he.forEach(zt,ct=>r.Kt(ct,t.limit).next(bn=>{bn.forEach(bt=>{f=f.add(new Ve(hs(bt.documentKey)))})}))}).next(()=>f)}return he.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,o,u,f,m){const E=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),D=E/(null!=t?t.length:1),x=[];for(let P=0;P<E;++P){const H=t?this.He(t[P/D]):Zm,W=r?this.Je(e,H,r[P%D],o):this.Ye(e),fe=u?this.Xe(e,H,u[P%D],f):this.Ye(e+1);x.push(...this.createRange(W,fe,m.map(ke=>this.Je(e,H,ke,!0))))}return x}Je(e,t,r,o){const u=new Wa(e,Ve.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new Wa(e,Ve.empty(),t,r);return o?u.ke():u}Ye(e){return new Wa(e,Ve.empty(),Zm,Zm)}getFieldIndex(e,t){const r=new YI(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{const f=u.filter(m=>r.$e(m));return f.sort((m,E)=>E.fields.length-m.fields.length),f.length>0?f[0]:null})}Ze(e,t){const r=new zm;for(const o of Cc(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const f=r.Ne(o.kind);tl.fe.Zt(u,f)}return r.Se()}He(e){const t=new zm;return tl.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let o=[];o.push(new zm);let u=0;for(const f of Cc(e)){const m=r[u++];for(const E of o)if(this.tn(t,f.fieldPath)&&qf(m))o=this.en(o,f,m);else{const D=E.Ne(f.kind);tl.fe.Zt(m,D)}}return this.nn(o)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const o=[...e],u=[];for(const f of r.arrayValue.values||[])for(const m of o){const E=new zm;E.seed(m.Se()),tl.fe.Zt(f,E.Ne(t.kind)),u.push(E)}return u}tn(e,t){return!!e.filters.find(r=>r instanceof Xr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Wm(e),o=Km(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const f=[];return he.forEach(u,m=>o.get([m.indexId,this.uid]).next(E=>{f.push(function(D,x){const P=x?new Wf(x.sequenceNumber,new Ha(vh(x.readTime),new Ve(hs(x.documentKey)),x.largestBatchId)):Wf.empty(),H=D.fields.map(([W,fe])=>new vm(Cr.fromServerFormat(W),fe));return new ym(D.indexId,D.collectionGroup,H,P)}(m,E))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Lt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=Wm(e),u=Km(e);return this.sn(e).next(f=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>he.forEach(m,E=>{return u.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:f,readTime:Ac((H=r).readTime),documentKey:Xn(H.documentKey.path),largestBatchId:H.largestBatchId});var H})))}updateIndexEntries(e,t){const r=new Map;return he.forEach(t,(o,u)=>{const f=r.get(o.collectionGroup);return(f?he.resolve(f):this.getFieldIndexes(e,o.collectionGroup)).next(m=>(r.set(o.collectionGroup,m),he.forEach(m,E=>this.rn(e,o,E).next(D=>{const x=this.on(u,E);return D.isEqual(x)?he.resolve():this.un(e,u,D,x)}))))})}an(e,t,r){return wh(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Xn(t.key.path)})}cn(e,t,r){return wh(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Xn(t.key.path)])}rn(e,t,r){const o=wh(e);let u=new fn(nl);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Xn(t.path)])},(f,m)=>{u=u.add(new Wa(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}on(e,t){let r=new fn(nl);const o=this.Ze(t,e);if(null==o)return r;const u=_m(t);if(null!=u){const f=e.data.field(u.fieldPath);if(qf(f))for(const m of f.arrayValue.values||[])r=r.add(new Wa(t.indexId,e.key,this.He(m),o))}else r=r.add(new Wa(t.indexId,e.key,Zm,o));return r}un(e,t,r,o){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,m,E,D,x){const P=f.getIterator(),H=m.getIterator();let W=gh(P),fe=gh(H);for(;W||fe;){let ke=!1,tt=!1;if(W&&fe){const zt=E(W,fe);zt<0?tt=!0:zt>0&&(ke=!0)}else null!=W?tt=!0:ke=!0;ke?(D(fe),fe=gh(H)):tt?(x(W),W=gh(P)):(W=gh(P),fe=gh(H))}}(r,o,nl,f=>{u.push(this.an(e,t,f))},f=>{u.push(this.cn(e,t,f))}),he.waitFor(u)}sn(e){let t=1;return Km(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((f,m)=>nl(f,m)).filter((f,m,E)=>!m||0!==nl(f,E[m-1]));const o=[];o.push(e);for(const f of r){const m=nl(f,e),E=nl(f,t);if(0===m)o[0]=e.ke();else if(m>0&&E<0)o.push(f),o.push(f.ke());else if(E>0)break}o.push(t);const u=[];for(let f=0;f<o.length;f+=2)u.push(IDBKeyRange.bound([o[f].indexId,this.uid,o[f].arrayValue,o[f].directionalValue,""],[o[f+1].indexId,this.uid,o[f+1].arrayValue,o[f+1].directionalValue,""]));return u}}function bb(n){return ei(n,"collectionParents")}function wh(n){return ei(n,"indexEntries")}function Wm(n){return ei(n,"indexConfiguration")}function Km(n){return ei(n,"indexState")}const qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ui{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ui(e,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function QI(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],f=IDBKeyRange.only(t.batchId);let m=0;const E=r.Wt({range:f},(x,P,H)=>(m++,H.delete()));u.push(E.next(()=>{Et(1===m)}));const D=[];for(const x of t.mutations){const P=rb(e,x.key.path,t.batchId);u.push(o.delete(P)),D.push(x.key)}return he.waitFor(u).next(()=>D)}function ap(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xe();e=n.noDocument}return JSON.stringify(e).length}Ui.DEFAULT_COLLECTION_PERCENTILE=10,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ui.DEFAULT=new Ui(41943040,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ui.DISABLED=new Ui(-1,0,0);class Ym{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.hn={}}static Yt(e,t,r,o){Et(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Ym(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).Wt({index:"userMutationsIndex",range:r},(o,u,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Sc(e),f=rl(e);return f.add({}).next(m=>{Et("number"==typeof m);const E=new ip(m,t,r,o),D=function(H,W,fe){const ke=fe.baseMutations.map(zt=>qa(H.Jt,zt)),tt=fe.mutations.map(zt=>qa(H.Jt,zt));return{userId:W,batchId:fe.batchId,localWriteTimeMs:fe.localWriteTime.toMillis(),baseMutations:ke,mutations:tt}}(this.M,this.userId,E),x=[];let P=new fn((H,W)=>Lt(H.canonicalString(),W.canonicalString()));for(const H of o){const W=rb(this.userId,H.key.path,m);P=P.add(H.key.path.popLast()),x.push(f.put(D)),x.push(u.put(W,VI))}return P.forEach(H=>{x.push(this.indexManager.addToCollectionParentIndex(e,H))}),e.addOnCommittedListener(()=>{this.hn[m]=E.keys()}),he.waitFor(x).next(()=>E)})}lookupMutationBatch(e,t){return rl(e).get(t).next(r=>r?(Et(r.userId===this.userId),sp(this.M,r)):null)}ln(e,t){return this.hn[t]?he.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.hn[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return rl(e).Wt({index:"userMutationsIndex",range:o},(f,m,E)=>{m.userId===this.userId&&(Et(m.batchId>=r),u=sp(this.M,m)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return rl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,f)=>{r=u.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return rl(e).qt("userMutationsIndex",t).next(r=>r.map(o=>sp(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Lv(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Sc(e).Wt({range:o},(f,m,E)=>{const[D,x,P]=f,H=hs(x);if(D===this.userId&&t.path.isEqual(H))return rl(e).get(P).next(W=>{if(!W)throw Xe();Et(W.userId===this.userId),u.push(sp(this.M,W))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(Lt);const o=[];return t.forEach(u=>{const f=Lv(this.userId,u.path),m=IDBKeyRange.lowerBound(f),E=Sc(e).Wt({range:m},(D,x,P)=>{const[H,W,fe]=D,ke=hs(W);H===this.userId&&u.path.isEqual(ke)?r=r.add(fe):P.done()});o.push(E)}),he.waitFor(o).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=Lv(this.userId,r),f=IDBKeyRange.lowerBound(u);let m=new fn(Lt);return Sc(e).Wt({range:f},(E,D,x)=>{const[P,H,W]=E,fe=hs(H);P===this.userId&&r.isPrefixOf(fe)?fe.length===o&&(m=m.add(W)):x.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(rl(e).get(u).next(f=>{if(null===f)throw Xe();Et(f.userId===this.userId),r.push(sp(this.M,f))}))}),he.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return QI(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),he.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Sc(e).Wt({range:r},(u,f,m)=>{if(u[0]===this.userId){const E=hs(u[1]);o.push(E)}else m.done()}).next(()=>{Et(0===o.length)})})}containsKey(e,t){return Cb(e,this.userId,t)}_n(e){return Qm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Cb(n,e,t){const r=Lv(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let f=!1;return Sc(n).Wt({range:u,jt:!0},(m,E,D)=>{const[x,P,H]=m;x===e&&P===o&&(f=!0),D.done()}).next(()=>f)}function rl(n){return ei(n,"mutations")}function Sc(n){return ei(n,"documentMutations")}function Qm(n){return ei(n,"mutationQueues")}class Ka{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Ka(0)}static gn(){return new Ka(-1)}}class Ib{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new Ka(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>_t.fromTimestamp(new Jn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.pn(e,o)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Eh(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Et(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Eh(e).Wt((f,m)=>{const E=Gm(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>he.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Eh(e).Wt((r,o)=>{const u=Gm(o);t(u)})}yn(e){return zv(e).get("targetGlobalKey").next(t=>(Et(null!==t),t))}pn(e,t){return zv(e).put("targetGlobalKey",t)}In(e,t){return Eh(e).put(mb(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ku(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Eh(e).Wt({range:o,index:"queryTargetsIndex"},(f,m,E)=>{const D=Gm(m);Kf(t,D.target)&&(u=D,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Ya(e);return t.forEach(f=>{const m=Xn(f.path);o.push(u.put({targetId:r,path:m})),o.push(this.referenceDelegate.addReference(e,r,f))}),he.waitFor(o)}removeMatchingKeys(e,t,r){const o=Ya(e);return he.forEach(t,u=>{const f=Xn(u.path);return he.waitFor([o.delete([r,f]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Ya(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Ya(e);let u=rn();return o.Wt({range:r,jt:!0},(f,m,E)=>{const D=hs(f[1]),x=new Ve(D);u=u.add(x)}).next(()=>u)}containsKey(e,t){const r=Xn(t.path),o=IDBKeyRange.bound([r],[av(r)],!1,!0);let u=0;return Ya(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([f,m],E,D)=>{0!==f&&(u++,D.done())}).next(()=>u>0)}Et(e,t){return Eh(e).get(t).next(r=>r?Gm(r):null)}}function Eh(n){return ei(n,"targets")}function zv(n){return ei(n,"targetGlobal")}function Ya(n){return ei(n,"targetDocuments")}function Mc(n){return Zv.apply(this,arguments)}function Zv(){return Zv=(0,me.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==GI)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),Zv.apply(this,arguments)}function JI([n,e],[t,r]){const o=Lt(n,t);return 0===o?Lt(e,r):o}class AA{constructor(e){this.En=e,this.buffer=new fn(JI),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();JI(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Db{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,me.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){ra(o)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Mc(o)}yield t.vn(e)}))}}class XI{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return he.resolve(ds.A);const r=new AA(t);return this.Sn.forEachTarget(e,o=>r.bn(o.sequenceNumber)).next(()=>this.Sn.Cn(e,o=>r.bn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(qv)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qv):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,o,u,f,m,E,D;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),o=this.params.maximumSequenceNumbersToCollect):o=P,f=Date.now(),this.nthSequenceNumber(e,o))).next(P=>(r=P,m=Date.now(),this.removeTargets(e,r,t))).next(P=>(u=P,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(D=Date.now(),uE()<=Na.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-x}ms\n\tDetermined least recently used ${o} in `+(m-f)+`ms\n\tRemoved ${u} targets in `+(E-m)+`ms\n\tRemoved ${P} documents in `+(D-E)+`ms\nTotal Duration: ${D-x}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:P})))}}class eD{constructor(e,t){this.db=e,this.garbageCollector=new XI(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,o)=>t(o))}addReference(e,t,r){return Jm(e,r)}removeReference(e,t,r){return Jm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Jm(e,t)}Mn(e,t){return function(r,o){let u=!1;return Qm(r).zt(f=>Cb(r,f,o).next(m=>(m&&(u=!0),he.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.kn(e,(f,m)=>{if(m<=t){const E=this.Mn(e,f).next(D=>{if(!D)return u++,r.getEntry(e,f).next(()=>(r.removeEntry(f,_t.min()),Ya(e).delete([0,Xn(f.path)])))});o.push(E)}}).next(()=>he.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Jm(e,t)}kn(e,t){const r=Ya(e);let o,u=ds.A;return r.Wt({index:"documentTargetsIndex"},([f,m],{path:E,sequenceNumber:D})=>{0===f?(u!==ds.A&&t(new Ve(hs(o)),u),u=D,o=E):u=ds.A}).next(()=>{u!==ds.A&&t(new Ve(hs(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jm(n,e){return Ya(n).put((r=n.currentSequenceNumber,{targetId:0,path:Xn(e.path),sequenceNumber:r}));var r}class tD{constructor(){this.changes=new ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class SA{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return bh(e).put(r)}removeEntry(e,t,r){return bh(e).delete(function(o,u){const f=o.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],_h(u),f[f.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=An.newInvalidDocument(t);return bh(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(up(t))},(o,u)=>{r=this.Fn(t,u)}).next(()=>r)}$n(e,t){let r={size:0,document:An.newInvalidDocument(t)};return bh(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(up(t))},(o,u)=>{r={document:this.Fn(t,u),size:ap(u)}}).next(()=>r)}getEntries(e,t){let r=Mi();return this.Bn(e,t,(o,u)=>{const f=this.Fn(o,u);r=r.insert(o,f)}).next(()=>r)}Ln(e,t){let r=Mi(),o=new cn(Ve.comparator);return this.Bn(e,t,(u,f)=>{const m=this.Fn(u,f);r=r.insert(u,m),o=o.insert(u,ap(f))}).next(()=>({documents:r,Un:o}))}Bn(e,t,r){if(t.isEmpty())return he.resolve();let o=new fn(Tb);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(up(o.first()),up(o.last())),f=o.getIterator();let m=f.getNext();return bh(e).Wt({index:"documentKeyIndex",range:u},(E,D,x)=>{const P=Ve.fromSegments([...D.prefixPath,D.collectionGroup,D.documentId]);for(;m&&Tb(m,P)<0;)r(m,null),m=f.getNext();m&&m.isEqual(P)&&(r(m,D),m=f.hasNext()?f.getNext():null),m?x.Ut(up(m)):x.done()}).next(()=>{for(;m;)r(m,null),m=f.hasNext()?f.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),_h(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bh(e).qt(IDBKeyRange.bound(o,u,!0)).next(f=>{let m=Mi();for(const E of f){const D=this.Fn(Ve.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(D.key,D)}return m})}getAllFromCollectionGroup(e,t,r,o){let u=Mi();const f=lp(t,r),m=lp(t,Ha.max());return bh(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,m,!0)},(E,D,x)=>{const P=this.Fn(Ve.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);u=u.insert(P.key,P),u.size===o&&x.done()}).next(()=>u)}newChangeBuffer(e){return new MA(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return nD(e).get("remoteDocumentGlobalKey").next(t=>(Et(!!t),t))}On(e,t){return nD(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function pb(n,e){let t;if(e.document)t=KE(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ve.fromSegments(e.noDocument.path),o=vh(e.noDocument.readTime);t=An.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xe();{const r=Ve.fromSegments(e.unknownDocument.path),o=vh(e.unknownDocument.version);t=An.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Jn(r[0],r[1]);return _t.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(_t.min()))return r}return An.newInvalidDocument(e)}}class MA extends tD{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new ta(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new fn((u,f)=>Lt(u.canonicalString(),f.canonicalString()));return this.changes.forEach((u,f)=>{const m=this.Gn.get(u);if(t.push(this.qn.removeEntry(e,u,m.readTime)),f.isValidDocument()){const E=gb(this.qn.M,f);o=o.add(u.path.popLast()),r+=ap(E)-m.size,t.push(this.qn.addEntry(e,u,E))}else if(r-=m.size,this.trackRemovals){const E=gb(this.qn.M,f.convertToNoDocument(_t.min()));t.push(this.qn.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.qn.updateMetadata(e,r)),he.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:o})=>(o.forEach((u,f)=>{this.Gn.set(u,{size:f,readTime:r.get(u).readTime})}),r))}}function nD(n){return ei(n,"remoteDocumentGlobal")}function bh(n){return ei(n,"remoteDocumentsV14")}function up(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lp(n,e){const t=e.documentKey.path.toArray();return[n,_h(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Tb(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Ve.comparator(n,e)}class rD{constructor(e){this.M=e}kt(e,t,r,o){const u=new Uv("createOrUpgrade",t);var m;r<1&&o>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vm,{unique:!0}),m.createObjectStore("documentMutations"),Wv(e),function(m){m.createObjectStore("remoteDocuments")}(e));let f=he.resolve();return r<3&&o>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Wv(e)),f=f.next(()=>function(m){const E=m.store("targetGlobal"),D={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",D)}(u))),r<4&&o>=4&&(0!==r&&(f=f.next(()=>function(m,E){return E.store("mutations").qt().next(D=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Vm,{unique:!0});const x=E.store("mutations"),P=D.map(H=>x.put(H));return he.waitFor(P)})}(e,u))),f=f.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(f=f.next(()=>this.Kn(u))),r<6&&o>=6&&(f=f.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(u)))),r<7&&o>=7&&(f=f.next(()=>this.jn(u))),r<8&&o>=8&&(f=f.next(()=>this.Wn(e,u))),r<9&&o>=9&&(f=f.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(f=f.next(()=>this.zn(u))),r<11&&o>=11&&(f=f.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(f=f.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:db});E.createIndex("collectionPathOverlayIndex",hb,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",HI,{unique:!1})}(e)})),r<13&&o>=13&&(f=f.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:ib});E.createIndex("documentKeyIndex",sb),E.createIndex("collectionGroupIndex",UI)}(e)).next(()=>this.Hn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(f=f.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:ub}).createIndex("sequenceNumberIndex",$I,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:lb}).createIndex("documentKeyIndex",cb,{unique:!1})}(e)})),f}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=ap(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>he.forEach(o,u=>{const f=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",f).next(m=>he.forEach(m,E=>{Et(E.userId===u.userId);const D=sp(this.M,E);return QI(e,u.userId,D).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((f,m)=>{const E=new Qt(f),D=[0,Xn(E)];u.push(t.get(D).next(x=>x?he.resolve():t.put({targetId:0,path:Xn(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>he.waitFor(u))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:jI});const r=t.store("collectionParents"),o=new ps,u=f=>{if(o.add(f)){const m=f.lastSegment(),E=f.popLast();return r.put({collectionId:m,parent:Xn(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(f,m)=>{const E=new Qt(f);return u(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([f,m,E],D)=>{const x=hs(m);return u(x.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=Gm(o),f=mb(this.M,u);return t.put(f)})}Hn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,f)=>{const m=t.store("remoteDocumentsV14"),E=(D=f,D.document?new Ve(Qt.fromString(D.document.name).popFirst(5)):D.noDocument?Ve.fromSegments(D.noDocument.path):D.unknownDocument?Ve.fromSegments(D.unknownDocument.path):Xe()).path.toArray();var D;const x={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};o.push(m.put(x))}).next(()=>he.waitFor(o))}}function Wv(n){n.createObjectStore("targetDocuments",{keyPath:ab}).createIndex("documentTargetsIndex",BI,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",ob,{unique:!0}),n.createObjectStore("targetGlobal")}const Qa="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Xm{constructor(e,t,r,o,u,f,m,E,D,x,P=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=u,this.window=f,this.document=m,this.Yn=D,this.Xn=x,this.Zn=P,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=H=>Promise.resolve(),!Xm.vt())throw new Te(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new eD(this,o),this.cs=t+"main",this.M=new zI(E),this.hs=new na(this.cs,this.Zn,new rD(this.M)),this.ls=new Ib(this.referenceDelegate,this.M),this.fs=new SA(this.M),this.ds=new WI,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===x&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,Qa);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new ds(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,me.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,me.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,me.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ch(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(ra(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return xc(e).get("owner").next(t=>he.resolve(this.bs(t)))}Ps(e){return Ch(e).delete(this.clientId)}Vs(){var e=this;return(0,me.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ei(r,"clientMetadata");return o.qt().next(u=>{const f=e.Ss(u,18e5),m=u.filter(E=>-1===f.indexOf(E));return he.forEach(m,E=>o.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?he.resolve(!0):xc(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new Te(ae.FAILED_PRECONDITION,Qa);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ch(e).qt().next(r=>void 0===this.Ss(r,5e3).find(o=>{if(this.clientId!==o.clientId){const f=!this.inForeground&&o.inForeground,m=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||f&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,me.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Bv(t,ds.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>Ch(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return Ym.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new TA(e)}getDocumentOverlayCache(e){return fs.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(f=this.Zn)?CA:13===f?Vv:12===f?bA:11===f?fb:void Xe();var f;let m;return this.hs.runTransaction(e,o,u,E=>(m=new Bv(E,this.ts?this.ts.next():ds.A),"readwrite-primary"===t?this.Ts(m).next(D=>!!D||this.Es(m)).next(D=>{if(!D)throw ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new Te(ae.FAILED_PRECONDITION,GI);return r(m)}).next(D=>this.Rs(m).next(()=>D)):this.Fs(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}Fs(e){return xc(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Te(ae.FAILED_PRECONDITION,Qa)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xc(e).put("owner",t)}static vt(){return na.vt()}As(e){const t=xc(e);return t.get("owner").next(r=>this.bs(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(ur(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,$t.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ur("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){ur("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xc(n){return ei(n,"owner")}function Ch(n){return ei(n,"clientMetadata")}function Kv(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Yv{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}Us(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Ve.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):Qf(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new Ve(t)).next(r=>{let o=Av();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let u=Av();return this.indexManager.getCollectionParents(e,o).next(f=>he.forEach(f,m=>{const E=(D=t,x=m.child(o),new ea(x,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,x;return this.Ws(e,E,r).next(D=>{D.forEach((x,P)=>{u=u.insert(x,P)})})}).next(()=>u))}Ws(e,t,r){let o;return this.fs.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const f of u)for(const m of f.mutations){const E=m.key;let D=o.get(E);null==D&&(D=An.newInvalidDocument(E),o=o.insert(E,D)),Ev(m,D,f.localWriteTime),D.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((u,f)=>{mv(t,f)||(o=o.remove(u))}),o))}}class cp{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=rn(),o=rn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cp(e,t.fromCache,r,o)}}class dp{Ys(e){this.Xs=e}Ks(e,t,r,o){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(_t.min())?this.Zs(e,t):this.Xs.qs(e,o).next(u=>{const f=this.ti(t,u);return(Cm(t)||Im(t))&&this.ei(t.limitType,f,o,r)?this.Zs(e,t):(uE()<=Na.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),gv(t)),this.Xs.Ks(e,t,dv(r,-1)).next(m=>(f.forEach(E=>{m=m.insert(E.key,E)}),m)))});var u}ti(e,t){let r=new fn(kE(e));return t.forEach((o,u)=>{mv(e,u)&&(r=r.add(u))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Zs(e,t){return uE()<=Na.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",gv(t)),this.Xs.Ks(e,t,Ha.min())}}class xA{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new cn(Lt),this.ii=new ta(u=>Ku(u),Kf),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new Yv(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function iD(n,e,t,r){return new xA(n,e,t,r)}function sD(n,e){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,me.Z)(function*(n,e){const t=He(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.$s.getAllMutationBatches(r).next(u=>(o=u,t.ui(e),t.$s.getAllMutationBatches(r))).next(u=>{const f=[],m=[];let E=rn();for(const D of o){f.push(D.batchId);for(const x of D.mutations)E=E.add(x.key)}for(const D of u){m.push(D.batchId);for(const x of D.mutations)E=E.add(x.key)}return t.ai.qs(r,E).next(D=>({ci:D,removedBatchIds:f,addedBatchIds:m}))})})}),Ab.apply(this,arguments)}function Sb(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.oi.newChangeBuffer({trackRemovals:!0});return function(f,m,E,D){const x=E.batch,P=x.keys();let H=he.resolve();return P.forEach(W=>{H=H.next(()=>D.getEntry(m,W)).next(fe=>{const ke=E.docVersions.get(W);Et(null!==ke),fe.version.compareTo(ke)<0&&(x.applyToRemoteDocument(fe,E),fe.isValidDocument()&&(fe.setReadTime(E.commitVersion),D.addEntry(fe)))})}),H.next(()=>f.$s.removeMutationBatch(m,x))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,o))})}function Mb(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function oD(n,e){const t=He(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const m=[];e.targetChanges.forEach((D,x)=>{const P=o.get(x);if(!P)return;m.push(t.ls.removeMatchingKeys(u,D.removedDocuments,x).next(()=>t.ls.addMatchingKeys(u,D.addedDocuments,x)));let H=P.withSequenceNumber(u.currentSequenceNumber);var W,fe,ke;e.targetMismatches.has(x)?H=H.withResumeToken(Ir.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):D.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(D.resumeToken,r)),o=o.insert(x,H),fe=H,ke=D,(0===(W=P).resumeToken.approximateByteSize()||fe.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=3e8||ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(u,H))});let E=Mi();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,D))}),m.push(xb(u,f,e.documentUpdates).next(D=>{E=D})),!r.isEqual(_t.min())){const D=t.ls.getLastRemoteSnapshotVersion(u).next(x=>t.ls.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(D)}return he.waitFor(m).next(()=>f.apply(u)).next(()=>t.ai.Gs(u,E)).next(()=>E)}).then(u=>(t.si=o,u))}function xb(n,e,t){let r=rn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=Mi();return t.forEach((f,m)=>{const E=o.get(f);m.isNoDocument()&&m.version.isEqual(_t.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!E.isValidDocument()||m.version.compareTo(E.version)>0||0===m.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):Pe("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",m.version)}),u})}function aD(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Oc(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ls.getTargetData(r,e).next(u=>u?(o=u,he.resolve(o)):t.ls.allocateTargetId(r).next(f=>(o=new Za(e,f,0,r.currentSequenceNumber),t.ls.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function Pc(n,e,t){return ey.apply(this,arguments)}function ey(){return ey=(0,me.Z)(function*(n,e,t){const r=He(n),o=r.si.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!ra(f))throw f;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),ey.apply(this,arguments)}function ty(n,e,t){const r=He(n);let o=_t.min(),u=rn();return r.persistence.runTransaction("Execute query","readonly",f=>function(m,E,D){const x=He(m),P=x.ii.get(D);return void 0!==P?he.resolve(x.si.get(P)):x.ls.getTargetData(E,D)}(r,f,mi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(f,m.targetId).next(E=>{u=E})}).next(()=>r.ni.Ks(f,e,t?o:_t.min(),t?u:rn())).next(m=>(ny(r,Am(e),m),{documents:m,hi:u})))}function Ob(n,e){const t=He(n),r=He(t.ls),o=t.si.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(f=>f?f.target:null))}function Qv(n,e){const t=He(n),r=t.ri.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.oi.getAllFromCollectionGroup(o,e,dv(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(ny(t,e,o),o))}function ny(n,e,t){let r=_t.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ri.set(e,r)}function ry(){return ry=(0,me.Z)(function*(n,e,t,r){const o=He(n);let u=rn(),f=Mi();for(const D of t){const x=e.li(D.metadata.name);D.document&&(u=u.add(x));const P=e.fi(D);P.setReadTime(e.di(D.metadata.readTime)),f=f.insert(x,P)}const m=o.oi.newChangeBuffer({trackRemovals:!0}),E=yield Oc(o,(D=r,mi(oh(Qt.fromString(`__bundle__/docs/${D}`)))));var D;return o.persistence.runTransaction("Apply bundle documents","readwrite",D=>xb(D,m,f).next(x=>(m.apply(D),x)).next(x=>o.ls.removeMatchingKeysForTargetId(D,E.targetId).next(()=>o.ls.addMatchingKeys(D,u,E.targetId)).next(()=>o.ai.Gs(D,x)).next(()=>x)))}),ry.apply(this,arguments)}function Jv(n,e){return Xv.apply(this,arguments)}function Xv(){return Xv=(0,me.Z)(function*(n,e,t=rn()){const r=yield Oc(n,mi(jv(e.bundledQuery))),o=He(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const f=Tr(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return o.ds.saveNamedQuery(u,e);const m=r.withResumeToken(Ir.EMPTY_BYTE_STRING,f);return o.si=o.si.insert(m.targetId,m),o.ls.updateTargetData(u,m).next(()=>o.ls.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.ls.addMatchingKeys(u,t,r.targetId)).next(()=>o.ds.saveNamedQuery(u,e))})}),Xv.apply(this,arguments)}class uD{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return he.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Tr(r.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:jv(r.bundledQuery),readTime:Tr(r.readTime)}),he.resolve();var r}}class PA{constructor(){this.overlays=new cn(Ve.comparator),this.mi=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.mi.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const o=tp(),u=t.length+1,f=new Ve(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const E=m.getNext().value,D=E.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return he.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new cn((D,x)=>D-x);const f=this.overlays.getIterator();for(;f.hasNext();){const D=f.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let x=u.get(D.largestBatchId);null===x&&(x=tp(),u=u.insert(D.largestBatchId,x)),x.set(D.getKey(),D)}}const m=tp(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((D,x)=>m.set(D,x)),!(m.size()>=o)););return he.resolve(m)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const f=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new Hm(t,r));let u=this.mi.get(t);void 0===u&&(u=rn(),this.mi.set(t,u)),this.mi.set(t,u.add(r.key))}}class Pb{constructor(){this.gi=new fn(ti.yi),this.pi=new fn(ti.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new ti(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new ti(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Ve(new Qt([])),r=new ti(t,e),o=new ti(t,e+1),u=[];return this.pi.forEachInRange([r,o],f=>{this.Ei(f),u.push(f.key)}),u}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Ve(new Qt([])),r=new ti(t,e),o=new ti(t,e+1);let u=rn();return this.pi.forEachInRange([r,o],f=>{u=u.add(f.key)}),u}containsKey(e){const t=new ti(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ti{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Ve.comparator(e.key,t.key)||Lt(e.Vi,t.Vi)}static Ii(e,t){return Lt(e.Vi,t.Vi)||Ve.comparator(e.key,t.key)}}class lD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new fn(ti.yi)}checkEmpty(e){return he.resolve(0===this.$s.length)}addMutationBatch(e,t,r,o){const u=this.vi;this.vi++;const f=new ip(u,t,r,o);this.$s.push(f);for(const m of o)this.Si=this.Si.add(new ti(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return he.resolve(f)}lookupMutationBatch(e,t){return he.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),u=o<0?0:o;return he.resolve(this.$s.length>u?this.$s[u]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return he.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ti(t,0),o=new ti(t,Number.POSITIVE_INFINITY),u=[];return this.Si.forEachInRange([r,o],f=>{const m=this.Di(f.Vi);u.push(m)}),he.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new fn(Lt);return t.forEach(o=>{const u=new ti(o,0),f=new ti(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([u,f],m=>{r=r.add(m.Vi)})}),he.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;Ve.isDocumentKey(u)||(u=u.child(""));const f=new ti(new Ve(u),0);let m=new fn(Lt);return this.Si.forEachWhile(E=>{const D=E.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(m=m.add(E.Vi)),!0)},f),he.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Et(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return he.forEach(t.mutations,o=>{const u=new ti(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new ti(t,0),o=this.Si.firstAfterOrEqual(r);return he.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return he.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class cD{constructor(e){this.ki=e,this.docs=new cn(Ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,f=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=Mi();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():An.newInvalidDocument(o))}),he.resolve(r)}getAllFromCollection(e,t,r){let o=Mi();const u=new Ve(t.child("")),f=this.docs.getIteratorFrom(u);for(;f.hasNext();){const{key:m,value:{document:E}}=f.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||CI(bI(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return he.resolve(o)}getAllFromCollectionGroup(e,t,r,o){Xe()}Mi(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RA(this)}getSize(e){return he.resolve(this.size)}}class RA extends tD{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.qn.addEntry(e,o)):this.qn.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class NA{constructor(e){this.persistence=e,this.Oi=new ta(t=>Ku(t),Kf),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Fi=0,this.$i=new Pb,this.targetCount=0,this.Bi=Ka.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),he.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Ka(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.In(t),he.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Oi.forEach((f,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),he.waitFor(u).next(()=>o)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),he.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.$i.containsKey(t))}}class kA{constructor(e,t){this.Li={},this.overlays={},this.ts=new ds(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new NA(this),this.indexManager=new Gv,this.fs=new cD(r=>this.referenceDelegate.Ui(r)),this.M=new zI(t),this.ds=new uD(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new lD(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const o=new FA(this.ts.next());return this.referenceDelegate.qi(),r(o).next(u=>this.referenceDelegate.Gi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ki(e,t){return he.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class FA extends qI{constructor(e){super(),this.currentSequenceNumber=e}}class Rb{constructor(e){this.persistence=e,this.Qi=new Pb,this.ji=null}static Wi(e){return new Rb(e)}get zi(){if(this.ji)return this.ji;throw Xe()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),he.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.zi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.zi,r=>{const o=Ve.fromPath(r);return this.Hi(e,o).next(u=>{u||t.removeEntry(o,_t.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return he.or([()=>he.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function Nb(n,e){return`firestore_clients_${n}_${e}`}function dD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function kb(n,e){return`firestore_targets_${n}_${e}`}class e0{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static Ji(e,t,r){const o=JSON.parse(r);let u,f="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new Te(o.error.code,o.error.message))),f?new e0(e,t,o.state,u):(ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iy{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Te(r.error.code,r.error.message))),u?new iy(e,r.state,o):(ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class i{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=Pm();for(let f=0;o&&f<r.activeTargetIds.length;++f)o=wE(r.activeTargetIds[f]),u=u.add(r.activeTargetIds[f]);return o?new i(e,u):(ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class s{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new s(t.clientId,t.onlineState):(ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class a{constructor(){this.activeTargetIds=Pm()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l{constructor(e,t,r,o,u){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new cn(Lt),this.started=!1,this.ir=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=Nb(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new a),this.ar=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,me.Z)(function*(){const t=yield e.syncEngine.Os();for(const o of t){if(o===e.tr)continue;const u=e.getItem(Nb(e.persistenceKey,o));if(u){const f=i.Ji(o,u);f&&(e.sr=e.sr.insert(f.clientId,f))}}e._r();const r=e.storage.getItem(e.lr);if(r){const o=e.wr(r);o&&e.mr(o)}for(const o of e.ir)e.nr(o);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(kb(this.persistenceKey,e));if(r){const o=iy.Ji(e,r);o&&(t=o.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(kb(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.pr(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,me.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const o=t.Rr(r.key);return t.br(o,null)}{const o=t.Pr(r.key,r.newValue);if(o)return t.br(o.clientId,o)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const o=t.Vr(r.key,r.newValue);if(o)return t.vr(o)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const o=t.Sr(r.key,r.newValue);if(o)return t.Dr(o)}}else if(r.key===t.lr){if(null!==r.newValue){const o=t.wr(r.newValue);if(o)return t.mr(o)}}else if(r.key===t.ur){const o=function(u){let f=ds.A;if(null!=u)try{const m=JSON.parse(u);Et("number"==typeof m),f=m}catch(m){ur("SharedClientState","Failed to read sequence number from WebStorage",m)}return f}(r.newValue);o!==ds.A&&t.sequenceNumberHandler(o)}else if(r.key===t.dr){const o=t.Cr(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const o=new e0(this.currentUser,e,t,r),u=dD(this.persistenceKey,this.currentUser,e);this.setItem(u,o.Yi())}pr(e){const t=dD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const o=kb(this.persistenceKey,e),u=new iy(e,t,r);this.setItem(o,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return i.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),o=Number(r[1]);return e0.Ji(new ar(void 0!==r[2]?r[2]:null),o,t)}Sr(e,t){const r=this.hr.exec(e),o=Number(r[1]);return iy.Ji(o,t)}wr(e){return s.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,me.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),o=this.gr(this.sr),u=this.gr(r),f=[],m=[];return u.forEach(E=>{o.has(E)||f.push(E)}),o.forEach(E=>{u.has(E)||m.push(E)}),this.syncEngine.Or(f,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Pm();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class c{constructor(){this.Fr=new a,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new a,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class g{Br(e){}shutdown(){}}class _{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const w={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class b{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class A extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,o,u){const f=this.oo(e,t);Pe("RestConnection","Sending: ",f,r);const m={};return this.uo(m,o,u),this.ao(e,f,m,r).then(E=>(Pe("RestConnection","Received: ",E),E),E=>{throw rh("RestConnection",`${e} failed with error: `,E,"url: ",f,"request:",r),E})}co(e,t,r,o,u){return this.ro(e,t,r,o,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ba,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}oo(e,t){return`${this.so}/v1/${t}:${w[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((u,f)=>{const m=new cm;m.listenOnce(gA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case um.NO_ERROR:const D=m.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(D)),u(D);break;case um.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),f(new Te(ae.DEADLINE_EXCEEDED,"Request time out"));break;case um.HTTP_ERROR:const x=m.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',x,"response text:",m.getResponseText()),x>0){const P=m.getResponseJson().error;if(P&&P.status&&P.message){const H=function(W){const fe=W.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(fe)>=0?fe:ae.UNKNOWN}(P.status);f(new Te(H,P.message))}else f(new Te(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Te(ae.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);m.send(t,"POST",E,r,15)})}ho(e,t,r){const o=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=pA(),f=sE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new mI({})),this.uo(m.initMessageHeaders,t,r),(0,$t.uI)()||(0,$t.b$)()||(0,$t.d)()||(0,$t.w1)()||(0,$t.Mn)()||(0,$t.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Pe("Connection","Creating WebChannel: "+E,m);const D=u.createWebChannel(E,m);let x=!1,P=!1;const H=new b({jr:fe=>{P?Pe("Connection","Not sending because WebChannel is closed:",fe):(x||(Pe("Connection","Opening WebChannel transport."),D.open(),x=!0),Pe("Connection","WebChannel sending:",fe),D.send(fe))},Wr:()=>D.close()}),W=(fe,ke,tt)=>{fe.listen(ke,zt=>{try{tt(zt)}catch(ct){setTimeout(()=>{throw ct},0)}})};return W(D,lm.EventType.OPEN,()=>{P||Pe("Connection","WebChannel transport opened.")}),W(D,lm.EventType.CLOSE,()=>{P||(P=!0,Pe("Connection","WebChannel transport closed"),H.eo())}),W(D,lm.EventType.ERROR,fe=>{P||(P=!0,rh("Connection","WebChannel transport errored:",fe),H.eo(new Te(ae.UNAVAILABLE,"The operation could not be completed")))}),W(D,lm.EventType.MESSAGE,fe=>{var ke;if(!P){const tt=fe.data[0];Et(!!tt);const zt=tt,ct=zt.error||(null===(ke=zt[0])||void 0===ke?void 0:ke.error);if(ct){Pe("Connection","WebChannel received error:",ct);const bn=ct.status;let bt=function(Gt){const ol=cr[Gt];if(void 0!==ol)return BE(ol)}(bn),Ht=ct.message;void 0===bt&&(bt=ae.INTERNAL,Ht="Unknown error status: "+bn+" with message "+ct.message),P=!0,H.eo(new Te(bt,Ht)),D.close()}else Pe("Connection","WebChannel received:",tt),H.no(tt)}}),W(f,gt.STAT_EVENT,fe=>{fe.stat===oE.PROXY?Pe("Connection","Detected buffering proxy"):fe.stat===oE.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{H.Zr()},0),H}}function S(){return"undefined"!=typeof window?window:null}function N(){return"undefined"!=typeof document?document:null}function V(n){return new ZE(n,!0)}class Z{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=o,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),o=Math.max(0,t-r);o>0&&Pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,o,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class ye{constructor(e,t,r,o,u,f,m,E){this.Jn=e,this.Ao=r,this.Ro=o,this.bo=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new Z(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,me.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,me.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,me.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Po===t&&this.Uo(r,o)},r=>{e(()=>{const o=new Te(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}xo(){var e=this;this.state=5,this.So.Io((0,me.Z)(function*(){e.state=0,e.start()}))}qo(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Re extends ye{constructor(e,t,r,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,f),this.M=u}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function wA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Xe(),o=e.targetChange.targetIds||[],u=function(E,D){return E.N?(Et(void 0===D||"string"==typeof D),Ir.fromBase64String(D||"")):(Et(void 0===D||D instanceof Uint8Array),Ir.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const D=void 0===E.code?ae.UNKNOWN:BE(E.code);return new Te(D,E.message||"")}(f);t=new Sv(r,o,u,m||null)}else if("documentChange"in e){const r=e.documentChange,o=So(n,r.document.name),u=Tr(r.document.updateTime),f=new gi({mapValue:{fields:r.document.fields}}),m=An.newFoundDocument(o,u,f);t=new mh(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,o=So(n,r.document),u=r.readTime?Tr(r.readTime):_t.min(),f=An.newNoDocument(o,u);t=new mh([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,o=So(n,r.document);t=new mh([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return Xe();{const r=e.filter,u=new xI(r.count||0);t=new Nm(r.targetId,u)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return _t.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?_t.min():u.readTime?Tr(u.readTime):_t.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=rp(this.M),t.addTarget=function(o,u){let f;const m=u.target;return f=Em(m)?{documents:YE(o,m)}:{query:kv(o,m)},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?f.resumeToken=xv(o,u.resumeToken):u.snapshotVersion.compareTo(_t.min())>0&&(f.readTime=Dc(o,u.snapshotVersion.toTimestamp())),f}(this.M,e);const r=function FI(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=rp(this.M),t.removeTarget=e,this.Oo(t)}}class Be extends ye{constructor(e,t,r,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,f),this.M=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Nv(n,e){return n&&n.length>0?(Et(void 0!==e),n.map(t=>function(r,o){let u=Tr(r.updateTime?r.updateTime:o);return u.isEqual(_t.min())&&(u=Tr(o)),new SI(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.Jo(r,t)}return Et(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=rp(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>qa(this.M,r))};this.Oo(t)}}class Qe extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=o,this.Zo=!1}tu(){if(this.Zo)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ro(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ae.UNKNOWN,o.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Te(ae.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class be{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ur(t),this.su=!1):Pe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class lt{constructor(e,t,r,o,u){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(m=>{r.enqueueAndForget((0,me.Z)(function*(){var E;ia(f)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,me.Z)(function*(D){const x=He(D);x.lu.add(4),yield kr(x),x._u.set("Unknown"),x.lu.delete(4),yield Rt(x)}),function(D){return E.apply(this,arguments)})(f))}))}),this._u=new be(r,o)}}function Rt(n){return sn.apply(this,arguments)}function sn(){return sn=(0,me.Z)(function*(n){if(ia(n))for(const e of n.fu)yield e(!0)}),sn.apply(this,arguments)}function kr(n){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,me.Z)(function*(n){for(const e of n.fu)yield e(!1)}),Ja.apply(this,arguments)}function Ih(n,e){const t=He(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),pp(t)?fp(t):uy(t).Co()&&hp(t,e))}function Rc(n,e){const t=He(n),r=uy(t);t.hu.delete(e),r.Co()&&sy(t,e),0===t.hu.size&&(r.Co()?r.ko():ia(t)&&t._u.set("Unknown"))}function hp(n,e){n.wu.Z(e.targetId),uy(n).Qo(e)}function sy(n,e){n.wu.Z(e),uy(n).jo(e)}function fp(n){n.wu=new Mv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),uy(n).start(),n._u.iu()}function pp(n){return ia(n)&&!uy(n).Do()&&n.hu.size>0}function ia(n){return 0===He(n).lu.size}function oy(n){n.wu=void 0}function t0(n){return hD.apply(this,arguments)}function hD(){return hD=(0,me.Z)(function*(n){n.hu.forEach((e,t)=>{hp(n,e)})}),hD.apply(this,arguments)}function VM(n,e){return fD.apply(this,arguments)}function fD(){return fD=(0,me.Z)(function*(n,e){oy(n),pp(n)?(n._u.uu(e),fp(n)):n._u.set("Unknown")}),fD.apply(this,arguments)}function UM(n,e,t){return pD.apply(this,arguments)}function pD(){return pD=(0,me.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof Sv&&2===e.state&&e.cause)try{yield(r=(0,me.Z)(function*(o,u){const f=u.cause;for(const m of u.targetIds)o.hu.has(m)&&(yield o.remoteSyncer.rejectListen(m,f),o.hu.delete(m),o.wu.removeTarget(m))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Fb(n,r)}else if(e instanceof mh?n.wu.ut(e):e instanceof Nm?n.wu._t(e):n.wu.ht(e),!t.isEqual(_t.min()))try{const r=yield Mb(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const f=o.wu.yt(u);return f.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const D=o.hu.get(E);D&&o.hu.set(E,D.withResumeToken(m.resumeToken,u))}}),f.targetMismatches.forEach(m=>{const E=o.hu.get(m);if(!E)return;o.hu.set(m,E.withResumeToken(Ir.EMPTY_BYTE_STRING,E.snapshotVersion)),sy(o,m);const D=new Za(E.target,m,1,E.sequenceNumber);hp(o,D)}),o.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield Fb(n,r)}var r}),pD.apply(this,arguments)}function Fb(n,e,t){return gD.apply(this,arguments)}function gD(){return gD=(0,me.Z)(function*(n,e,t){if(!ra(e))throw e;n.lu.add(1),yield kr(n),n._u.set("Offline"),t||(t=()=>Mb(n.localStore)),n.asyncQueue.enqueueRetryable((0,me.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield Rt(n)}))}),gD.apply(this,arguments)}function LA(n,e){return e().catch(t=>Fb(n,t,e))}function ay(n){return mD.apply(this,arguments)}function mD(){return mD=(0,me.Z)(function*(n){const e=He(n),t=Dh(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;BM(e);)try{const o=yield aD(e.localStore,r);if(null===o){0===e.cu.length&&t.ko();break}r=o.batchId,jM(e,o)}catch(o){yield Fb(e,o)}VA(e)&&UA(e)}),mD.apply(this,arguments)}function BM(n){return ia(n)&&n.cu.length<10}function jM(n,e){n.cu.push(e);const t=Dh(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function VA(n){return ia(n)&&!Dh(n).Do()&&n.cu.length>0}function UA(n){Dh(n).start()}function $M(n){return yD.apply(this,arguments)}function yD(){return yD=(0,me.Z)(function*(n){Dh(n).Xo()}),yD.apply(this,arguments)}function HM(n){return _D.apply(this,arguments)}function _D(){return _D=(0,me.Z)(function*(n){const e=Dh(n);for(const t of n.cu)e.Ho(t.mutations)}),_D.apply(this,arguments)}function GM(n,e,t){return vD.apply(this,arguments)}function vD(){return vD=(0,me.Z)(function*(n,e,t){const r=n.cu.shift(),o=$m.from(r,e,t);yield LA(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield ay(n)}),vD.apply(this,arguments)}function qM(n,e){return wD.apply(this,arguments)}function wD(){return wD=(0,me.Z)(function*(n,e){var t;e&&Dh(n).zo&&(yield(t=(0,me.Z)(function*(r,o){if(ph(u=o.code)&&u!==ae.ABORTED){const f=r.cu.shift();Dh(r).No(),yield LA(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,o)),yield ay(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),VA(n)&&UA(n)}),wD.apply(this,arguments)}function BA(n,e){return ED.apply(this,arguments)}function ED(){return ED=(0,me.Z)(function*(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=ia(t);t.lu.add(3),yield kr(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Rt(t)}),ED.apply(this,arguments)}function bD(n,e){return CD.apply(this,arguments)}function CD(){return CD=(0,me.Z)(function*(n,e){const t=He(n);e?(t.lu.delete(2),yield Rt(t)):e||(t.lu.add(2),yield kr(t),t._u.set("Unknown"))}),CD.apply(this,arguments)}function uy(n){return n.mu||(n.mu=function(e,t,r){const o=He(e);return o.tu(),new Re(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:t0.bind(null,n),Jr:VM.bind(null,n),Ko:UM.bind(null,n)}),n.fu.push(function(){var e=(0,me.Z)(function*(t){t?(n.mu.No(),pp(n)?fp(n):n._u.set("Unknown")):(yield n.mu.stop(),oy(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Dh(n){return n.gu||(n.gu=function(e,t,r){const o=He(e);return o.tu(),new Be(t,o.bo,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{zr:$M.bind(null,n),Jr:qM.bind(null,n),Yo:HM.bind(null,n),Jo:GM.bind(null,n)}),n.fu.push(function(){var e=(0,me.Z)(function*(t){t?(n.gu.No(),yield ay(n)):(yield n.gu.stop(),n.cu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class ID{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,o,u){const f=Date.now()+r,m=new ID(e,t,f,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Te(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(n,e){if(ur("AsyncQueue",`${e}: ${n}`),ra(n))return new Te(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class cy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ve.comparator(t.key,r.key):(t,r)=>Ve.comparator(t.key,r.key),this.keyedMap=Av(),this.sortedSet=new cn(this.comparator)}static emptySet(e){return new cy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof cy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new cy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class jA{constructor(){this.yu=new cn(Ve.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Xe():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class dy{constructor(e,t,r,o,u,f,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new dy(e,t,cy.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class zM{constructor(){this.Iu=void 0,this.listeners=[]}}class ZM{constructor(){this.queries=new ta(e=>pv(e),ah),this.onlineState="Unknown",this.Tu=new Set}}function DD(n,e){return TD.apply(this,arguments)}function TD(){return TD=(0,me.Z)(function*(n,e){const t=He(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new zM),o)try{u.Iu=yield t.onListen(r)}catch(f){const m=ly(f,`Initialization of query '${gv(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&MD(t)}),TD.apply(this,arguments)}function AD(n,e){return SD.apply(this,arguments)}function SD(){return SD=(0,me.Z)(function*(n,e){const t=He(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const f=u.listeners.indexOf(e);f>=0&&(u.listeners.splice(f,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),SD.apply(this,arguments)}function WM(n,e){const t=He(n);let r=!1;for(const o of e){const f=t.queries.get(o.query);if(f){for(const m of f.listeners)m.Au(o)&&(r=!0);f.Iu=o}}r&&MD(t)}function KM(n,e,t){const r=He(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function MD(n){n.Tu.forEach(e=>{e.next()})}class xD{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new dy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=dy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class YM{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class $A{constructor(e){this.M=e}li(e){return So(this.M,e)}fi(e){return e.metadata.exists?KE(this.M,e.document,!1):An.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return Tr(e)}}class QM{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=HA(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Qt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new $A(this.M);for(const o of e)if(o.metadata.queries){const u=r.li(o.metadata.name);for(const f of o.metadata.queries){const m=(t.get(f)||rn()).add(u);t.set(f,m)}}return t}complete(){var e=this;return(0,me.Z)(function*(){const t=yield function OA(n,e,t,r){return ry.apply(this,arguments)}(e.localStore,new $A(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const o of e.queries)yield Jv(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function HA(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class GA{constructor(e){this.key=e}}class qA{constructor(e){this.key=e}}class zA{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=rn(),this.mutatedKeys=rn(),this.Lu=kE(e),this.Uu=new cy(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new jA,o=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,f=o,m=!1;const E=Cm(this.query)&&o.size===this.query.limit?o.last():null,D=Im(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,P)=>{const H=o.get(x),W=mv(this.query,P)?P:null,fe=!!H&&this.mutatedKeys.has(H.key),ke=!!W&&(W.hasLocalMutations||this.mutatedKeys.has(W.key)&&W.hasCommittedMutations);let tt=!1;H&&W?H.data.isEqual(W.data)?fe!==ke&&(r.track({type:3,doc:W}),tt=!0):this.Qu(H,W)||(r.track({type:2,doc:W}),tt=!0,(E&&this.Lu(W,E)>0||D&&this.Lu(W,D)<0)&&(m=!0)):!H&&W?(r.track({type:0,doc:W}),tt=!0):H&&!W&&(r.track({type:1,doc:H}),tt=!0,(E||D)&&(m=!0)),tt&&(W?(f=f.add(W),u=ke?u.add(x):u.delete(x)):(f=f.delete(x),u=u.delete(x)))}),Cm(this.query)||Im(this.query))for(;f.size>this.query.limit;){const x=Cm(this.query)?f.last():f.first();f=f.delete(x.key),u=u.delete(x.key),r.track({type:1,doc:x})}return{Uu:f,Ku:r,ei:m,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Ku.pu();u.sort((D,x)=>function(P,H){const W=fe=>{switch(fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return W(P)-W(H)}(D.type,x.type)||this.Lu(D.doc,x.doc)),this.ju(r);const f=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,E=m!==this.$u;return this.$u=m,0!==u.length||E?{snapshot:new dy(this.query,e.Uu,o,u,e.mutatedKeys,0===m,E,!1),zu:f}:{zu:f}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new jA,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=rn(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new qA(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new GA(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=rn();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return dy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class JM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class XM{constructor(e){this.key=e,this.Xu=!1}}class ex{constructor(e,t,r,o,u,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Zu={},this.ta=new ta(m=>pv(m),ah),this.ea=new Map,this.na=new Set,this.sa=new cn(Ve.comparator),this.ia=new Map,this.ra=new Pb,this.oa={},this.ua=new Map,this.aa=Ka.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function tx(n,e){return OD.apply(this,arguments)}function OD(){return OD=(0,me.Z)(function*(n,e){const t=eT(n);let r,o;const u=t.ta.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.Yu();else{const f=yield Oc(t.localStore,mi(e));t.isPrimaryClient&&Ih(t.remoteStore,f);const m=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,o=yield PD(t,e,r,"current"===m)}return o}),OD.apply(this,arguments)}function PD(n,e,t,r){return RD.apply(this,arguments)}function RD(){return RD=(0,me.Z)(function*(n,e,t,r){n.ha=(x,P,H)=>{return(W=(0,me.Z)(function*(fe,ke,tt,zt){let ct=ke.view.Gu(tt);ct.ei&&(ct=yield ty(fe.localStore,ke.query,!1).then(({documents:Ht})=>ke.view.Gu(Ht,ct)));const bn=zt&&zt.targetChanges.get(ke.targetId),bt=ke.view.applyChanges(ct,fe.isPrimaryClient,bn);return HD(fe,ke.targetId,bt.zu),bt.snapshot}),function(fe,ke,tt,zt){return W.apply(this,arguments)})(n,x,P,H);var W};const o=yield ty(n.localStore,e,!0),u=new zA(e,o.hi),f=u.Gu(o.documents),m=Rm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(f,n.isPrimaryClient,m);HD(n,t,E.zu);const D=new JM(e,t,u);return n.ta.set(e,D),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),E.snapshot}),RD.apply(this,arguments)}function nx(n,e){return ND.apply(this,arguments)}function ND(){return ND=(0,me.Z)(function*(n,e){const t=He(n),r=t.ta.get(e),o=t.ea.get(r.targetId);if(o.length>1)return t.ea.set(r.targetId,o.filter(u=>!ah(u,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Pc(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Rc(t.remoteStore,r.targetId),hy(t,r.targetId)}).catch(Mc))):(hy(t,r.targetId),yield Pc(t.localStore,r.targetId,!0))}),ND.apply(this,arguments)}function kD(){return kD=(0,me.Z)(function*(n,e,t){const r=tT(n);try{const o=yield function(u,f){const m=He(u),E=Jn.now(),D=f.reduce((P,H)=>P.add(H.key),rn());let x;return m.persistence.runTransaction("Locally write mutations","readwrite",P=>m.ai.qs(P,D).next(H=>{x=H;const W=[];for(const fe of f){const ke=ep(fe,x.get(fe.key));null!=ke&&W.push(new Ju(fe.key,ke,AE(ke.value.mapValue),lr.exists(!0)))}return m.$s.addMutationBatch(P,E,W,f)})).then(P=>(P.applyToLocalDocumentSet(x),{batchId:P.batchId,changes:x}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,f,m){let E=u.oa[u.currentUser.toKey()];E||(E=new cn(Lt)),E=E.insert(f,m),u.oa[u.currentUser.toKey()]=E}(r,o.batchId,t),yield Nc(r,o.changes),yield ay(r.remoteStore)}catch(o){const u=ly(o,"Failed to persist write");t.reject(u)}}),kD.apply(this,arguments)}function ZA(n,e){return FD.apply(this,arguments)}function FD(){return FD=(0,me.Z)(function*(n,e){const t=He(n);try{const r=yield oD(t.localStore,e);e.targetChanges.forEach((o,u)=>{const f=t.ia.get(u);f&&(Et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Xu=!0:o.modifiedDocuments.size>0?Et(f.Xu):o.removedDocuments.size>0&&(Et(f.Xu),f.Xu=!1))}),yield Nc(t,r,e)}catch(r){yield Mc(r)}}),FD.apply(this,arguments)}function WA(n,e,t){const r=He(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ta.forEach((u,f)=>{const m=f.view.Eu(e);m.snapshot&&o.push(m.snapshot)}),function(u,f){const m=He(u);m.onlineState=f;let E=!1;m.queries.forEach((D,x)=>{for(const P of x.listeners)P.Eu(f)&&(E=!0)}),E&&MD(m)}(r.eventManager,e),o.length&&r.Zu.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ix(n,e,t){return LD.apply(this,arguments)}function LD(){return LD=(0,me.Z)(function*(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.ia.get(e),u=o&&o.key;if(u){let f=new cn(Ve.comparator);f=f.insert(u,An.newNoDocument(u,_t.min()));const m=rn().add(u),E=new np(_t.min(),new Map,new fn(Lt),f,m);yield ZA(r,E),r.sa=r.sa.remove(u),r.ia.delete(e),GD(r)}else yield Pc(r.localStore,e,!1).then(()=>hy(r,e,t)).catch(Mc)}),LD.apply(this,arguments)}function sx(n,e){return VD.apply(this,arguments)}function VD(){return VD=(0,me.Z)(function*(n,e){const t=He(n),r=e.batch.batchId;try{const o=yield Sb(t.localStore,e);$D(t,r,null),jD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Nc(t,o)}catch(o){yield Mc(o)}}),VD.apply(this,arguments)}function ox(n,e,t){return UD.apply(this,arguments)}function UD(){return UD=(0,me.Z)(function*(n,e,t){const r=He(n);try{const o=yield function(u,f){const m=He(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let D;return m.$s.lookupMutationBatch(E,f).next(x=>(Et(null!==x),D=x.keys(),m.$s.removeMutationBatch(E,x))).next(()=>m.$s.performConsistencyCheck(E)).next(()=>m.ai.qs(E,D))})}(r.localStore,e);$D(r,e,t),jD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Nc(r,o)}catch(o){yield Mc(o)}}),UD.apply(this,arguments)}function BD(){return BD=(0,me.Z)(function*(n,e){const t=He(n);ia(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const f=He(u);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const o=t.ua.get(r)||[];o.push(e),t.ua.set(r,o)}catch(r){const o=ly(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),BD.apply(this,arguments)}function jD(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function $D(n,e,t){const r=He(n);let o=r.oa[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.oa[r.currentUser.toKey()]=o}}function hy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||KA(n,r)})}function KA(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(Rc(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),GD(n))}function HD(n,e,t){for(const r of t)r instanceof GA?(n.ra.addReference(r.key,e),ux(n,r)):r instanceof qA?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||KA(n,r.key)):Xe()}function ux(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.na.add(r),GD(n))}function GD(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Ve(Qt.fromString(e)),r=n.aa.next();n.ia.set(r,new XM(t)),n.sa=n.sa.insert(t,r),Ih(n.remoteStore,new Za(mi(oh(t.path)),r,2,ds.A))}}function Nc(n,e,t){return qD.apply(this,arguments)}function qD(){return qD=(0,me.Z)(function*(n,e,t){const r=He(n),o=[],u=[],f=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,E)=>{f.push(r.ha(E,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,D.fromCache?"not-current":"current"),o.push(D);const x=cp.Js(E.targetId,D);u.push(x)}}))}),yield Promise.all(f),r.Zu.Ko(o),yield(m=(0,me.Z)(function*(E,D){const x=He(E);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>he.forEach(D,H=>he.forEach(H.zs,W=>x.persistence.referenceDelegate.addReference(P,H.targetId,W)).next(()=>he.forEach(H.Hs,W=>x.persistence.referenceDelegate.removeReference(P,H.targetId,W)))))}catch(P){if(!ra(P))throw P;Pe("LocalStore","Failed to update sequence numbers: "+P)}for(const P of D){const H=P.targetId;if(!P.fromCache){const W=x.si.get(H),ke=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion);x.si=x.si.insert(H,ke)}}}),function(E,D){return m.apply(this,arguments)})(r.localStore,u))}),qD.apply(this,arguments)}function lx(n,e){return zD.apply(this,arguments)}function zD(){return zD=(0,me.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield sD(t.localStore,e);t.currentUser=e,(o=t).ua.forEach(f=>{f.forEach(m=>{m.reject(new Te(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Nc(t,r.ci)}var o}),zD.apply(this,arguments)}function cx(n,e){const t=He(n),r=t.ia.get(e);if(r&&r.Xu)return rn().add(r.key);{let o=rn();const u=t.ea.get(e);if(!u)return o;for(const f of u){const m=t.ta.get(f);o=o.unionWith(m.view.qu)}return o}}function dx(n,e){return ZD.apply(this,arguments)}function ZD(){return ZD=(0,me.Z)(function*(n,e){const t=He(n),r=yield ty(t.localStore,e.query,!0),o=e.view.Ju(r);return t.isPrimaryClient&&HD(t,e.targetId,o.zu),o}),ZD.apply(this,arguments)}function hx(n,e){return WD.apply(this,arguments)}function WD(){return WD=(0,me.Z)(function*(n,e){const t=He(n);return Qv(t.localStore,e).then(r=>Nc(t,r))}),WD.apply(this,arguments)}function fx(n,e,t,r){return KD.apply(this,arguments)}function KD(){return KD=(0,me.Z)(function*(n,e,t,r){const o=He(n),u=yield function(f,m){const E=He(f),D=He(E.$s);return E.persistence.runTransaction("Lookup mutation documents","readonly",x=>D.ln(x,m).next(P=>P?E.ai.qs(x,P):he.resolve(null)))}(o.localStore,e);var m;null!==u?("pending"===t?yield ay(o.remoteStore):"acknowledged"===t||"rejected"===t?($D(o,e,r||null),jD(o,e),m=e,He(He(o.localStore).$s).dn(m)):Xe(),yield Nc(o,u)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),KD.apply(this,arguments)}function YD(){return YD=(0,me.Z)(function*(n,e){const t=He(n);if(eT(t),tT(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield YA(t,r.toArray());t.ca=!0,yield bD(t.remoteStore,!0);for(const u of o)Ih(t.remoteStore,u)}else if(!1===e&&!1!==t.ca){const r=[];let o=Promise.resolve();t.ea.forEach((u,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):o=o.then(()=>(hy(t,f),Pc(t.localStore,f,!0))),Rc(t.remoteStore,f)}),yield o,yield YA(t,r),function(u){const f=He(u);f.ia.forEach((m,E)=>{Rc(f.remoteStore,E)}),f.ra.bi(),f.ia=new Map,f.sa=new cn(Ve.comparator)}(t),t.ca=!1,yield bD(t.remoteStore,!1)}}),YD.apply(this,arguments)}function YA(n,e,t){return QD.apply(this,arguments)}function QD(){return QD=(0,me.Z)(function*(n,e,t){const r=He(n),o=[],u=[];for(const f of e){let m;const E=r.ea.get(f);if(E&&0!==E.length){m=yield Oc(r.localStore,mi(E[0]));for(const D of E){const x=r.ta.get(D),P=yield dx(r,x);P.snapshot&&u.push(P.snapshot)}}else{const D=yield Ob(r.localStore,f);m=yield Oc(r.localStore,D),yield PD(r,QA(D),f,!1)}o.push(m)}return r.Zu.Ko(u),o}),QD.apply(this,arguments)}function QA(n){return RE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function gx(n){const e=He(n);return He(He(e.localStore).persistence).Os()}function mx(n,e,t,r){return JD.apply(this,arguments)}function JD(){return JD=(0,me.Z)(function*(n,e,t,r){const o=He(n);if(o.ca)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const u=o.ea.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const f=yield Qv(o.localStore,Am(u[0])),m=np.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Nc(o,f,m);break}case"rejected":yield Pc(o.localStore,e,!0),hy(o,e,r);break;default:Xe()}}),JD.apply(this,arguments)}function yx(n,e,t){return XD.apply(this,arguments)}function XD(){return XD=(0,me.Z)(function*(n,e,t){const r=eT(n);if(r.ca){for(const o of e){if(r.ea.has(o)){Pe("SyncEngine","Adding an already active target "+o);continue}const u=yield Ob(r.localStore,o),f=yield Oc(r.localStore,u);yield PD(r,QA(u),f.targetId,!1),Ih(r.remoteStore,f)}for(const o of t)r.ea.has(o)&&(yield Pc(r.localStore,o,!1).then(()=>{Rc(r.remoteStore,o),hy(r,o)}).catch(Mc))}}),XD.apply(this,arguments)}function eT(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=ZA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ix.bind(null,e),e.Zu.Ko=WM.bind(null,e.eventManager),e.Zu.la=KM.bind(null,e.eventManager),e}function tT(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ox.bind(null,e),e}class JA{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,me.Z)(function*(){t.M=V(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return iD(this.persistence,new dp,e.initialUser,this.M)}_a(e){return new kA(Rb.Wi,this.M)}da(e){return new c}terminate(){var e=this;return(0,me.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class XA extends JA{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield tT(r.ga.syncEngine),yield ay(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return iD(this.persistence,new dp,e.initialUser,this.M)}wa(e){return new Db(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=Kv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ui.withCacheSize(this.cacheSizeBytes):Ui.DEFAULT;return new Xm(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,S(),N(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new c}}class vx extends XA{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,me.Z)(function*(){yield t().call(r,e);const o=r.ga.syncEngine;r.sharedClientState instanceof l&&(r.sharedClientState.syncEngine={kr:fx.bind(null,o),Mr:mx.bind(null,o),Or:yx.bind(null,o),Os:gx.bind(null,o),Nr:hx.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var u=(0,me.Z)(function*(f){yield function px(n,e){return YD.apply(this,arguments)}(r.ga.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return u.apply(this,arguments)}}())})()}da(e){const t=S();if(!l.vt(t))throw new Te(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Kv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new l(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class nT{initialize(e,t){var r=this;return(0,me.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>WA(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=lx.bind(null,r.syncEngine),yield bD(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ZM}createDatastore(e){const t=V(e.databaseInfo.databaseId),r=new A(e.databaseInfo);return new Qe(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=m=>WA(this.syncEngine,m,0),f=_.vt()?new _:new g,new lt(t,r,o,u,f);var t,r,o,u,f}createSyncEngine(e,t){return function(r,o,u,f,m,E,D){const x=new ex(r,o,u,f,m,E);return D&&(x.ca=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,me.Z)(function*(t){const r=He(t);Pe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield kr(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eS(n,e=10240){let t=0;return{read:()=>(0,me.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,me.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Lb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wx{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Nr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,me.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,me.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,me.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),o=Number(r);isNaN(o)&&e.Ra(`length string (${r}) is not valid number`);const u=yield e.ba(o);return new YM(JSON.parse(u),t.length+o)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,me.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,me.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,me.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Ex{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,me.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Te(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,me.Z)(function*(u,f){const m=He(u),E=rp(m.M)+"/documents",D={documents:f.map(W=>yh(m.M,W))},x=yield m.co("BatchGetDocuments",E,D),P=new Map;x.forEach(W=>{const fe=function kI(n,e){return"found"in e?function(t,r){Et(!!r.found);const o=So(t,r.found.name),u=Tr(r.found.updateTime),f=new gi({mapValue:{fields:r.found.fields}});return An.newFoundDocument(o,u,f)}(n,e):"missing"in e?function(t,r){Et(!!r.missing),Et(!!r.readTime);const o=So(t,r.missing),u=Tr(r.readTime);return An.newNoDocument(o,u)}(n,e):Xe()}(m.M,W);P.set(fe.key.toString(),fe)});const H=[];return f.forEach(W=>{const fe=P.get(W.toString());Et(!!fe),H.push(fe)}),H}),function(u,f){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new fh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,me.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=Ve.fromPath(o);e.mutations.push(new Tv(u,e.precondition(u)))}),yield(r=(0,me.Z)(function*(o,u){const f=He(o),m=rp(f.M)+"/documents",E={writes:u.map(D=>qa(f.M,D))};yield f.ro("Commit",m,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xe();t=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Te(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?lr.updateTime(t):lr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new Te(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return lr.updateTime(t)}return lr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class bx{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.va=5,this.So=new Z(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,me.Z)(function*(){const t=new Ex(e.datastore),r=e.Da(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Ca(u)}))}).catch(o=>{e.Ca(o)})}))}Da(e){try{const t=this.updateFunction(e);return!wc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ph(t)}return!1}}class Cx{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ar.UNAUTHENTICATED,this.clientId=gE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,me.Z)(function*(m){Pe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(Pe("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,me.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=ly(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function tS(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,me.Z)(function*(u){r.isEqual(u)||(yield sD(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),rT.apply(this,arguments)}function nS(n,e){return iT.apply(this,arguments)}function iT(){return iT=(0,me.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield sT(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>BA(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>BA(e.remoteStore,u)),n.onlineComponents=e}),iT.apply(this,arguments)}function sT(n){return oT.apply(this,arguments)}function oT(){return oT=(0,me.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield tS(n,new JA)),n.offlineComponents}),oT.apply(this,arguments)}function Vb(n){return aT.apply(this,arguments)}function aT(){return aT=(0,me.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield nS(n,new nT)),n.onlineComponents}),aT.apply(this,arguments)}function rS(n){return sT(n).then(e=>e.persistence)}function uT(n){return sT(n).then(e=>e.localStore)}function iS(n){return Vb(n).then(e=>e.remoteStore)}function lT(n){return Vb(n).then(e=>e.syncEngine)}function fy(n){return cT.apply(this,arguments)}function cT(){return cT=(0,me.Z)(function*(n){const e=yield Vb(n),t=e.eventManager;return t.onListen=tx.bind(null,e.syncEngine),t.onUnlisten=nx.bind(null,e.syncEngine),t}),cT.apply(this,arguments)}function sS(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(o,u,f,m,E){const D=new Lb({next:P=>{u.enqueueAndForget(()=>AD(o,x));const H=P.docs.has(f);!H&&P.fromCache?E.reject(new Te(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&P.fromCache&&m&&"server"===m.source?E.reject(new Te(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(P)},error:P=>E.reject(P)}),x=new xD(oh(f.path),D,{includeMetadataChanges:!0,Du:!0});return DD(o,x)}(yield fy(n),n.asyncQueue,e,t,r)})),r.promise}function oS(n,e,t={}){const r=new Nr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function(o,u,f,m,E){const D=new Lb({next:P=>{u.enqueueAndForget(()=>AD(o,x)),P.fromCache&&"server"===m.source?E.reject(new Te(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(P)},error:P=>E.reject(P)}),x=new xD(f,D,{includeMetadataChanges:!0,Du:!0});return DD(o,x)}(yield fy(n),n.asyncQueue,e,t,r)})),r.promise}const aS=new Map;function dT(n,e,t){if(!t)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uS(n,e,t,r){if(!0===e&&!0===r)throw new Te(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lS(n){if(!Ve.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cS(n){if(Ve.isDocumentKey(n))throw new Te(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ub(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}function Jt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Te(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ub(n);throw new Te(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function dS(n,e){if(e<=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class hS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Te(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Te(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,uS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class n0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hS({}),this._settingsFrozen=!1,e instanceof $a?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Te(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $a(o.options.projectId)}(e))}get app(){if(!this._app)throw new Te(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hS(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new _I;switch(t.type){case"gapi":const r=t.client;return Et(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new fE(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Te(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=aS.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),aS.delete(e),t.terminate())}(this),Promise.resolve()}}class Ln{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class Bi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bi(this.firestore,e,this._query)}}class il extends Bi{constructor(e,t,r){super(e,t,oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new Ve(e))}withConverter(e){return new il(this.firestore,e,this._path)}}function fS(n,e,...t){if(n=(0,$t.m9)(n),dT("collection","path",e),n instanceof n0){const r=Qt.fromString(e,...t);return cS(r),new il(n,null,r)}{if(!(n instanceof Ln||n instanceof il))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return cS(r),new il(n.firestore,null,r)}}function Bb(n,e,...t){if(n=(0,$t.m9)(n),1===arguments.length&&(e=gE.R()),dT("doc","path",e),n instanceof n0){const r=Qt.fromString(e,...t);return lS(r),new Ln(n,null,new Ve(r))}{if(!(n instanceof Ln||n instanceof il))throw new Te(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qt.fromString(e,...t));return lS(r),new Ln(n.firestore,n instanceof il?n.converter:null,new Ve(r))}}function pS(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),(n instanceof Ln||n instanceof il)&&(e instanceof Ln||e instanceof il)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function gS(n,e){return n=(0,$t.m9)(n),e=(0,$t.m9)(e),n instanceof Bi&&e instanceof Bi&&n.firestore===e.firestore&&ah(n._query,e._query)&&n.converter===e.converter}class Nx{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new Z(this,"async_queue_retry"),this.Ua=()=>{const t=N();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=N();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=N();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Nr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,me.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!ra(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,ur("INTERNAL UNHANDLED ERROR: ",function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),f}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const o=ID.createAndSchedule(this,e,t,r,u=>this.Qa(u));return this.Oa.push(o),o}qa(){this.Fa&&Xe()}verifyOperationInProgress(){}ja(){var e=this;return(0,me.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function hT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class kx{constructor(){this._progressObserver={},this._taskCompletionResolver=new Nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qn extends n0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new Nx,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mS(this),this._firestoreClient.terminate()}}function Fr(n){return n._firestoreClient||mS(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function mS(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new vE(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new Cx(n._authCredentials,n._appCheckCredentials,n._queue,r)}function yS(n,e,t){const r=new Nr;return n.asyncQueue.enqueue((0,me.Z)(function*(){try{yield tS(n,t),yield nS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===ae.FAILED_PRECONDITION||u.code===ae.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function _S(n){if(n._initialized||n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class kc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Te(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sl(Ir.fromBase64String(e))}catch(t){throw new Te(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sl(Ir.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gp{constructor(e){this._methodName=e}}class jb{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Te(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Te(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lt(this._lat,e._lat)||Lt(this._long,e._long)}}const qx=/^__.*__$/;class zx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new hh(e,this.data,t,this.fieldTransforms)}}class vS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function wS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class $b{constructor(e,t,r,o,u,f){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.Ja(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new $b(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.ec(e),o}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Xa({path:r,tc:!1});return o.Ja(),o}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return qb(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(wS(this.Ya)&&qx.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class Zx{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||V(e)}uc(e,t,r,o=!1){return new $b({Ya:e,methodName:t,oc:r,path:Cr.emptyPath(),tc:!1,rc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function mp(n){const e=n._freezeSettings(),t=V(n._databaseId);return new Zx(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Hb(n,e,t,r,o,u={}){const f=n.uc(u.merge||u.mergeFields?2:0,e,t,o);mT("Data must be an object, but it was:",f,r);const m=CS(r,f);let E,D;if(u.merge)E=new ja(f.fieldMask),D=f.fieldTransforms;else if(u.mergeFields){const x=[];for(const P of u.mergeFields){const H=yT(e,P,t);if(!f.contains(H))throw new Te(ae.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);DS(x,H)||x.push(H)}E=new ja(x),D=f.fieldTransforms.filter(P=>E.covers(P.field))}else E=null,D=f.fieldTransforms;return new zx(new gi(m),E,D)}class r0 extends gp{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r0}}function ES(n,e,t){return new $b({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class fT extends gp{_toFieldTransform(e){return new Xf(e.path,new lh)}isEqual(e){return e instanceof fT}}class Wx extends gp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=ES(this,e,!0),r=this.ac.map(u=>yp(u,t)),o=new ch(r);return new Xf(e.path,o)}isEqual(e){return this===e}}class Kx extends gp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=ES(this,e,!0),r=this.ac.map(u=>yp(u,t)),o=new dh(r);return new Xf(e.path,o)}isEqual(e){return this===e}}class Yx extends gp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new Qu(e.M,Ic(e.M,this.cc));return new Xf(e.path,t)}isEqual(e){return this===e}}function pT(n,e,t,r){const o=n.uc(1,e,t);mT("Data must be an object, but it was:",o,r);const u=[],f=gi.empty();_c(r,(E,D)=>{const x=Gb(e,E,t);D=(0,$t.m9)(D);const P=o.nc(x);if(D instanceof r0)u.push(x);else{const H=yp(D,P);null!=H&&(u.push(x),f.set(x,H))}});const m=new ja(u);return new vS(f,m,o.fieldTransforms)}function gT(n,e,t,r,o,u){const f=n.uc(1,e,t),m=[yT(e,r,t)],E=[o];if(u.length%2!=0)throw new Te(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let H=0;H<u.length;H+=2)m.push(yT(e,u[H])),E.push(u[H+1]);const D=[],x=gi.empty();for(let H=m.length-1;H>=0;--H)if(!DS(D,m[H])){const W=m[H];let fe=E[H];fe=(0,$t.m9)(fe);const ke=f.nc(W);if(fe instanceof r0)D.push(W);else{const tt=yp(fe,ke);null!=tt&&(D.push(W),x.set(W,tt))}}const P=new ja(D);return new vS(x,P,f.fieldTransforms)}function bS(n,e,t,r=!1){return yp(t,n.uc(r?4:3,e))}function yp(n,e){if(IS(n=(0,$t.m9)(n)))return mT("Unsupported field value:",e,n),CS(n,e);if(n instanceof gp)return function(t,r){if(!wS(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const f of t){let m=yp(f,r.sc(u));null==m&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,$t.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ic(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Jn.fromDate(t);return{timestampValue:Dc(r.M,o)}}if(t instanceof Jn){const o=new Jn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Dc(r.M,o)}}if(t instanceof jb)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sl)return{bytesValue:xv(r.M,t._byteString)};if(t instanceof Ln){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ic(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Fm(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${Ub(t)}`)}(n,e)}function CS(n,e){const t={};return wI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_c(n,(r,o)=>{const u=yp(o,e.Za(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function IS(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Jn||n instanceof jb||n instanceof sl||n instanceof Ln||n instanceof gp)}function mT(n,e,t){if(!IS(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ub(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function yT(n,e,t){if((e=(0,$t.m9)(e))instanceof kc)return e._internalPath;if("string"==typeof e)return Gb(n,e);throw qb("Field path arguments must be of type string or ",n,!1,void 0,t)}const Qx=new RegExp("[~\\*/\\[\\]]");function Gb(n,e,t){if(e.search(Qx)>=0)throw qb(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kc(...e.split("."))._internalPath}catch(r){throw qb(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qb(n,e,t,r,o){const u=r&&!r.isEmpty(),f=void 0!==o;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(u||f)&&(E+=" (found",u&&(E+=` in field ${r}`),f&&(E+=` in document ${o}`),E+=")"),new Te(ae.INVALID_ARGUMENT,m+n+E)}function DS(n,e){return n.some(t=>t.isEqual(e))}class s0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jx extends s0{data(){return super.data()}}function zb(n,e){return"string"==typeof e?Gb(n,e):e instanceof kc?e._internalPath:e._delegate._internalPath}class _p{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fc extends s0{constructor(e,t,r,o,u,f){super(e,t,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new o0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(zb("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class o0 extends Fc{data(e={}){return super.data(e)}}class Th{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new _p(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new o0(this._firestore,this._userDataWriter,r.key,r,new _p(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Te(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new o0(r._firestore,r._userDataWriter,f.doc.key,f.doc,new _p(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>o||3!==f.type).map(f=>{const m=new o0(r._firestore,r._userDataWriter,f.doc.key,f.doc,new _p(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,D=-1;return 0!==f.type&&(E=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),1!==f.type&&(u=u.add(f.doc),D=u.indexOf(f.doc.key)),{type:Xx(f.type),doc:m,oldIndex:E,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Xx(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}function TS(n,e){return n instanceof Fc&&e instanceof Fc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Th&&e instanceof Th&&n._firestore===e._firestore&&gS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function AS(n){if(Im(n)&&0===n.explicitOrderBy.length)throw new Te(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a0{}function Ah(n,...e){for(const t of e)n=t._apply(n);return n}class e1 extends a0{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=mp(e.firestore),r=function(o,u,f,m,E,D,x){let P;if(E.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){RS(x,D);const W=[];for(const fe of x)W.push(PS(m,o,fe));P={arrayValue:{values:W}}}else P=PS(m,o,x)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||RS(x,D),P=bS(f,"where",x,"in"===D||"not-in"===D);const H=Xr.create(E,D,P);return function(W,fe){if(fe.S()){const tt=Tm(W);if(null!==tt&&!tt.isEqual(fe.field))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${tt.toString()}' and '${fe.field.toString()}'`);const zt=Dm(W);null!==zt&&NS(0,fe.field,zt)}const ke=function(tt,zt){for(const ct of tt.filters)if(zt.indexOf(ct.op)>=0)return ct.op;return null}(W,function(tt){switch(tt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(fe.op));if(null!==ke)throw new Te(ae.INVALID_ARGUMENT,ke===fe.op?`Invalid query. You cannot use more than one '${fe.op.toString()}' filter.`:`Invalid query. You cannot use '${fe.op.toString()}' filters with '${ke.toString()}' filters.`)}(o,H),H}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new Bi(e.firestore,e.converter,function(o,u){const f=o.filters.concat([u]);return new ea(o.path,o.collectionGroup,o.explicitOrderBy.slice(),f,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class n1 extends a0{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Ao(o,u);return function(m,E){if(null===Dm(m)){const D=Tm(m);null!==D&&NS(0,D,E.field)}}(r,f),f}(e._query,this.hc,this.dc);return new Bi(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new ea(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class SS extends a0{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new Bi(e.firestore,e.converter,NE(e._query,this._c,this.wc))}}class MS extends a0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=OS(e,this.type,this.mc,this.gc);return new Bi(e.firestore,e.converter,(o=t,new ea((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class xS extends a0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=OS(e,this.type,this.mc,this.gc);return new Bi(e.firestore,e.converter,(o=t,new ea((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function OS(n,e,t,r){if(t[0]=(0,$t.m9)(t[0]),t[0]instanceof s0)return function(o,u,f,m,E){if(!m)throw new Te(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const D=[];for(const x of Ga(o))if(x.field.isKeyField())D.push(ih(u,m.key));else{const P=m.data.field(x.field);if(uv(P))throw new Te(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const H=x.field.canonicalString();throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${H}' (used as the orderBy) does not exist.`)}D.push(P)}return new Yu(D,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=mp(n.firestore);return function(u,f,m,E,D,x){const P=u.explicitOrderBy;if(D.length>P.length)throw new Te(ae.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const H=[];for(let W=0;W<D.length;W++){const fe=D[W];if(P[W].field.isKeyField()){if("string"!=typeof fe)throw new Te(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof fe}`);if(!Qf(u)&&-1!==fe.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${fe}' contains a slash.`);const ke=u.path.child(Qt.fromString(fe));if(!Ve.isDocumentKey(ke))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${ke}' is not because it contains an odd number of segments.`);const tt=new Ve(ke);H.push(ih(f,tt))}else{const ke=bS(m,E,fe);H.push(ke)}}return new Yu(H,x)}(n._query,n.firestore._databaseId,o,e,t,r)}}function PS(n,e,t){if("string"==typeof(t=(0,$t.m9)(t))){if(""===t)throw new Te(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qf(e)&&-1!==t.indexOf("/"))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Qt.fromString(t));if(!Ve.isDocumentKey(r))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ih(n,new Ve(r))}if(t instanceof Ln)return ih(n,t._key);throw new Te(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ub(t)}.`)}function RS(n,e){if(!Array.isArray(n)||0===n.length)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Te(ae.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function NS(n,e,t){if(!t.isEqual(e))throw new Te(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class _T{convertValue(e,t="none"){switch(Ec(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xe()}}convertObject(e,t){const r={};return _c(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new jb(Gn(e.latitude),Gn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=_E(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hf(e));default:return null}}convertTimestamp(e){const t=Zs(e);return new Jn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Qt.fromString(e);Et(Fv(r));const o=new $a(r.get(1),r.get(3)),u=new Ve(r.popFirst(5));return o.isEqual(t)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function Zb(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class c1 extends _T{constructor(e){super(),this.firestore=e}convertBytes(e){return new sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}class kS{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=mp(e)}set(e,t,r){this._verifyNotCommitted();const o=Sh(e,this._firestore),u=Zb(o.converter,t,r),f=Hb(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(f.toMutation(o._key,lr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Sh(e,this._firestore);let f;return f="string"==typeof(t=(0,$t.m9)(t))||t instanceof kc?gT(this._dataReader,"WriteBatch.update",u._key,t,r,o):pT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(f.toMutation(u._key,lr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Sh(e,this._firestore);return this._mutations=this._mutations.concat(new fh(t._key,lr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Te(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sh(n,e){if((n=(0,$t.m9)(n)).firestore!==e)throw new Te(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class vp extends _T{constructor(e){super(),this.firestore=e}convertBytes(e){return new sl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,t)}}function FS(n,e,t){n=Jt(n,Ln);const r=Jt(n.firestore,qn),o=Zb(n.converter,e,t);return py(r,[Hb(mp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,lr.none())])}function LS(n,e,t,...r){n=Jt(n,Ln);const o=Jt(n.firestore,qn),u=mp(o);let f;return f="string"==typeof(e=(0,$t.m9)(e))||e instanceof kc?gT(u,"updateDoc",n._key,e,t,r):pT(u,"updateDoc",n._key,e),py(o,[f.toMutation(n._key,lr.exists(!0))])}function VS(n,...e){var t,r,o;n=(0,$t.m9)(n);let u={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||hT(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges};if(hT(e[f])){const P=e[f];e[f]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[f+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[f+2]=null===(o=P.complete)||void 0===o?void 0:o.bind(P)}let E,D,x;if(n instanceof Ln)D=Jt(n.firestore,qn),x=oh(n._key.path),E={next:P=>{e[f]&&e[f](vT(D,n,P))},error:e[f+1],complete:e[f+2]};else{const P=Jt(n,Bi);D=Jt(P.firestore,qn),x=P._query;const H=new vp(D);E={next:W=>{e[f]&&e[f](new Th(D,H,P,W))},error:e[f+1],complete:e[f+2]},AS(n._query)}return function(P,H,W,fe){const ke=new Lb(fe),tt=new xD(H,ke,W);return P.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return DD(yield fy(P),tt)})),()=>{ke.pa(),P.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return AD(yield fy(P),tt)}))}}(Fr(D),x,m,E)}function py(n,e){return function(t,r){const o=new Nr;return t.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function rx(n,e,t){return kD.apply(this,arguments)}(yield lT(t),r,o)})),o.promise}(Fr(n),e)}function vT(n,e,t){const r=t.docs.get(e._key),o=new vp(n);return new Fc(n,o,e._key,r,new _p(t.hasPendingWrites,t.fromCache),e.converter)}class w1 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=mp(e)}get(e){const t=Sh(e,this._firestore),r=new c1(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return Xe();const u=o[0];if(u.isFoundDocument())return new s0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new s0(this._firestore,r,t._key,null,t.converter);throw Xe()})}set(e,t,r){const o=Sh(e,this._firestore),u=Zb(o.converter,t,r),f=Hb(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,f),this}update(e,t,r,...o){const u=Sh(e,this._firestore);let f;return f="string"==typeof(t=(0,$t.m9)(t))||t instanceof kc?gT(this._dataReader,"Transaction.update",u._key,t,r,o):pT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,f),this}delete(e){const t=Sh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Sh(e,this._firestore),r=new vp(this._firestore);return super.get(e).then(o=>new Fc(this._firestore,r,t._key,o._document,new _p(!1,!1),t.converter))}}function wT(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Te("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function BS(){if("undefined"==typeof Uint8Array)throw new Te("unimplemented","Uint8Arrays are not available in this environment.")}function jS(){if(!function EI(){return"undefined"!=typeof atob}())throw new Te("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Ba=Uu.SDK_VERSION,(0,Uu._registerComponent)(new bf.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new qn(o,new dE(t.getProvider("auth-internal")),new $f(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Uu.registerVersion)(aE,"3.4.7",n),(0,Uu.registerVersion)(aE,"3.4.7","esm2017")}();class u0{constructor(e){this._delegate=e}static fromBase64String(e){return jS(),new u0(sl.fromBase64String(e))}static fromUint8Array(e){return BS(),new u0(sl.fromUint8Array(e))}toBase64(){return jS(),this._delegate.toBase64()}toUint8Array(){return BS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ET(n){return function M1(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class x1{enableIndexedDbPersistence(e,t){return function Lx(n,e){_S(n=Jt(n,qn));const t=Fr(n),r=n._freezeSettings(),o=new nT;return yS(t,o,new XA(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Vx(n){_S(n=Jt(n,qn));const e=Fr(n),t=n._freezeSettings(),r=new nT;return yS(e,r,new vx(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Ux(n){if(n._initialized&&!n._terminated)throw new Te(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Nr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,me.Z)(function*(){try{yield(t=(0,me.Z)(function*(r){if(!na.vt())return Promise.resolve();const o=r+"main";yield na.delete(o)}),function(r){return t.apply(this,arguments)})(Kv(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class $S{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $a||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&rh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function Px(n,e,t,r={}){var o;const u=(n=Jt(n,n0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&rh("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=ar.MOCK_USER;else{f=(0,$t.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Te(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ar(E)}n._authCredentials=new hm(new cE(f,m))}}(this._delegate,e,t,r)}enableNetwork(){return function jx(n){return function Ix(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield rS(n),t=yield iS(n);return e.setNetworkEnabled(!0),function(r){const o=He(r);return o.lu.delete(0),Rt(o)}(t)}))}(Fr(n=Jt(n,qn)))}(this._delegate)}disableNetwork(){return function $x(n){return function Dx(n){return n.asyncQueue.enqueue((0,me.Z)(function*(){const e=yield rS(n),t=yield iS(n);return e.setNetworkEnabled(!1),(r=(0,me.Z)(function*(o){const u=He(o);u.lu.add(0),yield kr(u),u._u.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Fr(n=Jt(n,qn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,uS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Bx(n){return function(e){const t=new Nr;return e.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return function ax(n,e){return BD.apply(this,arguments)}(yield lT(e),t)})),t.promise}(Fr(n=Jt(n,qn)))}(this._delegate)}onSnapshotsInSync(e){return function v1(n,e){return function Sx(n,e){const t=new Lb(e);return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield fy(n),o=t,He(r).Tu.add(o),void o.next();var r,o})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return r=yield fy(n),o=t,void He(r).Tu.delete(o);var r,o}))}}(Fr(n=Jt(n,qn)),hT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Te("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new gy(this,fS(this._delegate,e))}catch(t){throw gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new sa(this,Bb(this._delegate,e))}catch(t){throw gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ms(this,function Rx(n,e){if(n=Jt(n,n0),dT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Te(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Bi(n,null,(t=e,new ea(Qt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function E1(n,e){return function Mx(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){const r=yield(o=n,Vb(o).then(u=>u.datastore));var o;new bx(n.asyncQueue,r,e,t).run()})),t.promise}(Fr(n=Jt(n,qn)),t=>e(new w1(n,t)))}(this._delegate,t=>e(new HS(this,t)))}batch(){return Fr(this._delegate),new GS(new kS(this._delegate,e=>py(this._delegate,e)))}loadBundle(e){return function Hx(n,e){const t=Fr(n=Jt(n,qn)),r=new kx;return function xx(n,e,t,r){const o=function(u,f){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,D){if(E instanceof Uint8Array)return eS(E,D);if(E instanceof ArrayBuffer)return eS(new Uint8Array(E),D);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new wx(E,f);var E}(t,V(e));n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){!function _x(n,e,t){const r=He(n);var o;(o=(0,me.Z)(function*(u,f,m){try{const E=yield f.getMetadata();if(yield function(H,W){const fe=He(H),ke=Tr(W.createTime);return fe.persistence.runTransaction("hasNewerBundle","readonly",tt=>fe.ds.getBundleMetadata(tt,W.id)).then(tt=>!!tt&&tt.createTime.compareTo(ke)>=0)}(u.localStore,E))return yield f.close(),m._completeWith({taskState:"Success",documentsLoaded:(H=E).totalDocuments,bytesLoaded:H.totalBytes,totalDocuments:H.totalDocuments,totalBytes:H.totalBytes}),Promise.resolve(new Set);m._updateProgress(HA(E));const D=new QM(E,u.localStore,f.M);let x=yield f.fa();for(;x;){const H=yield D.Nu(x);H&&m._updateProgress(H),x=yield f.fa()}const P=yield D.complete();return yield Nc(u,P.Ou,void 0),yield function(H,W){const fe=He(H);return fe.persistence.runTransaction("Save bundle","readwrite",ke=>fe.ds.saveBundleMetadata(ke,W))}(u.localStore,E),m._completeWith(P.progress),Promise.resolve(P.Mu)}catch(E){return rh("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var H}),function(u,f,m){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield lT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function Gx(n,e){return function Ox(n,e){return n.asyncQueue.enqueue((0,me.Z)(function*(){return function(t,r){const o=He(t);return o.persistence.runTransaction("Get named query","readonly",u=>o.ds.getNamedQuery(u,r))}(yield uT(n),e)}))}(Fr(n=Jt(n,qn)),e).then(t=>t?new Bi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ms(this,t):null)}}class Wb extends _T{constructor(e){super(),this.firestore=e}convertBytes(e){return new u0(new sl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return sa.forKey(t,this.firestore,null)}}class HS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}get(e){const t=Ep(e);return this._delegate.get(t).then(r=>new l0(this._firestore,new Fc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=Ep(e);return r?(wT("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Ep(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Ep(e);return this._delegate.delete(t),this}}class GS{constructor(e){this._delegate=e}set(e,t,r){const o=Ep(e);return r?(wT("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=Ep(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=Ep(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class wp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new o0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new c0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=wp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new wp(e,new Wb(e),t),o.set(t,u)),u}}wp.INSTANCES=new WeakMap;class sa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Te("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new sa(t,new Ln(t._delegate,r,new Ve(e)))}static forKey(e,t,r){return new sa(t,new Ln(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new gy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new gy(this.firestore,fS(this._delegate,e))}catch(t){throw gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$t.m9)(e))instanceof Ln&&pS(this._delegate,e)}set(e,t){t=wT("DocumentReference.set",t);try{return t?FS(this._delegate,e,t):FS(this._delegate,e)}catch(r){throw gs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?LS(this._delegate,e):LS(this._delegate,e,t,...r)}catch(o){throw gs(o,"updateDoc()","DocumentReference.update()")}}delete(){return function y1(n){return py(Jt(n.firestore,qn),[new fh(n._key,lr.none())])}(this._delegate)}onSnapshot(...e){const t=qS(e),r=zS(e,o=>new l0(this.firestore,new Fc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return VS(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function h1(n){n=Jt(n,Ln);const e=Jt(n.firestore,qn),t=Fr(e),r=new vp(e);return function Tx(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(o,u,f){try{const m=yield function(E,D){const x=He(E);return x.persistence.runTransaction("read document","readonly",P=>x.ai.Bs(P,D))}(o,u);m.isFoundDocument()?f.resolve(m):m.isNoDocument()?f.resolve(null):f.reject(new Te(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=ly(m,`Failed to get document '${u} from cache`);f.reject(E)}}),function(o,u,f){return r.apply(this,arguments)})(yield uT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Fc(e,r,n._key,o,new _p(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function f1(n){n=Jt(n,Ln);const e=Jt(n.firestore,qn);return sS(Fr(e),n._key,{source:"server"}).then(t=>vT(e,n,t))}(this._delegate):function d1(n){n=Jt(n,Ln);const e=Jt(n.firestore,qn);return sS(Fr(e),n._key).then(t=>vT(e,n,t))}(this._delegate),t.then(r=>new l0(this.firestore,new Fc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new sa(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}function gs(n,e,t){return n.message=n.message.replace(e,t),n}function qS(n){for(const e of n)if("object"==typeof e&&!ET(e))return e;return{}}function zS(n,e){var t,r;let o;return o=ET(n[0])?n[0]:ET(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class l0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new sa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return TS(this._delegate,e._delegate)}}class c0 extends l0{data(e){const t=this._delegate.data(e);return function yI(n,e){n||Xe()}(void 0!==t),t}}class ms{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Wb(e)}where(e,t,r){try{return new ms(this.firestore,Ah(this._delegate,function t1(n,e,t){const r=e,o=zb("where",n);return new e1(o,r,t)}(e,t,r)))}catch(o){throw gs(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ms(this.firestore,Ah(this._delegate,function r1(n,e="asc"){const t=e,r=zb("orderBy",n);return new n1(r,t)}(e,t)))}catch(r){throw gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ms(this.firestore,Ah(this._delegate,function i1(n){return dS("limit",n),new SS("limit",n,"F")}(e)))}catch(t){throw gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ms(this.firestore,Ah(this._delegate,function s1(n){return dS("limitToLast",n),new SS("limitToLast",n,"L")}(e)))}catch(t){throw gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ms(this.firestore,Ah(this._delegate,function o1(...n){return new MS("startAt",n,!0)}(...e)))}catch(t){throw gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ms(this.firestore,Ah(this._delegate,function a1(...n){return new MS("startAfter",n,!1)}(...e)))}catch(t){throw gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ms(this.firestore,Ah(this._delegate,function u1(...n){return new xS("endBefore",n,!1)}(...e)))}catch(t){throw gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ms(this.firestore,Ah(this._delegate,function l1(...n){return new xS("endAt",n,!0)}(...e)))}catch(t){throw gs(t,"endAt()","Query.endAt()")}}isEqual(e){return gS(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function g1(n){n=Jt(n,Bi);const e=Jt(n.firestore,qn),t=Fr(e),r=new vp(e);return function Ax(n,e){const t=new Nr;return n.asyncQueue.enqueueAndForget((0,me.Z)(function*(){return(r=(0,me.Z)(function*(o,u,f){try{const m=yield ty(o,u,!0),E=new zA(u,m.hi),D=E.Gu(m.documents),x=E.applyChanges(D,!1);f.resolve(x.snapshot)}catch(m){const E=ly(m,`Failed to execute query '${u} against cache`);f.reject(E)}}),function(o,u,f){return r.apply(this,arguments)})(yield uT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new Th(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function m1(n){n=Jt(n,Bi);const e=Jt(n.firestore,qn),t=Fr(e),r=new vp(e);return oS(t,n._query,{source:"server"}).then(o=>new Th(e,r,n,o))}(this._delegate):function p1(n){n=Jt(n,Bi);const e=Jt(n.firestore,qn),t=Fr(e),r=new vp(e);return AS(n._query),oS(t,n._query).then(o=>new Th(e,r,n,o))}(this._delegate),t.then(r=>new bT(this.firestore,new Th(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=qS(e),r=zS(e,o=>new bT(this.firestore,new Th(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return VS(this._delegate,t,r)}withConverter(e){return new ms(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}class P1{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new c0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ms(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new c0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new P1(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new c0(this._firestore,r))})}isEqual(e){return TS(this._delegate,e._delegate)}}class gy extends ms{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new sa(this.firestore,e):null}doc(e){try{return new sa(this.firestore,void 0===e?Bb(this._delegate):Bb(this._delegate,e))}catch(t){throw gs(t,"doc()","CollectionReference.doc()")}}add(e){return function _1(n,e){const t=Jt(n.firestore,qn),r=Bb(n),o=Zb(n.converter,e);return py(t,[Hb(mp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new sa(this.firestore,t))}isEqual(e){return pS(this._delegate,e._delegate)}withConverter(e){return new gy(this.firestore,this._delegate.withConverter(e?wp.getInstance(this.firestore,e):null))}}function Ep(n){return Jt(n,Ln)}class CT{constructor(...e){this._delegate=new kc(...e)}static documentId(){return new CT(Cr.keyField().canonicalString())}isEqual(e){return(e=(0,$t.m9)(e))instanceof kc&&this._delegate._internalPath.isEqual(e._internalPath)}}class bp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function C1(){return new fT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new bp(e)}static delete(){const e=function b1(){return new r0("deleteField")}();return e._methodName="FieldValue.delete",new bp(e)}static arrayUnion(...e){const t=function I1(...n){return new Wx("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new bp(t)}static arrayRemove(...e){const t=function D1(...n){return new Kx("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new bp(t)}static increment(e){const t=function T1(n){return new Yx("increment",n)}(e);return t._methodName="FieldValue.increment",new bp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const R1={Firestore:$S,GeoPoint:jb,Timestamp:Jn,Blob:u0,Transaction:HS,WriteBatch:GS,DocumentReference:sa,DocumentSnapshot:l0,Query:ms,QueryDocumentSnapshot:c0,QuerySnapshot:bT,CollectionReference:gy,FieldPath:CT,FieldValue:bp,setLogLevel:function O1(n){!function lE(n){hn.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function k1(n){(function N1(n,e){n.INTERNAL.registerComponent(new bf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},R1)))})(n,(e,t)=>new $S(e,t,new x1)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(v_.Z);var F1=k(4986),_i=k(5813);function IT(){return(0,Ai.e)((n,e)=>{let t,r=!1;n.subscribe((0,_n.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function V1(n,e){return n===e}var Xa=k(2011),U1=k(6451),Kb=k(5363),B1=k(6063);class j1 extends Bs.x{constructor(e=1/0,t=1/0,r=B1.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:f}=this;t||(r.push(e),!o&&r.push(u.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let f=0;f<u.length&&!e.closed;f+=r?1:2)e.next(u[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const f=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=f;E+=2)m=E;m&&r.splice(0,m+1)}}}var $1=k(3099);function ZS(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,$1.B)({connector:()=>new j1(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function WS(n,e){return(0,sf.m)(e)?Er(()=>n,e):Er(()=>n)}var DT=k(9468);k(5867);const YS=new Map,Z1={activated:!1,tokenObservers:[]},W1={initialized:!1,enabled:!1};function vi(n){return YS.get(n)||Z1}function eu(n,e){YS.set(n,e)}function Qb(){return W1}class X1{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,me.Z)(function*(){t.stop();try{t.pending=new $t.BH,yield function eO(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new $t.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ys=new $t.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function JS(n){if(!vi(n).activated)throw ys.create("use-before-activation",{appName:n.name})}function MT(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,me.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const P=yield o.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const u={method:"POST",body:JSON.stringify(e),headers:r};let f,m;try{f=yield fetch(n,u)}catch(P){throw ys.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==f.status)throw ys.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(P){throw ys.create("fetch-parse-error",{originalErrorMessage:P.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw ys.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const D=1e3*Number(E[1]),x=Date.now();return{token:m.attestationToken,expireTimeMillis:x+D,issuedAtTimeMillis:x}}),xT.apply(this,arguments)}function sO(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const d0="firebase-app-check-store";let eC=null;function eM(){return eC||(eC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(ys.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(d0,{keyPath:"compositeKey"})}}catch(t){e(ys.create("storage-open",{originalErrorMessage:t.message}))}}),eC)}function OT(){return OT=(0,me.Z)(function*(n,e){const r=(yield eM()).transaction(d0,"readwrite"),u=r.objectStore(d0).put({compositeKey:n,value:e});return new Promise((f,m)=>{u.onsuccess=E=>{f()},r.onerror=E=>{var D;m(ys.create("storage-set",{originalErrorMessage:null===(D=E.target.error)||void 0===D?void 0:D.message}))}})}),OT.apply(this,arguments)}const h0=new Na.Yd("@firebase/app-check");function iM(n,e){return(0,$t.hl)()?function lO(n,e){return function tM(n,e){return OT.apply(this,arguments)}(function rM(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{h0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sM(){return Qb().enabled}function oM(){return kT.apply(this,arguments)}function kT(){return kT=(0,me.Z)(function*(){const n=Qb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),kT.apply(this,arguments)}const gO={error:"UNKNOWN_ERROR"};function mO(n){return $t.US.encodeString(JSON.stringify(n),!1)}function tC(n){return FT.apply(this,arguments)}function FT(){return FT=(0,me.Z)(function*(n,e=!1){const t=n.app;JS(t);const r=vi(t);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&nC(E)&&(o=E)}if(!e&&o&&nC(o))return{token:o.token};let m,f=!1;if(sM()){r.exchangeTokenPromise||(r.exchangeTokenPromise=MT(sO(t,yield oM()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),f=!0);const E=yield r.exchangeTokenPromise;return yield iM(t,E),eu(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),f=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?h0.warn(E.message):h0.error(E),u=E}return o?(m={token:o.token},eu(t,Object.assign(Object.assign({},r),{token:o})),yield iM(t,o)):m=_O(u),f&&uM(t,m),m}),FT.apply(this,arguments)}function VT(n,e){const t=vi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),eu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function aM(n){const{app:e}=n,t=vi(e);let r=t.tokenRefresher;r||(r=function yO(n){const{app:e}=n;return new X1((0,me.Z)(function*(){let r;if(r=vi(e).token?yield tC(n,!0):yield tC(n),r.error)throw r.error}),()=>!0,()=>{const t=vi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),eu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function uM(n,e){const t=vi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function nC(n){return n.expireTimeMillis-Date.now()>0}function _O(n){return{token:mO(gO),error:n}}class vO{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=vi(this.app);for(const t of e)VT(this.app,t.next);return Promise.resolve()}}const mM="app-check-internal";!function RO(){(0,Uu._registerComponent)(new bf.wA("app-check",n=>function wO(n,e){return new vO(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(mM).initialize()})),(0,Uu._registerComponent)(new bf.wA(mM,n=>function EO(n){return{getToken:e=>tC(n,e),addTokenListener:e=>function LT(n,e,t,r){const{app:o}=n,u=vi(o),f={next:t,error:r,type:e};if(eu(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,f]})),u.token&&nC(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),aM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>aM(n))}(n,"INTERNAL",e),removeTokenListener:e=>VT(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Uu.registerVersion)("@firebase/app-check","0.5.5")}();class $T{constructor(){return(0,_i.vb)("app-check")}}"undefined"!=typeof window&&window;var GT=k(127);const _M=new d.OlP("angularfire2.auth.use-emulator"),vM=new d.OlP("angularfire2.auth.settings"),wM=new d.OlP("angularfire2.auth.tenant-id"),EM=new d.OlP("angularfire2.auth.langugage-code"),bM=new d.OlP("angularfire2.auth.use-device-language"),CM=new d.OlP("angularfire.auth.persistence"),IM=(n,e,t,r,o,u,f,m)=>(0,Xa.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),f)for(const[D,x]of Object.entries(f))E.settings[D]=x;return m&&E.setPersistence(m),E},[t,r,o,u,f,m]);let iC=(()=>{class n{constructor(t,r,o,u,f,m,E,D,x,P,H,W){const fe=new Bs.x,ke=pt(void 0).pipe((0,Kb.Q)(f.outsideAngular),Er(()=>u.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4087)))),(0,It.U)(()=>(0,Xa.on)(t,u,r)),(0,It.U)(tt=>IM(tt,u,m,D,x,P,E,H)),ZS({bufferSize:1,refCount:!1}));if(sr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{ke.pipe(h()).subscribe();const zt=ke.pipe(Er(bt=>bt.getRedirectResult().then(Ht=>Ht,()=>null)),_i.iC,ZS({bufferSize:1,refCount:!1})),ct=ke.pipe(Er(bt=>new yn.y(Ht=>({unsubscribe:u.runOutsideAngular(()=>bt.onAuthStateChanged(Gt=>Ht.next(Gt),Gt=>Ht.error(Gt),()=>Ht.complete()))})))),bn=ke.pipe(Er(bt=>new yn.y(Ht=>({unsubscribe:u.runOutsideAngular(()=>bt.onIdTokenChanged(Gt=>Ht.next(Gt),Gt=>Ht.error(Gt),()=>Ht.complete()))}))));this.authState=zt.pipe(WS(ct),(0,DT.R)(f.outsideAngular),(0,Kb.Q)(f.insideAngular)),this.user=zt.pipe(WS(bn),(0,DT.R)(f.outsideAngular),(0,Kb.Q)(f.insideAngular)),this.idToken=this.user.pipe(Er(bt=>bt?(0,On.D)(bt.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(Er(bt=>bt?(0,On.D)(bt.getIdTokenResult()):pt(null))),this.credential=(0,U1.T)(zt,fe,this.authState.pipe(us(bt=>!bt))).pipe((0,It.U)(bt=>(null==bt?void 0:bt.user)?bt:null),(0,DT.R)(f.outsideAngular),(0,Kb.Q)(f.insideAngular))}return(0,Xa.pX)(this,ke,u,{spy:{apply:(tt,zt,ct)=>{(tt.startsWith("signIn")||tt.startsWith("createUser"))&&ct.then(bn=>fe.next(bn))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xa.Dh),d.LFG(Xa.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(_i.HU),d.LFG(_M,8),d.LFG(vM,8),d.LFG(wM,8),d.LFG(EM,8),d.LFG(bM,8),d.LFG(CM,8),d.LFG($T,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UO=(()=>{class n{constructor(){GT.Z.registerVersion("angularfire",_i.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[iC]}),n})();function DM(n,e){return function BO(n,e=F1.z){return new yn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function qT(n,e){return DM(n,e).pipe((0,It.U)(t=>({payload:t,type:"query"})))}function sC(n,e){return qT(n,e).pipe(Dd(void 0),IT(),(0,It.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,m)=>{const E=o.find(x=>x.doc.ref.isEqual(f.ref)),D=null==t?void 0:t.payload.docs.find(x=>x.ref.isEqual(f.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(f.metadata)||!E&&D&&JSON.stringify(D.metadata)===JSON.stringify(f.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),u}))}function TM(n,e,t){return sC(n,t).pipe(vo((r,o)=>function $O(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function HO(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return zT(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return zT(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return zT(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function L1(n,e=as.y){return n=null!=n?n:V1,(0,Ai.e)((t,r)=>{let o,u=!0;t.subscribe((0,_n.x)(r,f=>{const m=e(f);(u||!n(o,m))&&(u=!1,o=m,r.next(f))}))})}(),(0,It.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function zT(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function AM(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class SM{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=sC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,It.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Dd(void 0),IT(),us(([r,o])=>o.length>0||!r),(0,It.U)(([r,o])=>o),_i.iC)}auditTrail(e){return this.stateChanges(e).pipe(vo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AM(e);return TM(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return qT(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),_i.iC)}get(e){return(0,On.D)(this.query.get(e)).pipe(_i.iC)}add(e){return this.ref.add(e)}doc(e){return new MM(this.ref.doc(e),this.afs)}}class MM{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=PM(r,t);return new SM(o,u,this.afs)}snapshotChanges(){return function jO(n,e){return DM(n,e).pipe(Dd(void 0),IT(),(0,It.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,It.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,On.D)(this.ref.get(e)).pipe(_i.iC)}}class GO{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?sC(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),us(t=>t.length>0),_i.iC):sC(this.query,this.afs.schedulers.outsideAngular).pipe(_i.iC)}auditTrail(e){return this.stateChanges(e).pipe(vo((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AM(e);return TM(this.query,t,this.afs.schedulers.outsideAngular).pipe(_i.iC)}valueChanges(e={}){return qT(this.query,this.afs.schedulers.outsideAngular).pipe((0,It.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),_i.iC)}get(e){return(0,On.D)(this.query.get(e)).pipe(_i.iC)}}const xM=new d.OlP("angularfire2.enableFirestorePersistence"),OM=new d.OlP("angularfire2.firestore.persistenceSettings"),qO=new d.OlP("angularfire2.firestore.settings"),zO=new d.OlP("angularfire2.firestore.use-emulator");function PM(n,e=(t=>t)){return{query:e(n),ref:n}}let Cp=(()=>{class n{constructor(t,r,o,u,f,m,E,D,x,P,H,W,fe,ke,tt,zt,ct){this.schedulers=E;const bn=(0,Xa.on)(t,m,r),bt=x;P&&IM(bn,m,H,fe,ke,tt,W,zt),[this.firestore,this.persistenceEnabled$]=(0,Xa.cc)(`${bn.name}.firestore`,"AngularFirestore",bn.name,()=>{const Ht=m.runOutsideAngular(()=>bn.firestore());if(u&&Ht.settings(u),bt&&Ht.useEmulator(...bt),o&&!sr(f)){const Gt=()=>{try{return(0,On.D)(Ht.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(ol){return"undefined"!=typeof console&&console.warn(ol),pt(!1)}};return[Ht,m.runOutsideAngular(Gt)]}return[Ht,pt(!1)]},[u,bt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:f}=PM(o,r),m=this.schedulers.ngZone.run(()=>u);return new SM(m,f,this)}collectionGroup(t,r){const o=r||(f=>f),u=this.firestore.collectionGroup(t);return new GO(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new MM(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Xa.Dh),d.LFG(Xa.xv,8),d.LFG(xM,8),d.LFG(qO,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(_i.HU),d.LFG(OM,8),d.LFG(zO,8),d.LFG(iC,8),d.LFG(_M,8),d.LFG(vM,8),d.LFG(wM,8),d.LFG(EM,8),d.LFG(bM,8),d.LFG(CM,8),d.LFG($T,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZO=(()=>{class n{constructor(){GT.Z.registerVersion("angularfire",_i.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:xM,useValue:!0},{provide:OM,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Cp]}),n})(),f0=(()=>{class n{constructor(t){this.firestore=t}cargarMensajes(t){return this.firestore.collection("chats",r=>r.where("id","==",t).orderBy("fecha","asc")).valueChanges()}agregarMensaje(t){this.firestore.collection("chats").add(t)}buscarAmigos(t){return this.firestore.collection("friends",r=>r.where("usuario","==",t)).valueChanges()}newUser(t){let r={usuario:t,amigos:[]};this.firestore.collection("friends").add(r)}nuevoUsuario(t,r,o){let u={id:t,img:r,nombre:o};this.firestore.collection("usuarios").add(u),this.newUser(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lc=(()=>{class n{constructor(t){this.authF=t,this.auth=GT.Z.auth,this.chats=[]}loginGoogle(){var t=this;return(0,me.Z)(function*(){try{return yield t.authF.signInWithPopup(new t.auth.GoogleAuthProvider)}catch(r){return console.log(r),null}})()}login(t,r){var o=this;return(0,me.Z)(function*(){try{return yield o.authF.createUserWithEmailAndPassword(t,r)}catch(u){return console.log(u),null}})()}getUser(){return this.authF.authState}logout(){this.authF.signOut()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(iC))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZT=(()=>{class n{constructor(t,r){this.firebase=t,this.login_service=r}cargarPublicaciones(){return this.firebase.collection("publicaciones",t=>t.orderBy("fecha_publicacion","desc")).valueChanges()}enviarPublicaciones(){this.cargarPublicaciones().subscribe(t=>{this.login_service.getUser()})}enviarPublicacionesByID(t){return this.firebase.collection("publicaciones",r=>r.where("emisor","==",t).orderBy("fecha_publicacion","desc")).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cp),d.LFG(Lc))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function WO(n,e){if(1&n&&(d.TgZ(0,"div",9)(1,"div",10)(2,"div",11)(3,"div",12)(4,"div",13)(5,"div",14)(6,"div",15),d._UZ(7,"img",16),d.TgZ(8,"div",17)(9,"p"),d._uU(10),d.qZA(),d.TgZ(11,"p",18),d._uU(12),d.ALo(13,"date"),d.qZA()()(),d._UZ(14,"div",19),d.qZA(),d.TgZ(15,"div",20)(16,"p",21),d._uU(17),d.qZA(),d._UZ(18,"img",22),d.qZA(),d.TgZ(19,"div",23)(20,"div",24)(21,"a",25),d.O4$(),d.TgZ(22,"svg",26),d._UZ(23,"path",27),d.qZA(),d.kcU(),d.TgZ(24,"p",28),d._uU(25,"Like"),d.qZA()(),d.TgZ(26,"a",25),d.O4$(),d.TgZ(27,"svg",29),d._UZ(28,"path",30),d.qZA(),d.kcU(),d.TgZ(29,"p",28),d._uU(30,"Comment"),d.qZA()(),d.TgZ(31,"a",31),d.O4$(),d.TgZ(32,"svg",32),d._UZ(33,"path",33)(34,"polyline",34)(35,"line",35),d.qZA(),d.kcU(),d.TgZ(36,"p",28),d._uU(37,"Share"),d.qZA()()()()()()()()()),2&n){const t=e.$implicit;d.xp6(7),d.s9C("src",t.img_user,d.LSH),d.xp6(3),d.Oqu(t.nombre_user),d.xp6(2),d.Oqu(d.lcZ(13,5,t.fecha_publicacion.toDate())),d.xp6(5),d.Oqu(t.texto),d.xp6(1),d.s9C("src",t.img,d.LSH)}}let WT=(()=>{class n{constructor(t,r,o){let u,f,m;this.service_publicaciones=t,this.service_chat=r,this.service_login=o,this.publicaciones=[],this.service_login.getUser().subscribe(E=>{u=null==E?void 0:E.uid,f=null==E?void 0:E.displayName,m=null==E?void 0:E.photoURL,this.service_chat.buscarAmigos(u).subscribe(D=>{0==D.length&&this.service_chat.nuevoUsuario(u,m,f)})}),this.service_publicaciones.cargarPublicaciones().subscribe(E=>{this.publicaciones=E})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(ZT),d.Y36(f0),d.Y36(Lc))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-publicaciones"]],decls:12,vars:1,consts:[["http-equiv","Cache-Control","content","no-cache, no-store, must-revalidate"],["http-equiv","Pragma","content","no-cache"],["http-equiv","Expires","content","0"],[1,"contenedor"],["id","snippetContent"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"],[1,"container"],[1,"profile-page","tx-13"],["class","col-md-8 col-xl-6 middle-wrapper",4,"ngFor","ngForOf"],[1,"col-md-8","col-xl-6","middle-wrapper"],[1,"row"],[1,"col-md-12","grid-margin"],[1,"card","rounded"],[1,"card-header"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["alt","",1,"img-xs","rounded-circle",3,"src"],[1,"ml-2"],[1,"tx-11","text-muted"],[1,"dropdown"],[1,"card-body"],[1,"mb-3","tx-14"],["alt","",1,"img-fluid",3,"src"],[1,"card-footer"],[1,"d-flex","post-actions"],["href","javascript:;",1,"d-flex","align-items-center","text-muted","mr-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-heart","icon-md"],["d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"],[1,"d-none","d-md-block","ml-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-message-square","icon-md"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],["href","javascript:;",1,"d-flex","align-items-center","text-muted"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-share","icon-md"],["d","M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"],["points","16 6 12 2 8 6"],["x1","12","y1","2","x2","12","y2","15"]],template:function(t,r){1&t&&(d._UZ(0,"meta",0)(1,"meta",1)(2,"meta",2)(3,"app-menuprincipal"),d.TgZ(4,"div",3),d._UZ(5,"app-amigos"),d.TgZ(6,"div",4),d._UZ(7,"link",5),d.TgZ(8,"div",6)(9,"div",7),d.YNc(10,WO,38,7,"div",8),d.qZA()()()(),d._UZ(11,"router-outlet")),2&t&&(d.xp6(10),d.Q6J("ngForOf",r.publicaciones))},styles:["@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:110px;overflow:hidden}}@media (min-width: 2400px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:280px;overflow:hidden}}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(2);margin-top:15px}}@media (min-width: 2400px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-55px}}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:70px}}.img-xs[_ngcontent-%COMP%]{width:37px;height:37px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}img[_ngcontent-%COMP%]{vertical-align:middle;border-style:none;width:50em;height:25em}.card-header[_ngcontent-%COMP%]:first-child{border-radius:0}.card-header[_ngcontent-%COMP%]{padding:.875rem 1.5rem;margin-bottom:0;background-color:#0000;border-bottom:1px solid #f2f4f9}.card-footer[_ngcontent-%COMP%]:last-child{border-radius:0}.card-footer[_ngcontent-%COMP%]{padding:.875rem 1.5rem;background-color:#0000;border-top:1px solid #f2f4f9}.grid-margin[_ngcontent-%COMP%]{margin-bottom:1rem}.card[_ngcontent-%COMP%]{box-shadow:0 0 10px #b7c0ce33;-webkit-box-shadow:0 0 10px 0 rgba(183,192,206,.2);-moz-box-shadow:0 0 10px 0 rgba(183,192,206,.2);-ms-box-shadow:0 0 10px 0 rgba(183,192,206,.2)}.rounded[_ngcontent-%COMP%]{border-radius:.25rem!important}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid #f2f4f9;border-radius:.25rem}#snippetContent[_ngcontent-%COMP%]{margin-left:30%}.contenedor[_ngcontent-%COMP%]{padding-top:4em;background:linear-gradient(to right,#96fce9,#a1c5fa,#e6bcfa);animation:animate-bg 10s infinite ease-in-out}@keyframes animate-bg{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}"]}),n})();function KO(n,e){if(1&n&&(d.TgZ(0,"p",13),d._uU(1),d.qZA()),2&n){const t=d.oxw().$implicit,r=d.oxw();d.Q6J("ngClass",r.usuarioLogeado.uid==t.emisor?"enviado":"recibido"),d.xp6(1),d.hij(" ",t.texto," ")}}function YO(n,e){if(1&n&&(d.TgZ(0,"div"),d.YNc(1,KO,2,2,"p",12),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("ngIf",""!=t.texto)}}const QO=function(){return{standalone:!0}};let RM=(()=>{class n{constructor(t,r,o){this.service_chat=t,this.service_login=r,this.router=o,this.nuevoMensaje="",this.mensajes=[],this.url=this.router.url.split("/"),this.service_chat.cargarMensajes(this.url[3]).subscribe(u=>{this.mensajes=u})}ngOnInit(){this.service_login.getUser().subscribe(t=>{this.usuarioLogeado=t})}enviarMensaje(){let t={emisor:this.usuarioLogeado.uid,fecha:(new Date).getTime(),id:this.url[3],texto:this.nuevoMensaje};this.service_chat.agregarMensaje(t),this.nuevoMensaje=""}send(){let t={emisor:this.usuarioLogeado.uid,fecha:(new Date).getTime(),id:this.url[3],texto:this.nuevoMensaje};this.service_chat.agregarMensaje(t),this.nuevoMensaje=""}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(f0),d.Y36(Lc),d.Y36(br))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-chat"]],decls:14,vars:4,consts:[["http-equiv","Cache-Control","content","no-cache, no-store, must-revalidate"],["http-equiv","Pragma","content","no-cache"],["http-equiv","Expires","content","0"],[1,"card","text-center","cardContainer"],[1,"card-header"],[1,"card-body"],[1,"contenedorMensajes"],[4,"ngFor","ngForOf"],[1,"card-footer","text-muted","input-group",3,"ngSubmit"],["type","text","placeholder","Ingrese su mensaje",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["id","basic-addon2",1,"input-group-text",3,"click"],[1,"enviar","fa-solid","fa-paper-plane"],["class","p-2",3,"ngClass",4,"ngIf"],[1,"p-2",3,"ngClass"]],template:function(t,r){1&t&&(d._UZ(0,"meta",0)(1,"meta",1)(2,"meta",2)(3,"app-publicaciones"),d.TgZ(4,"div",3)(5,"div",4),d._uU(6," Chat "),d.qZA(),d.TgZ(7,"div",5)(8,"div",6),d.YNc(9,YO,2,1,"div",7),d.qZA()(),d.TgZ(10,"form",8),d.NdJ("ngSubmit",function(){return r.enviarMensaje()}),d.TgZ(11,"input",9),d.NdJ("ngModelChange",function(u){return r.nuevoMensaje=u}),d.qZA(),d.TgZ(12,"span",10),d.NdJ("click",function(){return r.send()}),d._UZ(13,"i",11),d.qZA()()()),2&t&&(d.xp6(9),d.Q6J("ngForOf",r.mensajes),d.xp6(2),d.Q6J("ngModel",r.nuevoMensaje)("ngModelOptions",d.DdM(3,QO)))},directives:[WT,Nn,Mr,bs,Da,hi,fd,Xi,Bo,pd],styles:[".cardContainer[_ngcontent-%COMP%]{width:300px;height:500px;position:fixed;right:.5rem;bottom:.5rem}.card-header[_ngcontent-%COMP%]{background-color:#4a4aec;color:#fff;font-weight:700}.card-body[_ngcontent-%COMP%]{padding:.5rem}.enviar[_ngcontent-%COMP%]:active{transform:scale(.9)}.enviar[_ngcontent-%COMP%]:hover{cursor:pointer}.enviado[_ngcontent-%COMP%]{display:block;float:right;background-color:#04f;color:#fff;min-width:50.01%;border-radius:10px}.recibido[_ngcontent-%COMP%]{display:block;float:left;background-color:#676470;color:#fff;min-width:50.01%;border-radius:10px}.contenedorMensajes[_ngcontent-%COMP%]{overflow:scroll;padding:.3rem}.contenedorMensajes[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}a[_ngcontent-%COMP%]{cursor:pointer}"]}),n})(),JO=(()=>{class n{constructor(t,r,o){this.firestore=t,this.service_login=r,this.route=o,this.form=new yo({correo:new $o,pass:new $o}),this.items=this.firestore.collection("chats",u=>u.orderBy("fecha","asc")).valueChanges()}ngOnInit(){}onEmail(){var t=this;return(0,me.Z)(function*(){try{const{correo:r,pass:o}=t.form.value;t.service_login.login(r,o).then(()=>{t.route.navigateByUrl("/home")}).catch(u=>{console.log(u)})}catch(r){console.log(r)}})()}onGoogle(){var t=this;return(0,me.Z)(function*(){try{yield t.service_login.loginGoogle().then(()=>{t.route.navigateByUrl("/home")}).catch(r=>{console.log(r)})}catch(r){console.log(r)}})()}logout(){this.service_login.logout(),this.service_login.getUser().subscribe(t=>{null==t&&console.log("no esta logeado")})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cp),d.Y36(Lc),d.Y36(br))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-inicio-sesion"]],decls:26,vars:1,consts:[[1,"login"],[2,"margin-left","1em","margin-top","0.5em"],[1,"main"],[1,"sec1"],["src","https://userscontent2.emaze.com/images/7a6e5ada-72e3-4768-b987-333967d70618/b5dda26949f641f98e6fb56da507ccda.png","alt","PUCELANT"],[1,"sec2"],[3,"formGroup"],[1,"input-group","mb-3","inp"],["id","basic-addon1",1,"input-group-text",2,"border","1px solid black"],["formControlName","correo","type","text","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",2,"border","1px solid black"],[1,"input-group","mb-3","inp2"],["formControlName","pass","type","password","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",2,"border","1px solid black"],[1,"btn"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"h1",1),d._uU(2,"PUCELANT"),d.qZA(),d.TgZ(3,"div",2)(4,"div",3),d._UZ(5,"img",4),d.qZA(),d.TgZ(6,"div",5)(7,"form",6)(8,"div",7)(9,"span",8),d._uU(10,"Email"),d.qZA(),d._UZ(11,"input",9),d.qZA(),d.TgZ(12,"div",10)(13,"span",8),d._uU(14,"Contrasena"),d.qZA(),d._UZ(15,"input",11),d.qZA(),d.TgZ(16,"div",12)(17,"div",12)(18,"button",13),d.NdJ("click",function(){return r.onEmail()}),d._uU(19,"Ingresar"),d.qZA()(),d.TgZ(20,"div",12)(21,"button",13),d.NdJ("click",function(){return r.onGoogle()}),d._uU(22,"Google"),d.qZA()(),d.TgZ(23,"div",12)(24,"button",13),d.NdJ("click",function(){return r.logout()}),d._uU(25,"Facebook"),d.qZA()()()()()()()),2&t&&(d.xp6(7),d.Q6J("formGroup",r.form))},directives:[Da,hi,Mu,Xi,Bo,$l],styles:["*[_ngcontent-%COMP%]{margin:0}.login[_ngcontent-%COMP%]{background-image:linear-gradient(to bottom right,#4affde 0%,#5d9dff 40%,#d06bff 60%,#ff34d2 100%);background-size:200% 200%;animation:gradiente 5s linear infinite alternate;position:absolute;width:100%;height:100%}.main[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;justify-content:space-around}img[_ngcontent-%COMP%]{height:40em}.sec2[_ngcontent-%COMP%]{border-radius:10px;width:30%;height:20em;background-color:#f0f8ff;display:flex;justify-content:center;align-items:center}.inp[_ngcontent-%COMP%]{margin-top:10%}.inp2[_ngcontent-%COMP%]{margin-top:5%}.btn[_ngcontent-%COMP%]{margin-top:2%;display:flex;justify-content:center;align-items:center}@keyframes gradiente{0%{background-position:0 0}to{background-position:100% 100%}}"]}),n})(),NM=(()=>{class n{constructor(t){this.firestore=t}buscarUsuario(t){return this.firestore.collection("usuarios",r=>r.where("id","==",t)).valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kM=(()=>{class n{constructor(t){this.firestore=t}newFriend(t,r){const u=this.firestore.collection("friends",m=>m.where("usuario","==",t)).get();console.log(r),u.subscribe(m=>{console.log(m.docs[0].id),this.firestore.collection("friends").doc(`${m.docs[0].id}`).update({amigos:r})}),console.log(1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KT=(()=>{class n{constructor(t){this.firestore=t,this.$modal=new d.vpe}nuevaPublicacion(t){this.firestore.collection("publicaciones").add(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XO=(()=>{class n{constructor(t,r){this.modal_service=t,this.login_services=r,this.form=new yo({url_img:new $o,descripcion:new $o})}ngOnInit(){}closeModal(){this.modal_service.$modal.emit(!1)}onShare(){const{url_img:t,descripcion:r}=this.form.value;let o,u,f,m;this.login_services.getUser().subscribe(E=>{o=null==E?void 0:E.photoURL,u=null==E?void 0:E.displayName,f=null==E?void 0:E.uid,m=new Date,""!=t?(this.modal_service.nuevaPublicacion({comentarios:[],emisor:f,fecha_publicacion:m,img:t,img_user:o,likes:0,nombre_user:u,texto:r}),this.closeModal()):alert("DEBE INSERTAR LA URL DE LA IMAGEN PARA PODER PUBLICAR ")})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(KT),d.Y36(Lc))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-nueva-publicacion"]],decls:20,vars:1,consts:[["http-equiv","Cache-Control","content","no-cache, no-store, must-revalidate"],["http-equiv","Pragma","content","no-cache"],["http-equiv","Expires","content","0"],[1,"contenedor"],[1,"modal_body"],["action","",3,"formGroup"],[1,"input-group","mb-3","inp"],["id","basic-addon1",1,"input-group-text",2,"border","1px solid black"],["formControlName","url_img","placeholder","URL IMG","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",2,"border","1px solid black"],[1,"btn",2,"border","1px solid black","margin-left","2em",3,"click"],["formControlName","descripcion","placeholder","Descripcion","aria-label","Username","aria-describedby","basic-addon1",1,"form-control",2,"border","1px solid black"],[1,"input-group","mb-3","inp_btn"],[1,"btn2",2,"border","1px solid black","margin-left","2em",3,"click"]],template:function(t,r){1&t&&(d._UZ(0,"meta",0)(1,"meta",1)(2,"meta",2),d.TgZ(3,"div",3)(4,"div",4)(5,"form",5)(6,"div",6)(7,"span",7),d._uU(8,"URL IMG"),d.qZA(),d._UZ(9,"input",8),d.TgZ(10,"button",9),d.NdJ("click",function(){return r.closeModal()}),d._uU(11,"X"),d.qZA()(),d.TgZ(12,"div",6)(13,"span",7),d._uU(14,"Descripcion"),d.qZA(),d._UZ(15,"input",10),d.qZA(),d.TgZ(16,"div",11)(17,"div")(18,"button",12),d.NdJ("click",function(){return r.onShare()}),d._uU(19,"Publicar"),d.qZA()()()()()()),2&t&&(d.xp6(5),d.Q6J("formGroup",r.form))},directives:[Da,hi,Mu,Xi,Bo,$l],styles:[".contenedor[_ngcontent-%COMP%]{position:fixed;margin-left:30%;z-index:10;margin-top:15%;background:linear-gradient(to right,#bd68f5,#f06e6e,#f1c07a);padding:3em;border-radius:10px}.inp[_ngcontent-%COMP%]{width:40em}.btn[_ngcontent-%COMP%]{background-color:#fff}.btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:red}.inp_btn[_ngcontent-%COMP%]{display:flex;justify-content:center;justify-items:center}.btn2[_ngcontent-%COMP%]:hover{background-color:#34f865}.btn2[_ngcontent-%COMP%]{height:2.5em;width:10em;border-radius:10px}"]}),n})();function eP(n,e){1&n&&(d.TgZ(0,"div"),d._UZ(1,"app-nueva-publicacion"),d.qZA())}let FM=(()=>{class n{constructor(t,r,o){this.service=t,this.modal_service=r,this.router=o,this.form=new yo({buscado:new $o}),this.modalSwitch=!1}ngOnInit(){this.modal_service.$modal.subscribe(t=>{this.modalSwitch=t})}logout(){this.service.logout()}onSubmit(){const{buscado:t}=this.form.value;this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate([`home/user/${t}`])})}openModal(){this.modalSwitch=!0}perfil(){this.service.getUser().subscribe(t=>{this.router.navigateByUrl(`home/user/${null==t?void 0:t.uid}`)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Lc),d.Y36(KT),d.Y36(br))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-menuprincipal"]],decls:26,vars:2,consts:[["http-equiv","Cache-Control","content","no-cache, no-store, must-revalidate"],["http-equiv","Pragma","content","no-cache"],["http-equiv","Expires","content","0"],["id","init",1,"nlinks","d-flex","align-items-center","mt-3","mt-md-0","nav"],[1,"menuprincipal"],["routerLink","/home"],["routerLink","",1,"nav-link",3,"click"],["href","#","routerLink","/home",1,"nav-link"],["href","#","routerLink","/",1,"nav-link",3,"click"],[1,"input-group","mb-3","form"],["id","basic-addon1",1,"input-group-text"],["action","",3,"formGroup","ngSubmit"],["formControlName","buscado","type","text","placeholder","Username","aria-label","Username","aria-describedby","basic-addon1",1,"form-control"],[3,"click"],["type","submit"],[4,"ngIf"]],template:function(t,r){1&t&&(d._UZ(0,"meta",0)(1,"meta",1)(2,"meta",2),d.TgZ(3,"ul",3)(4,"li",4)(5,"a",5),d._uU(6,"PUCELANT"),d.qZA()(),d.TgZ(7,"li",4)(8,"a",6),d.NdJ("click",function(){return r.perfil()}),d._uU(9,"PERFIL"),d.qZA()(),d.TgZ(10,"li",4)(11,"a",7),d._uU(12,"INICIO"),d.qZA()(),d.TgZ(13,"li",4)(14,"a",8),d.NdJ("click",function(){return r.logout()}),d._uU(15,"CERRAR SESION"),d.qZA()(),d.TgZ(16,"li")(17,"div",9)(18,"span",10),d._uU(19,"\u{1f50d}\ufe0e"),d.qZA(),d.TgZ(20,"form",11),d.NdJ("ngSubmit",function(){return r.onSubmit()}),d._UZ(21,"input",12),d.qZA(),d.TgZ(22,"div",13),d.NdJ("click",function(){return r.openModal()}),d.TgZ(23,"button",14),d._uU(24,"Nueva Publicacion"),d.qZA()()()()(),d.YNc(25,eP,2,0,"div",15)),2&t&&(d.xp6(20),d.Q6J("formGroup",r.form),d.xp6(5),d.Q6J("ngIf",1==r.modalSwitch))},directives:[Gs,Da,hi,Mu,Xi,Bo,$l,Mr,XO],styles:[".menuprincipal[_ngcontent-%COMP%]{list-style:none}.nav[_ngcontent-%COMP%]{margin-left:2em;position:fixed;z-index:10}.form[_ngcontent-%COMP%]{margin-top:1em;margin-left:45em}input[_ngcontent-%COMP%]{width:10em}button[_ngcontent-%COMP%]{margin-left:2em;border-radius:10px}button[_ngcontent-%COMP%]:hover{color:#fff;background-color:red;cursor:pointer}@media (min-width: 900px){.form[_ngcontent-%COMP%]{margin-left:30em}}"]}),n})();function tP(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"li",32)(1,"button",33),d.NdJ("click",function(){return d.CHM(t),d.oxw().newFriend()}),d._uU(2,"Add Friend"),d.qZA()()}}function nP(n,e){1&n&&(d.TgZ(0,"li",32),d.O4$(),d.TgZ(1,"svg",34),d._UZ(2,"path",35)(3,"circle",36)(4,"path",37)(5,"path",38),d.qZA(),d.kcU(),d.TgZ(6,"p",39),d._uU(7,"Friends "),d.TgZ(8,"span",40),d._uU(9,"3"),d.qZA()()())}function rP(n,e){if(1&n&&(d.TgZ(0,"div",4)(1,"div",41)(2,"div",17)(3,"div",42)(4,"div",43)(5,"div",44),d._UZ(6,"img",45),d.TgZ(7,"div",46)(8,"p"),d._uU(9),d.qZA(),d.TgZ(10,"p",47),d._uU(11),d.ALo(12,"date"),d.qZA()()(),d._UZ(13,"div",21),d.qZA(),d.TgZ(14,"div",18)(15,"p",48),d._uU(16),d.qZA(),d._UZ(17,"img",49),d.qZA(),d.TgZ(18,"div",50)(19,"div",51)(20,"a",52),d.O4$(),d.TgZ(21,"svg",53),d._UZ(22,"path",54),d.qZA(),d.kcU(),d.TgZ(23,"p",55),d._uU(24,"Like"),d.qZA()(),d.TgZ(25,"a",52),d.O4$(),d.TgZ(26,"svg",56),d._UZ(27,"path",57),d.qZA(),d.kcU(),d.TgZ(28,"p",55),d._uU(29,"Comment"),d.qZA()(),d.TgZ(30,"a",58),d.O4$(),d.TgZ(31,"svg",59),d._UZ(32,"path",60)(33,"polyline",61)(34,"line",62),d.qZA(),d.kcU(),d.TgZ(35,"p",55),d._uU(36,"Share"),d.qZA()()()()()()()()),2&n){const t=e.$implicit;d.xp6(6),d.s9C("src",t.img_user,d.LSH),d.xp6(3),d.Oqu(t.nombre_user),d.xp6(2),d.Oqu(d.lcZ(12,5,t.fecha_publicacion.toDate())),d.xp6(5),d.Oqu(t.texto),d.xp6(1),d.s9C("src",t.img,d.LSH)}}const iP=[{path:"auth",component:JO},{path:"home",component:WT},{path:"home/chat/:id",component:RM},{path:"chat",component:RM},{path:"home/user/:id",component:(()=>{class n{constructor(t,r,o,u,f,m){this.buscarUsuario_service=t,this.publicaciones_service=r,this.router=o,this.login_service=u,this.newFriend_service=f,this.chat_service=m,this.publicaciones=[],this.User1_amigos=[],this.User2_amigos=[],this.cont=0,this.cont2=0,this.notme=!1,this.url=this.router.url.split("/"),this.buscarUsuario_service.buscarUsuario(this.url[3]).subscribe(E=>{this.user=E.map(D=>D),this.user_name=this.user[0].nombre,this.user_img=this.user[0].img,this.uid=this.user[0].id}),this.publicaciones_service.enviarPublicacionesByID(this.url[3]).subscribe(E=>{this.publicaciones=E})}ngOnInit(){this.login_service.getUser().subscribe(t=>{this.notme=(null==t?void 0:t.uid)!=this.url[3],this.me=null==t?void 0:t.uid,this.me_img=null==t?void 0:t.photoURL,this.me_nombre=null==t?void 0:t.displayName})}borrarBtn(){console.log("JOLI"),this.notme=!1}newFriend(){let t={id_ami:this.uid,id_chat:this.me+this.uid,img_ami:this.user_img,nombre_ami:this.user_name},r={id_ami:this.me,id_chat:this.me+this.uid,img_ami:this.me_img,nombre_ami:this.me_nombre};this.chat_service.buscarAmigos(this.me).subscribe(u=>{this.User1_amigos=u[0].amigos,this.User1_amigos.push(t),console.log(this.User1_amigos),0==this.cont&&(this.newFriend_service.newFriend(this.me,this.User1_amigos),console.log("BUSCADOME A MI -> "+this.me),this.cont+=1),this.chat_service.buscarAmigos(this.url[3]).subscribe(m=>{this.User2_amigos=m[0].amigos,this.User2_amigos.push(r),console.log(this.User2_amigos),0==this.cont2&&(this.newFriend_service.newFriend(this.url[3],this.User2_amigos),console.log("NUEVO AMIGO --\x3e "+this.url[3]),this.cont2+=1)})});let o={emisor:"Creacion Chat",fecha:(new Date).getTime(),id:this.me+this.uid,texto:""};this.chat_service.agregarMensaje(o)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(NM),d.Y36(ZT),d.Y36(br),d.Y36(Lc),d.Y36(kM),d.Y36(f0))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-inicio"]],decls:57,vars:5,consts:[["id","snippetContent"],["rel","stylesheet","href","https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css"],[1,"container"],[1,"profile-page","tx-13"],[1,"row"],[1,"col-12","grid-margin"],[1,"profile-header"],[1,"cover"],[1,"gray-shade"],["src","https://bootdey.com/img/Content/bg1.jpg","alt","profile cover",1,"img-fluid"],[1,"cover-body","d-flex","justify-content-between","align-items-center"],["alt","profile",1,"profile-pic",3,"src"],[1,"profile-name"],[1,"links","d-flex","align-items-center","mt-1","mt-md-0"],["class","header-link-item ml-3 pl-3 border-left d-flex align-items-center",4,"ngIf"],[1,"row","profile-body"],[1,"d-none","d-md-block","col-md-4","col-xl-3","left-wrapper"],[1,"card","rounded"],[1,"card-body"],[1,"d-flex","align-items-center","justify-content-between","mb-2"],[1,"card-title","mb-0"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","p-0",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-more-horizontal","icon-lg","text-muted","pb-3px"],["cx","12","cy","12","r","1"],["cx","19","cy","12","r","1"],["cx","5","cy","12","r","1"],[1,"mt-3"],[1,"tx-11","font-weight-bold","mb-0","text-uppercase"],[1,"text-muted"],[1,"col-md-8","col-xl-6","middle-wrapper"],["class","row",4,"ngFor","ngForOf"],[1,"header-link-item","ml-3","pl-3","border-left","d-flex","align-items-center"],[1,"add",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-users","mr-1","icon-md"],["d","M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"],["cx","9","cy","7","r","4"],["d","M23 21v-2a4 4 0 0 0-3-3.87"],["d","M16 3.13a4 4 0 0 1 0 7.75"],[1,"pt-1px","d-none","d-md-block",2,"margin-top","1em"],[1,"text-muted","tx-12",2,"margin-top","1em"],[1,"col-md-12","grid-margin","publicaciones"],[1,"card-header"],[1,"d-flex","align-items-center","justify-content-between"],[1,"d-flex","align-items-center"],["alt","",1,"img-xs","rounded-circle",3,"src"],[1,"ml-2"],[1,"tx-11","text-muted"],[1,"mb-3","tx-14"],["alt","",1,"img-fluid","img_p",3,"src"],[1,"card-footer"],[1,"d-flex","post-actions"],["href","javascript:;",1,"d-flex","align-items-center","text-muted","mr-4"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-heart","icon-md"],["d","M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"],[1,"d-none","d-md-block","ml-2"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-message-square","icon-md"],["d","M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"],["href","javascript:;",1,"d-flex","align-items-center","text-muted"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round",1,"feather","feather-share","icon-md"],["d","M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"],["points","16 6 12 2 8 6"],["x1","12","y1","2","x2","12","y2","15"]],template:function(t,r){1&t&&(d._UZ(0,"app-menuprincipal"),d.TgZ(1,"div",0),d._UZ(2,"link",1),d.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7),d._UZ(9,"div",8),d.TgZ(10,"figure"),d._UZ(11,"img",9),d.qZA(),d.TgZ(12,"div",10)(13,"div"),d._UZ(14,"img",11),d.TgZ(15,"span",12),d._uU(16),d.qZA()(),d.TgZ(17,"ul",13),d.YNc(18,tP,3,0,"li",14),d.YNc(19,nP,10,0,"li",14),d.qZA()()()()()(),d.TgZ(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18)(24,"div",19)(25,"h6",20),d._uU(26,"ACERCA DE:"),d.qZA(),d.TgZ(27,"div",21)(28,"button",22),d.NdJ("click",function(){return r.borrarBtn()}),d.O4$(),d.TgZ(29,"svg",23),d._UZ(30,"circle",24)(31,"circle",25)(32,"circle",26),d.qZA()()()(),d.kcU(),d.TgZ(33,"p"),d._uU(34,"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Consectetur exercitationem fugiat perspiciatis deserunt doloribus voluptatum dignissimos quo excepturi iure, consequuntur animi eos ullam magnam quisquam commodi consequatur eaque in ipsa?."),d.qZA(),d.TgZ(35,"div",27)(36,"label",28),d._uU(37,"Joined:"),d.qZA(),d.TgZ(38,"p",29),d._uU(39,"November 15, 2015"),d.qZA()(),d.TgZ(40,"div",27)(41,"label",28),d._uU(42,"Lives:"),d.qZA(),d.TgZ(43,"p",29),d._uU(44,"New York, USA"),d.qZA()(),d.TgZ(45,"div",27)(46,"label",28),d._uU(47,"Email:"),d.qZA(),d.TgZ(48,"p",29),d._uU(49,"me@nobleui.com"),d.qZA()(),d.TgZ(50,"div",27)(51,"label",28),d._uU(52,"Website:"),d.qZA(),d.TgZ(53,"p",29),d._uU(54,"www.nobleui.com"),d.qZA()()()()(),d.TgZ(55,"div",30),d.YNc(56,rP,37,7,"div",31),d.qZA()()()()()),2&t&&(d.xp6(14),d.s9C("src",r.user_img,d.LSH),d.xp6(2),d.hij("",r.user_name," "),d.xp6(2),d.Q6J("ngIf",1==r.notme),d.xp6(1),d.Q6J("ngIf",0==r.notme),d.xp6(37),d.Q6J("ngForOf",r.publicaciones))},directives:[FM,Mr,Nn],pipes:[Hc],styles:["body[_ngcontent-%COMP%]{background-color:#f9fafb}#snippetContent[_ngcontent-%COMP%]{padding-top:4em;background:linear-gradient(to right,#96fce9,#a1c5fa,#e6bcfa)}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{box-shadow:0 0 10px #b7c0ce33;border:1px solid #f2f4f9}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{position:relative;border-radius:.25rem .25rem 0 0}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{margin-bottom:0}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:110px;overflow:hidden}}@media (min-width: 2400px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{height:280px;overflow:hidden}}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.25rem .25rem 0 0;width:100%}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(2);margin-top:15px}}@media (min-width: 2400px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:-55px}}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .gray-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background:linear-gradient(rgba(255,255,255,.1),#fff 99%)}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]{position:absolute;bottom:-20px;left:0;z-index:2;width:100%;padding:0 20px}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{border-radius:50%;width:100px}@media (max-width: 767px){.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-pic[_ngcontent-%COMP%]{width:70px}}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{font-size:20px;font-weight:600;margin-left:17px}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]{padding:15px;display:flex;justify-content:center;background:#fff;border-radius:0 0 .25rem .25rem}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;transition:all .2s ease}.profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .header-links[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#727cf5}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .left-wrapper[_ngcontent-%COMP%]   .social-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:30px;height:30px}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding-left:3px;padding-right:3px}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]{transition:all .3s ease-in-out;margin-bottom:6px}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]:hover{transform:scale(1.06)}.profile-page[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .right-wrapper[_ngcontent-%COMP%]   .latest-photos[_ngcontent-%COMP%] > .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   figure[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.25rem}.rtl[_ngcontent-%COMP%]   .profile-page[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]   .cover-body[_ngcontent-%COMP%]   .profile-name[_ngcontent-%COMP%]{margin-left:0;margin-right:17px}.img-xs[_ngcontent-%COMP%]{width:37px;height:37px}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.img_p[_ngcontent-%COMP%]{vertical-align:middle;border-style:none;width:50em;height:25em}.card-header[_ngcontent-%COMP%]:first-child{border-radius:0}.card-header[_ngcontent-%COMP%]{padding:.875rem 1.5rem;margin-bottom:0;background-color:#0000;border-bottom:1px solid #f2f4f9}.card-footer[_ngcontent-%COMP%]:last-child{border-radius:0}.card-footer[_ngcontent-%COMP%]{padding:.875rem 1.5rem;background-color:#0000;border-top:1px solid #f2f4f9}.grid-margin[_ngcontent-%COMP%]{margin-bottom:1rem}.card[_ngcontent-%COMP%]{box-shadow:0 0 10px #b7c0ce33;-webkit-box-shadow:0 0 10px 0 rgba(183,192,206,.2);-moz-box-shadow:0 0 10px 0 rgba(183,192,206,.2);-ms-box-shadow:0 0 10px 0 rgba(183,192,206,.2)}.rounded[_ngcontent-%COMP%]{border-radius:.25rem!important}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-clip:border-box;border:1px solid #f2f4f9;border-radius:.25rem}.publicaciones[_ngcontent-%COMP%]{margin-left:5em}.add[_ngcontent-%COMP%]{border-radius:10px}.add[_ngcontent-%COMP%]:hover{color:#fff;background-color:#6200ff}"]}),n})()},{path:"**",redirectTo:"auth"}];let sP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[dw.forRoot(iP)],dw]}),n})(),oP=(()=>{class n{constructor(){this.title="pucelant"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},directives:[yf],styles:[""]}),n})();const LM_firebase={projectId:"pucelant",appId:"1:619266595534:web:64b1218210e58a195f4e9f",databaseURL:"https://pucelant-default-rtdb.firebaseio.com",storageBucket:"pucelant.appspot.com",locationId:"us-central",apiKey:"AIzaSyC4Ajx_F7DPo03U2HpDEMnVpY8EVqhZupM",authDomain:"pucelant.firebaseapp.com",messagingSenderId:"619266595534",measurementId:"G-KPQ1Z6V7YF"};function aP(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"li",7),d.NdJ("click",function(){const u=d.CHM(t).index;return d.oxw(2).mensajes(u)}),d.TgZ(1,"a"),d._uU(2),d.qZA(),d._UZ(3,"img",8),d.qZA()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.nombre_ami),d.xp6(1),d.s9C("src",t.img_ami,d.LSH)}}function uP(n,e){if(1&n&&(d.TgZ(0,"ul"),d.YNc(1,aP,4,2,"li",6),d.qZA()),2&n){const t=e.index,r=d.oxw();d.xp6(1),d.Q6J("ngForOf",r.Amigos[t].amigos)}}let lP=(()=>{class n{constructor(t,r,o){this.service_chat=t,this.service_login=r,this.router=o,this.service_login.getUser().subscribe(u=>{this.user=null==u?void 0:u.uid,this.buscarAmigos()}),this.receptor=""}ngOnInit(){}buscarAmigos(){this.service_chat.buscarAmigos(this.user).subscribe(t=>{this.Amigos=t})}mensajes(t){this.receptor=this.Amigos[0].amigos[t].id_ami,this.router.navigateByUrl("/DummyComponent",{skipLocationChange:!0}).then(()=>this.router.navigate([`/home/chat/${this.Amigos[0].amigos[t].id_chat}`]))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(f0),d.Y36(Lc),d.Y36(br))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-amigos"]],decls:8,vars:1,consts:[["http-equiv","Cache-Control","content","no-cache, no-store, must-revalidate"],["http-equiv","Pragma","content","no-cache"],["http-equiv","Expires","content","0"],[1,"contenedor"],[1,"amigos"],[4,"ngFor","ngForOf"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["alt","friend",1,"img-xs","rounded-circle",3,"src"]],template:function(t,r){1&t&&(d._UZ(0,"meta",0)(1,"meta",1)(2,"meta",2),d.TgZ(3,"div",3)(4,"h3"),d._uU(5,"FRIENDS"),d.qZA(),d.TgZ(6,"div",4),d.YNc(7,uP,2,1,"ul",5),d.qZA()()),2&t&&(d.xp6(7),d.Q6J("ngForOf",r.Amigos))},directives:[Nn],styles:[".contenedor[_ngcontent-%COMP%]{border:1px solid #d7d7d7;background-color:#fff;float:right;margin-top:1em;margin-left:3em;border-radius:10px;position:fixed}h3[_ngcontent-%COMP%]{border:1px solid #d7d7d7;background-color:#fff;color:#000;padding:4px 2em;border-radius:10px}.amigos[_ngcontent-%COMP%]{display:flex;border-radius:10px}.img-xs[_ngcontent-%COMP%]{width:50px;height:50px;margin-left:1em;margin-bottom:1em}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}a[_ngcontent-%COMP%]{padding-right:5em}li[_ngcontent-%COMP%]{cursor:pointer;list-style:none}li[_ngcontent-%COMP%]:hover{background-color:#e6ded4}"]}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[oP]}),n.\u0275inj=d.cJS({providers:[Lc,f0,ZT,KT,NM,kM],imports:[[ga,sP,C0,Xa.hO.initializeApp(LM_firebase),ZO,UO,b0]]}),n})();d.B6R(WT,[FM,lP,Nn,yf],[Hc]),(0,d.G48)(),yl().bootstrapModule(cP).catch(n=>console.error(n))},5867:(nt,De,k)=>{k.d(De,{Mq:()=>d.getApp,C6:()=>d.getApps});var d=k(9681);(0,d.registerVersion)("firebase","9.6.10","app")},127:(nt,De,k)=>{k.d(De,{Z:()=>d.Z});var d=k(3942);d.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(nt,De,k)=>{k.r(De);var d=k(5861),K=k(3942),R=k(2090),oe=k(9681),J=k(655),pe=k(1877),ie=k(4859);const xe=function $e(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ne=function Ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},de=new R.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),We=new pe.Yd("@firebase/auth");function Ge(y,...h){We.logLevel<=pe.in.ERROR&&We.error(`Auth (${oe.SDK_VERSION}): ${y}`,...h)}function Ce(y,...h){throw Ue(y,...h)}function _e(y,...h){return Ue(y,...h)}function ve(y,h,p){const v=Object.assign(Object.assign({},Ne()),{[h]:p});return new R.LL("auth","Firebase",v).create(h,{appName:y.name})}function je(y,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Ce(y,"argument-error"),ve(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(y,...h){if("string"!=typeof y){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(p,...v)}return de.create(y,...h)}function ee(y,h,...p){if(!y)throw Ue(h,...p)}function q(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Ge(h),new Error(h)}function te(y,h){y||q(h)}const ge=new Map;function ne(y){te(y instanceof Function,"Expected a class definition");let h=ge.get(y);return h?(te(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,ge.set(y,h),h)}function wt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Zt(){return"http:"===Sn()||"https:"===Sn()}function Sn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class on{constructor(h,p){this.shortDelay=h,this.longDelay=p,te(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,R.uI)()||(0,R.b$)()}get(){return function rt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Zt()||(0,R.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function an(y,h){te(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class wi{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ji=new on(3e4,6e4);function Wt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function Vt(y,h,p,v){return tr.apply(this,arguments)}function tr(){return(tr=(0,d.Z)(function*(y,h,p,v,T={}){return ri(y,T,(0,d.Z)(function*(){let O={},G={};v&&("GET"===h?G=v:O={body:JSON.stringify(v)});const re=(0,R.xO)(Object.assign({key:y.config.apiKey},G)).slice(1),Le=yield y._getAdditionalHeaders();return Le["Content-Type"]="application/json",y.languageCode&&(Le["X-Firebase-Locale"]=y.languageCode),wi.fetch()(Sr(y,y.config.apiHost,p,re),Object.assign({method:h,headers:Le,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function ri(y,h,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,d.Z)(function*(y,h,p){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},Xt),h);try{const T=new $i(y),O=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const G=yield O.json();if("needConfirmation"in G)throw Hi(y,"account-exists-with-different-credential",G);if(O.ok&&!("errorMessage"in G))return G;{const re=O.ok?G.errorMessage:G.error.message,[Le,Ke]=re.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Hi(y,"credential-already-in-use",G);if("EMAIL_EXISTS"===Le)throw Hi(y,"email-already-in-use",G);const ft=v[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ke)throw ve(y,ft,Ke);Ce(y,ft)}}catch(T){if(T instanceof R.ZR)throw T;Ce(y,"network-request-failed")}})).apply(this,arguments)}function Ar(y,h,p,v){return xi.apply(this,arguments)}function xi(){return(xi=(0,d.Z)(function*(y,h,p,v,T={}){const O=yield Vt(y,h,p,v,T);return"mfaPendingCredential"in O&&Ce(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Sr(y,h,p,v){const T=`${h}${p}?${v}`;return y.config.emulator?an(y.config,T):`${y.config.apiScheme}://${T}`}class $i{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(_e(this.auth,"network-request-failed")),ji.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hi(y,h,p){const v={appName:y.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const T=_e(y,h,v);return T.customData._tokenResponse=p,T}function Lr(){return(Lr=(0,d.Z)(function*(y,h){return Vt(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function zn(y,h){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,d.Z)(function*(y,h){return Vt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ii(y,h){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,d.Z)(function*(y,h){return Vt(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function pn(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function oa(){return(oa=(0,d.Z)(function*(y,h=!1){const p=(0,R.m9)(y),v=yield p.getIdToken(h),T=et(v);ee(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,G=null==O?void 0:O.sign_in_provider;return{claims:T,token:v,authTime:pn(Ut(T.auth_time)),issuedAtTime:pn(Ut(T.iat)),expirationTime:pn(Ut(T.exp)),signInProvider:G||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Ut(y){return 1e3*Number(y)}function et(y){const[h,p,v]=y.split(".");if(void 0===h||void 0===p||void 0===v)return Ge("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,R.tV)(p);return T?JSON.parse(T):(Ge("Failed to decode base64 JWT payload"),null)}catch(T){return Ge("Caught error parsing JWT payload as JSON",T),null}}function nr(y,h){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,d.Z)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof R.ZR&&Ft(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function Ft({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Ks{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class dr{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=pn(this.lastLoginAt),this.creationTime=pn(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rr(y){return ot.apply(this,arguments)}function ot(){return(ot=(0,d.Z)(function*(y){var h;const p=y.auth,v=yield y.getIdToken(),T=yield nr(y,ii(p,{idToken:v}));ee(null==T?void 0:T.users.length,p,"internal-error");const O=T.users[0];y._notifyReloadListener(O);const G=(null===(h=O.providerUserInfo)||void 0===h?void 0:h.length)?Ie(O.providerUserInfo):[],re=ze(y.providerData,G),ft=!!y.isAnonymous&&!(y.email&&O.passwordHash||(null==re?void 0:re.length)),it={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:re,metadata:new dr(O.createdAt,O.lastLoginAt),isAnonymous:ft};Object.assign(y,it)})).apply(this,arguments)}function Pt(){return(Pt=(0,d.Z)(function*(y){const h=(0,R.m9)(y);yield rr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ze(y,h){return[...y.filter(v=>!h.some(T=>T.providerId===v.providerId)),...h]}function Ie(y){return y.map(h=>{var{providerId:p}=h,v=(0,J._T)(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function at(){return(at=(0,d.Z)(function*(y,h){const p=yield ri(y,{},(0,d.Z)(function*(){const v=(0,R.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:O}=y.config,G=Sr(y,T,"/v1/token",`key=${O}`),re=yield y._getAdditionalHeaders();return re["Content-Type"]="application/x-www-form-urlencoded",wi.fetch()(G,{method:"POST",headers:re,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Nt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ee(h.idToken,"internal-error"),ee(void 0!==h.idToken,"internal-error"),ee(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function mt(y){const h=et(y);return ee(h,"internal-error"),ee(void 0!==h.exp,"internal-error"),ee(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var v=this;return(0,d.Z)(function*(){return ee(!v.accessToken||v.refreshToken,h,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,d.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:G}=yield function Ze(y,h){return at.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(T,O,Number(G))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:T,expirationTime:O}=p,G=new Nt;return v&&(ee("string"==typeof v,"internal-error",{appName:h}),G.refreshToken=v),T&&(ee("string"==typeof T,"internal-error",{appName:h}),G.accessToken=T),O&&(ee("number"==typeof O,"internal-error",{appName:h}),G.expirationTime=O),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Nt,this.toJSON())}_performRefresh(){return q("not implemented")}}function Mt(y,h){ee("string"==typeof y||void 0===y,"internal-error",{appName:h})}class U{constructor(h){var{uid:p,auth:v,stsTokenManager:T}=h,O=(0,J._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ks(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new dr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,d.Z)(function*(){const v=yield nr(p,p.stsTokenManager.getToken(p.auth,h));return ee(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function vs(y){return oa.apply(this,arguments)}(this,h)}reload(){return function hr(y){return Pt.apply(this,arguments)}(this)}_assign(h){this!==h&&(ee(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new U(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var v=this;return(0,d.Z)(function*(){let T=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),T=!0),p&&(yield rr(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,d.Z)(function*(){const p=yield h.getIdToken();return yield nr(h,function st(y,h){return Lr.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,T,O,G,re,Le,Ke,ft;const it=null!==(v=p.displayName)&&void 0!==v?v:void 0,Tn=null!==(T=p.email)&&void 0!==T?T:void 0,Li=null!==(O=p.phoneNumber)&&void 0!==O?O:void 0,Ru=null!==(G=p.photoURL)&&void 0!==G?G:void 0,Wl=null!==(re=p.tenantId)&&void 0!==re?re:void 0,Kl=null!==(Le=p._redirectEventId)&&void 0!==Le?Le:void 0,cf=null!==(Ke=p.createdAt)&&void 0!==Ke?Ke:void 0,Ny=null!==(ft=p.lastLoginAt)&&void 0!==ft?ft:void 0,{uid:Go,emailVerified:Yl,isAnonymous:Ot,providerData:df,stsTokenManager:Eo}=p;ee(Go&&Eo,h,"internal-error");const Xp=Nt.fromJSON(this.name,Eo);ee("string"==typeof Go,h,"internal-error"),Mt(it,h.name),Mt(Tn,h.name),ee("boolean"==typeof Yl,h,"internal-error"),ee("boolean"==typeof Ot,h,"internal-error"),Mt(Li,h.name),Mt(Ru,h.name),Mt(Wl,h.name),Mt(Kl,h.name),Mt(cf,h.name),Mt(Ny,h.name);const Ql=new U({uid:Go,auth:h,email:Tn,emailVerified:Yl,displayName:it,isAnonymous:Ot,photoURL:Ru,phoneNumber:Li,tenantId:Wl,stsTokenManager:Xp,createdAt:cf,lastLoginAt:Ny});return df&&Array.isArray(df)&&(Ql.providerData=df.map(ky=>Object.assign({},ky))),Kl&&(Ql._redirectEventId=Kl),Ql}static _fromIdTokenResponse(h,p,v=!1){return(0,d.Z)(function*(){const T=new Nt;T.updateFromServerResponse(p);const O=new U({uid:p.localId,auth:h,stsTokenManager:T,isAnonymous:v});return yield rr(O),O})()}}const $=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(p,v){var T=this;return(0,d.Z)(function*(){T.storage[p]=v})()}_get(p){var v=this;return(0,d.Z)(function*(){const T=v.storage[p];return void 0===T?null:T})()}_remove(p){var v=this;return(0,d.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return y.type="NONE",y})();function le(y,h,p){return`firebase:${y}:${h}:${p}`}class Y{constructor(h,p,v){this.persistence=h,this.auth=p,this.userKey=v;const{config:T,name:O}=this.auth;this.fullUserKey=le(this.userKey,T.apiKey,O),this.fullPersistenceKey=le("persistence",T.apiKey,O),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?U._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,d.Z)(function*(){if(p.persistence===h)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,v="authUser"){return(0,d.Z)(function*(){if(!p.length)return new Y(ne($),h,v);const T=(yield Promise.all(p.map(function(){var Ke=(0,d.Z)(function*(ft){if(yield ft._isAvailable())return ft});return function(ft){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let O=T[0]||ne($);const G=le(v,h.config.apiKey,h.name);let re=null;for(const Ke of p)try{const ft=yield Ke._get(G);if(ft){const it=U._fromJSON(h,ft);Ke!==O&&(re=it),O=Ke;break}}catch(ft){}const Le=T.filter(Ke=>Ke._shouldAllowMigration);return O._shouldAllowMigration&&Le.length?(O=Le[0],re&&(yield O._set(G,re.toJSON())),yield Promise.all(p.map(function(){var Ke=(0,d.Z)(function*(ft){if(ft!==O)try{yield ft._remove(G)}catch(it){}});return function(ft){return Ke.apply(this,arguments)}}())),new Y(O,h,v)):new Y(O,h,v)})()}}function Fe(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Bt(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(ht(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Dt(h))return"Blackberry";if(un(h))return"Webos";if(qt(h))return"Safari";if((h.includes("chrome/")||fr(h))&&!h.includes("edge/"))return"Chrome";if(Cn(h))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function ht(y=(0,R.z$)()){return/firefox\//i.test(y)}function qt(y=(0,R.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function fr(y=(0,R.z$)()){return/crios\//i.test(y)}function Bt(y=(0,R.z$)()){return/iemobile/i.test(y)}function Cn(y=(0,R.z$)()){return/android/i.test(y)}function Dt(y=(0,R.z$)()){return/blackberry/i.test(y)}function un(y=(0,R.z$)()){return/webos/i.test(y)}function Wn(y=(0,R.z$)()){return/iphone|ipad|ipod/i.test(y)}function Gi(y=(0,R.z$)()){return Wn(y)||Cn(y)||un(y)||Dt(y)||/windows phone/i.test(y)||Bt(y)}function ua(y,h=[]){let p;switch(y){case"Browser":p=Fe((0,R.z$)());break;case"Worker":p=`${Fe((0,R.z$)())}-${y}`;break;default:p=y}const v=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${oe.SDK_VERSION}/${v}`}class si{constructor(h,p,v){this.app=h,this.heartbeatServiceProvider=p,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new St(this),this.idTokenSubscription=new St(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=de,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(h,p){var v=this;return p&&(this._popupRedirectResolver=ne(p)),this._initializationPromise=this.queue((0,d.Z)(function*(){var T,O;if(!v._deleted&&(v.persistenceManager=yield Y.create(v,h),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(G){}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(O=v.currentUser)||void 0===O?void 0:O.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,d.Z)(function*(){var v;let T=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const O=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,G=null==T?void 0:T._redirectEventId,re=yield p.tryRedirectSignIn(h);(!O||O===G)&&(null==re?void 0:re.user)&&(T=re.user)}return T?T._redirectEventId?(ee(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===T._redirectEventId?p.directlySetCurrentUser(T):p.reloadAndSetCurrentUserOrClear(T)):p.reloadAndSetCurrentUserOrClear(T):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,d.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(T){yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,d.Z)(function*(){try{yield rr(h)}catch(v){if("auth/network-request-failed"!==v.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function dt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,d.Z)(function*(){const v=h?(0,R.m9)(h):null;return v&&ee(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,d.Z)(function*(){if(!p._deleted)return h&&ee(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,d.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,d.Z)(function*(){yield p.assertedPersistence.setPersistence(ne(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new R.LL("auth","Firebase",h())}onAuthStateChanged(h,p,v){return this.registerStateListener(this.authStateSubscription,h,p,v)}onIdTokenChanged(h,p,v){return this.registerStateListener(this.idTokenSubscription,h,p,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var v=this;return(0,d.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(p);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,d.Z)(function*(){if(!p.redirectPersistenceManager){const v=h&&ne(h)||p._popupRedirectResolver;ee(v,p,"argument-error"),p.redirectPersistenceManager=yield Y.create(p,[ne(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,d.Z)(function*(){var v,T;return p._isInitialized&&(yield p.queue((0,d.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===h?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,d.Z)(function*(){if(h===p.currentUser)return p.queue((0,d.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,v,T){if(this._deleted)return()=>{};const O="function"==typeof p?p:p.next.bind(p),G=this._isInitialized?Promise.resolve():this._initializationPromise;return ee(G,this,"internal-error"),G.then(()=>O(this.currentUser)),"function"==typeof p?h.addObserver(p,v,T):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,d.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=ua(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.Z)(function*(){var p;const v={"X-Client-Version":h.clientVersion};h.app.options.appId&&(v["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return T&&(v["X-Firebase-Client"]=T),v})()}}function Oe(y){return(0,R.m9)(y)}class St{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,R.ne)(p=>this.observer=p)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ir(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Rn(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class en{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return q("not implemented")}_getIdTokenResponse(h){return q("not implemented")}_linkToIdToken(h,p){return q("not implemented")}_getReauthenticationResolver(h){return q("not implemented")}}function Mn(y,h){return Es.apply(this,arguments)}function Es(){return(Es=(0,d.Z)(function*(y,h){return Vt(y,"POST","/v1/accounts:resetPassword",Wt(y,h))})).apply(this,arguments)}function Ct(y,h){return xo.apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(y,h){return Vt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function bs(y,h){return la.apply(this,arguments)}function la(){return(la=(0,d.Z)(function*(y,h){return Vt(y,"POST","/v1/accounts:update",Wt(y,h))})).apply(this,arguments)}function Nn(){return(Nn=(0,d.Z)(function*(y,h){return Ar(y,"POST","/v1/accounts:signInWithPassword",Wt(y,h))})).apply(this,arguments)}function qi(y,h){return zi.apply(this,arguments)}function zi(){return(zi=(0,d.Z)(function*(y,h){return Vt(y,"POST","/v1/accounts:sendOobCode",Wt(y,h))})).apply(this,arguments)}function Mr(y,h){return tn.apply(this,arguments)}function tn(){return(tn=(0,d.Z)(function*(y,h){return qi(y,h)})).apply(this,arguments)}function nu(y,h){return ru.apply(this,arguments)}function ru(){return(ru=(0,d.Z)(function*(y,h){return qi(y,h)})).apply(this,arguments)}function Ei(y,h){return oi.apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(y,h){return qi(y,h)})).apply(this,arguments)}function Vc(y,h){return Is.apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(y,h){return qi(y,h)})).apply(this,arguments)}function Vr(){return(Vr=(0,d.Z)(function*(y,h){return Ar(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,h))})).apply(this,arguments)}function Uc(){return(Uc=(0,d.Z)(function*(y,h){return Ar(y,"POST","/v1/accounts:signInWithEmailLink",Wt(y,h))})).apply(this,arguments)}class su extends en{constructor(h,p,v,T=null){super("password",v),this._email=h,this._password=p,this._tenantId=T}static _fromEmailAndPassword(h,p){return new su(h,p,"password")}static _fromEmailAndCode(h,p,v=null){return new su(h,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,d.Z)(function*(){switch(p.signInMethod){case"password":return function Cs(y,h){return Nn.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function iu(y,h){return Vr.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Ce(h,"internal-error")}})()}_linkToIdToken(h,p){var v=this;return(0,d.Z)(function*(){switch(v.signInMethod){case"password":return Ct(h,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Mh(y,h){return Uc.apply(this,arguments)}(h,{idToken:p,email:v._email,oobCode:v._password});default:Ce(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function kn(y,h){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,d.Z)(function*(y,h){return Ar(y,"POST","/v1/accounts:signInWithIdp",Wt(y,h))})).apply(this,arguments)}class Zi extends en{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Zi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Ce("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T}=p,O=(0,J._T)(p,["providerId","signInMethod"]);if(!v||!T)return null;const G=new Zi(v,T);return G.idToken=O.idToken||void 0,G.accessToken=O.accessToken||void 0,G.secret=O.secret,G.nonce=O.nonce,G.pendingToken=O.pendingToken||null,G}_getIdTokenResponse(h){return kn(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,kn(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,kn(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,R.xO)(p)}return h}}function Tp(y,h){return jc.apply(this,arguments)}function jc(){return(jc=(0,d.Z)(function*(y,h){return Vt(y,"POST","/v1/accounts:sendVerificationCode",Wt(y,h))})).apply(this,arguments)}function Ds(){return(Ds=(0,d.Z)(function*(y,h){return Ar(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,h))})).apply(this,arguments)}function $c(){return($c=(0,d.Z)(function*(y,h){const p=yield Ar(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,h));if(p.temporaryProof)throw Hi(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Sp={USER_NOT_FOUND:"user-not-found"};function Gc(){return(Gc=(0,d.Z)(function*(y,h){return Ar(y,"POST","/v1/accounts:signInWithPhoneNumber",Wt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Sp)})).apply(this,arguments)}class Oo extends en{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Oo({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Oo({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function al(y,h){return Ds.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function Ap(y,h){return $c.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Hc(y,h){return Gc.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:T}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:O}=h;return v||p||T||O?new Oo({verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:O}):null}}class Qs{constructor(h){var p,v,T,O,G,re;const Le=(0,R.zd)((0,R.pd)(h)),Ke=null!==(p=Le.apiKey)&&void 0!==p?p:null,ft=null!==(v=Le.oobCode)&&void 0!==v?v:null,it=function yy(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Le.mode)&&void 0!==T?T:null);ee(Ke&&ft&&it,"argument-error"),this.apiKey=Ke,this.operation=it,this.code=ft,this.continueUrl=null!==(O=Le.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(G=Le.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(re=Le.tenantId)&&void 0!==re?re:null}static parseLink(h){const p=function ou(y){const h=(0,R.zd)((0,R.pd)(y)).link,p=h?(0,R.zd)((0,R.pd)(h)).deep_link_id:null,v=(0,R.zd)((0,R.pd)(y)).deep_link_id;return(v?(0,R.zd)((0,R.pd)(v)).link:null)||v||p||h||y}(h);try{return new Qs(p)}catch(v){return null}}}let ul=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,v){return su._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const T=Qs.parseLink(v);return ee(T,"argument-error"),su._fromEmailAndCode(p,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ts{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ur extends Ts{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Po extends Ur{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return ee("providerId"in p&&"signInMethod"in p,"argument-error"),Zi._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ee(h.idToken||h.accessToken,"argument-error"),Zi._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Po.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Po.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:O,nonce:G,providerId:re}=h;if(!v&&!T&&!p&&!O||!re)return null;try{return new Po(re)._credential({idToken:p,accessToken:v,nonce:G,pendingToken:O})}catch(Le){return null}}}let Js=(()=>{class y extends Ur{constructor(){super("facebook.com")}static credential(p){return Zi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(v){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ca=(()=>{class y extends Ur{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return Zi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:T}=p;if(!v&&!T)return null;try{return y.credential(v,T)}catch(O){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),qc=(()=>{class y extends Ur{constructor(){super("github.com")}static credential(p){return Zi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch(v){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ro extends en{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return kn(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,kn(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,kn(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T,pendingToken:O}=p;return v&&T&&O&&v===T?new Ro(v,O):null}static _create(h,p){return new Ro(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ai extends Ts{constructor(h){ee(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return ai.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return ai.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Ro.fromJSON(h);return ee(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:v}=h;if(!p||!v)return null;try{return Ro._create(v,p)}catch(T){return null}}}let au=(()=>{class y extends Ur{constructor(){super("twitter.com")}static credential(p,v){return Zi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=p;if(!v||!T)return null;try{return y.credential(v,T)}catch(O){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function uu(y,h){return Br.apply(this,arguments)}function Br(){return(Br=(0,d.Z)(function*(y,h){return Ar(y,"POST","/v1/accounts:signUp",Wt(y,h))})).apply(this,arguments)}class sr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v,T=!1){return(0,d.Z)(function*(){const O=yield U._fromIdTokenResponse(h,v,T),G=Oh(v);return new sr({user:O,providerId:G,_tokenResponse:v,operationType:p})})()}static _forOperation(h,p,v){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const T=Oh(v);return new sr({user:h,providerId:T,_tokenResponse:v,operationType:p})})()}}function Oh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function zc(){return(zc=(0,d.Z)(function*(y){var h;const p=Oe(y);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new sr({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield uu(p,{returnSecureToken:!0}),T=yield sr._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class cu extends R.ZR{constructor(h,p,v,T){var O;super(p.code,p.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,cu.prototype),this.customData={appName:h.name,tenantId:null!==(O=h.tenantId)&&void 0!==O?O:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,p,v,T){return new cu(h,p,v,T)}}function du(y,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?cu._fromErrorAndOperation(y,O,h,v):O})}function Wi(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function ll(){return(ll=(0,d.Z)(function*(y,h){const p=(0,R.m9)(y);yield Ss(!0,p,h);const{providerUserInfo:v}=yield zn(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),T=Wi(v||[]);return p.providerData=p.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function dn(y,h){return No.apply(this,arguments)}function No(){return(No=(0,d.Z)(function*(y,h,p=!1){const v=yield nr(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return sr._forOperation(y,"link",v)})).apply(this,arguments)}function Ss(y,h,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,d.Z)(function*(y,h,p){yield rr(h);const T=!1===y?"provider-already-linked":"no-such-provider";ee(Wi(h.providerData).has(p)===y,h.auth,T)})).apply(this,arguments)}function Zc(y,h){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,d.Z)(function*(y,h,p=!1){const{auth:v}=y,T="reauthenticate";try{const O=yield nr(y,du(v,T,h,y),p);ee(O.idToken,v,"internal-error");const G=et(O.idToken);ee(G,v,"internal-error");const{sub:re}=G;return ee(y.uid===re,v,"user-mismatch"),sr._forOperation(y,T,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Ce(v,"user-mismatch"),O}})).apply(this,arguments)}function eo(y,h){return pr.apply(this,arguments)}function pr(){return(pr=(0,d.Z)(function*(y,h,p=!1){const v="signIn",T=yield du(y,v,h),O=yield sr._fromIdTokenResponse(y,v,T);return p||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function xn(y,h){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(y,h){return eo(Oe(y),h)})).apply(this,arguments)}function bi(y,h){return gr.apply(this,arguments)}function gr(){return(gr=(0,d.Z)(function*(y,h){const p=(0,R.m9)(y);return yield Ss(!1,p,h.providerId),dn(p,h)})).apply(this,arguments)}function Ms(y,h){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,d.Z)(function*(y,h){return Zc((0,R.m9)(y),h)})).apply(this,arguments)}function hu(y,h){return jr.apply(this,arguments)}function jr(){return(jr=(0,d.Z)(function*(y,h){return Ar(y,"POST","/v1/accounts:signInWithCustomToken",Wt(y,h))})).apply(this,arguments)}function Os(){return(Os=(0,d.Z)(function*(y,h){const p=Oe(y),v=yield hu(p,{token:h,returnSecureToken:!0}),T=yield sr._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class ut{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?fu._fromServerResponse(h,p):Ce(h,"internal-error")}}class fu extends ut{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new fu(p)}}function fa(y,h,p){var v;ee((null===(v=p.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),ee(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ee(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(ee(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function gu(){return(gu=(0,d.Z)(function*(y,h,p){const v=(0,R.m9)(y),T={requestType:"PASSWORD_RESET",email:h};p&&fa(v,T,p),yield nu(v,T)})).apply(this,arguments)}function cl(){return(cl=(0,d.Z)(function*(y,h,p){yield Mn((0,R.m9)(y),{oobCode:h,newPassword:p})})).apply(this,arguments)}function Ee(){return(Ee=(0,d.Z)(function*(y,h){yield bs((0,R.m9)(y),{oobCode:h})})).apply(this,arguments)}function xt(y,h){return hl.apply(this,arguments)}function hl(){return(hl=(0,d.Z)(function*(y,h){const p=(0,R.m9)(y),v=yield Mn(p,{oobCode:h}),T=v.requestType;switch(ee(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ee(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ee(v.mfaInfo,p,"internal-error");default:ee(v.email,p,"internal-error")}let O=null;return v.mfaInfo&&(O=ut._fromServerResponse(Oe(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(y,h){const{data:p}=yield xt((0,R.m9)(y),h);return p.email})).apply(this,arguments)}function $r(){return($r=(0,d.Z)(function*(y,h,p){const v=Oe(y),T=yield uu(v,{returnSecureToken:!0,email:h,password:p}),O=yield sr._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(O.user),O})).apply(this,arguments)}function Wc(){return(Wc=(0,d.Z)(function*(y,h,p){const v=(0,R.m9)(y),T={requestType:"EMAIL_SIGNIN",email:h};ee(p.handleCodeInApp,v,"argument-error"),p&&fa(v,T,p),yield Ei(v,T)})).apply(this,arguments)}function Ps(){return(Ps=(0,d.Z)(function*(y,h,p){const v=(0,R.m9)(y),T=ul.credentialWithLink(h,p||wt());return ee(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),xn(v,T)})).apply(this,arguments)}function or(y,h){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(y,h){return Vt(y,"POST","/v1/accounts:createAuthUri",Wt(y,h))})).apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(y,h){const v={identifier:h,continueUri:Zt()?wt():"http://localhost"},{signinMethods:T}=yield or((0,R.m9)(y),v);return T||[]})).apply(this,arguments)}function ml(){return(ml=(0,d.Z)(function*(y,h){const p=(0,R.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&fa(p.auth,T,h);const{email:O}=yield Mr(p.auth,T);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function wu(){return(wu=(0,d.Z)(function*(y,h,p){const v=(0,R.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&fa(v.auth,O,p);const{email:G}=yield Vc(v.auth,O);G!==y.email&&(yield y.reload())})).apply(this,arguments)}function yl(y,h){return pa.apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(y,h){return Vt(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function _l(){return(_l=(0,d.Z)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,R.m9)(y),O={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},G=yield nr(v,yl(v.auth,O));v.displayName=G.displayName||null,v.photoURL=G.photoUrl||null;const re=v.providerData.find(({providerId:Le})=>"password"===Le);re&&(re.displayName=v.displayName,re.photoURL=v.photoURL),yield v._updateTokensIfNecessary(G)})).apply(this,arguments)}function wl(y,h,p){return to.apply(this,arguments)}function to(){return(to=(0,d.Z)(function*(y,h,p){const{auth:v}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(O.email=h),p&&(O.password=p);const G=yield nr(y,Ct(v,O));yield y._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class no{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class Qc extends no{constructor(h,p,v,T){super(h,p,v),this.username=T}}class Jc extends no{constructor(h,p){super(h,"facebook.com",p)}}class ro extends Qc{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Ns extends no{constructor(h,p){super(h,"google.com",p)}}class El extends Qc{constructor(h,p,v){super(h,"twitter.com",p,v)}}function mr(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Yc(y){var h,p;if(!y)return null;const{providerId:v}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&(null==y?void 0:y.idToken)){const G=null===(p=null===(h=et(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(G)return new no(O,"anonymous"!==G&&"custom"!==G?G:null)}if(!v)return null;switch(v){case"facebook.com":return new Jc(O,T);case"github.com":return new ro(O,T);case"google.com":return new Ns(O,T);case"twitter.com":return new El(O,T,y.screenName||null);case"custom":case"anonymous":return new no(O,null);default:return new no(O,v,T)}}(p)}class Yi{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new Yi("enroll",h)}static _fromMfaPendingCredential(h){return new Yi("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return Yi._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return Yi._fromIdtoken(h.multiFactorSession.idToken)}return null}}class ma{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=Oe(h),T=p.customData._serverResponse,O=(T.mfaInfo||[]).map(re=>ut._fromServerResponse(v,re));ee(T.mfaPendingCredential,v,"internal-error");const G=Yi._fromMfaPendingCredential(T.mfaPendingCredential);return new ma(G,O,function(){var re=(0,d.Z)(function*(Le){const Ke=yield Le._process(v,G);delete T.mfaInfo,delete T.mfaPendingCredential;const ft=Object.assign(Object.assign({},T),{idToken:Ke.idToken,refreshToken:Ke.refreshToken});switch(p.operationType){case"signIn":const it=yield sr._fromIdTokenResponse(v,p.operationType,ft);return yield v._updateCurrentUser(it.user),it;case"reauthenticate":return ee(p.user,v,"internal-error"),sr._forOperation(p.user,p.operationType,ft);default:Ce(v,"internal-error")}});return function(Le){return re.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,d.Z)(function*(){return p.signInResolver(h)})()}}function Fn(y,h){return Vt(y,"POST","/v2/accounts/mfaEnrollment:start",Wt(y,h))}class Qi{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>ut._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Qi(h)}getSession(){var h=this;return(0,d.Z)(function*(){return Yi._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var v=this;return(0,d.Z)(function*(){const T=h,O=yield v.getSession(),G=yield nr(v.user,T._process(v.user.auth,O,p));return yield v.user._updateTokensIfNecessary(G),v.user.reload()})()}unenroll(h){var p=this;return(0,d.Z)(function*(){const v="string"==typeof h?h:h.uid,T=yield p.user.getIdToken(),O=yield nr(p.user,function xp(y,h){return Vt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(y,h))}(p.user.auth,{idToken:T,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:G})=>G!==v),yield p.user._updateTokensIfNecessary(O);try{yield p.user.reload()}catch(G){if("auth/user-token-expired"!==G.code)throw G}})()}}const Lo=new WeakMap,Il="__sak";class io{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Il,"1"),this.storage.removeItem(Il),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const yn=(()=>{class y extends io{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function nd(){const y=(0,R.z$)();return qt(y)||Wn(y)}()&&function Un(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),O=this.localCache[v];T!==O&&p(v,O,T)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((re,Le,Ke)=>{this.notifyListeners(re,Ke)});const T=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const re=this.storage.getItem(T);if(p.newValue!==re)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!v)return}const O=()=>{const re=this.storage.getItem(T);!v&&this.localCache[T]===re||this.notifyListeners(T,re)},G=this.storage.getItem(T);!function aa(){return(0,R.w1)()&&10===document.documentMode}()||G===p.newValue||p.newValue===p.oldValue?O():setTimeout(O,10)}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const O of Array.from(T))O(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var T=()=>super._set,O=this;return(0,d.Z)(function*(){yield T().call(O,p,v),O.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,T=this;return(0,d.Z)(function*(){const O=yield v().call(T,p);return T.localCache[p]=JSON.stringify(O),O})()}_remove(p){var v=()=>super._remove,T=this;return(0,d.Z)(function*(){yield v().call(T,p),delete T.localCache[p]})()}}return y.type="LOCAL",y})(),Ji=(()=>{class y extends io{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return y.type="SESSION",y})();let ya=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(O=>O.isListeningto(p));if(v)return v;const T=new y(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,d.Z)(function*(){const T=p,{eventId:O,eventType:G,data:re}=T.data,Le=v.handlersMap[G];if(!(null==Le?void 0:Le.size))return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:G});const Ke=Array.from(Le).map(function(){var it=(0,d.Z)(function*(Tn){return Tn(T.origin,re)});return function(Tn){return it.apply(this,arguments)}}()),ft=yield function Tl(y){return Promise.all(y.map(function(){var h=(0,d.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return h.apply(this,arguments)}}()))}(Ke);T.ports[0].postMessage({status:"done",eventId:O,eventType:G,response:ft})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function so(y="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return y+p}class rd{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,v=50){var T=this;return(0,d.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let G,re;return new Promise((Le,Ke)=>{const ft=so("",20);O.port1.start();const it=setTimeout(()=>{Ke(new Error("unsupported_event"))},v);re={messageChannel:O,onMessage(Tn){const Li=Tn;if(Li.data.eventId===ft)switch(Li.data.status){case"ack":clearTimeout(it),G=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Le(Li.data.response);break;default:clearTimeout(it),clearTimeout(G),Ke(new Error("invalid_response"))}}},T.handlers.add(re),O.port1.addEventListener("message",re.onMessage),T.target.postMessage({eventType:h,eventId:ft,data:p},[O.port2])}).finally(()=>{re&&T.removeMessageHandler(re)})})()}}function Yt(){return window}function _n(){return void 0!==Yt().WorkerGlobalScope&&"function"==typeof Yt().importScripts}function Fs(){return(Fs=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const bu="firebaseLocalStorageDb",oo="firebaseLocalStorage",li="fbase_key";class Bn{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Uo(y,h){return y.transaction([oo],h?"readwrite":"readonly").objectStore(oo)}function ao(){const y=indexedDB.open(bu,1);return new Promise((h,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(oo,{keyPath:li})}catch(T){p(T)}}),y.addEventListener("success",(0,d.Z)(function*(){const v=y.result;v.objectStoreNames.contains(oo)?h(v):(v.close(),yield function Hr(){const y=indexedDB.deleteDatabase(bu);return new Bn(y).toPromise()}(),h(yield ao()))}))})}function Sl(y,h,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,d.Z)(function*(y,h,p){const v=Uo(y,!0).put({[li]:h,value:p});return new Bn(v).toPromise()})).apply(this,arguments)}function ci(){return(ci=(0,d.Z)(function*(y,h){const p=Uo(y,!1).get(h),v=yield new Bn(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Ls(y,h){const p=Uo(y,!0).delete(h);return new Bn(p).toPromise()}const es=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,d.Z)(function*(){return p.db||(p.db=yield ao()),p.db})()}_withRetries(p){var v=this;return(0,d.Z)(function*(){let T=0;for(;;)try{const O=yield v._openDb();return yield p(O)}catch(O){if(T++>3)throw O;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,d.Z)(function*(){return _n()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,d.Z)(function*(){p.receiver=ya._getInstance(function Al(){return _n()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,d.Z)(function*(T,O){return{keyProcessed:(yield p._poll()).includes(O.key)}});return function(T,O){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,d.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,d.Z)(function*(){var v,T;if(p.activeServiceWorker=yield function It(){return Fs.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new rd(p.activeServiceWorker);const O=yield p.sender._send("ping",{},800);!O||(null===(v=O[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=O[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,d.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Pp(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const p=yield ao();return yield Sl(p,Il,"1"),yield Ls(p,Il),!0}catch(p){}return!1})()}_withPendingWrite(p){var v=this;return(0,d.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(O=>Sl(O,p,v)),T.localCache[p]=v,T.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,d.Z)(function*(){const T=yield v._withRetries(O=>function Xi(y,h){return ci.apply(this,arguments)}(O,p));return v.localCache[p]=T,T})()}_remove(p){var v=this;return(0,d.Z)(function*(){return v._withPendingWrite((0,d.Z)(function*(){return yield v._withRetries(T=>Ls(T,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,d.Z)(function*(){const v=yield p._withRetries(G=>{const re=Uo(G,!1).getAll();return new Bn(re).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:G,value:re}of v)O.add(G),JSON.stringify(p.localCache[G])!==JSON.stringify(re)&&(p.notifyListeners(G,re),T.push(G));for(const G of Object.keys(p.localCache))p.localCache[G]&&!O.has(G)&&(p.notifyListeners(G,null),T.push(G));return T})()}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const O of Array.from(T))O(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function id(y,h){return Vt(y,"POST","/v2/accounts/mfaSignIn:start",Wt(y,h))}function Ii(){return(Ii=(0,d.Z)(function*(y){return(yield Vt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function co(y){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=h,v.onerror=T=>{const O=_e("internal-error");O.customData=T,p(O)},v.type="text/javascript",v.charset="UTF-8",function Ol(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(v)})}function va(y){return`__${y}${Math.floor(1e6*Math.random())}`}const di=1e12;class sd{constructor(h){this.auth=h,this.counter=di,this._widgets=new Map}render(h,p){const v=this.counter;return this._widgets.set(v,new Cu(h,this.auth.name,p||{})),this.counter++,v}reset(h){var p;const v=h||di;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(h){var p;return(null===(p=this._widgets.get(h||di))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,d.Z)(function*(){var v;return null===(v=p._widgets.get(h||di))||void 0===v||v.execute(),""})()}}class Cu{constructor(h,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;ee(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ho(y){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Iu=va("rcb"),Nh=new on(3e4,6e4);class od{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Yt().grecaptcha}load(h,p=""){return ee(function Rp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(Yt().grecaptcha):new Promise((v,T)=>{const O=Yt().setTimeout(()=>{T(_e(h,"network-request-failed"))},Nh.get());Yt()[Iu]=()=>{Yt().clearTimeout(O),delete Yt()[Iu];const re=Yt().grecaptcha;if(!re)return void T(_e(h,"internal-error"));const Le=re.render;re.render=(Ke,ft)=>{const it=Le(Ke,ft);return this.counter++,it},this.hostLanguage=p,v(re)},co(`https://www.google.com/recaptcha/api.js??${(0,R.xO)({onload:Iu,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(O),T(_e(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!Yt().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ad{load(h){return(0,d.Z)(function*(){return new sd(h)})()}clearedOneInstance(){}}const Pl="recaptcha",ud={theme:"light",type:"image"};class kh{constructor(h,p=Object.assign({},ud),v){this.parameters=p,this.type=Pl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(v),this.isInvisible="invisible"===this.parameters.size,ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;ee(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ad:new od,this.validateStartingState()}verify(){var h=this;return(0,d.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(p)||new Promise(O=>{const G=re=>{!re||(h.tokenChangeListeners.delete(G),O(re))};h.tokenChangeListeners.add(G),h.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ee(!this.parameters.sitekey,this.auth,"argument-error"),ee(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ee("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof h)h(p);else if("string"==typeof h){const v=Yt()[h];"function"==typeof v&&v(p)}}}assertNotDestroyed(){ee(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.Z)(function*(){ee(Zt()&&!_n(),h.auth,"internal-error"),yield function ld(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function xl(y){return Ii.apply(this,arguments)}(h.auth);ee(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return ee(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ri{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Oo._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function wn(){return(wn=(0,d.Z)(function*(y,h,p){const v=Oe(y),T=yield Or(v,h,(0,R.m9)(p));return new Ri(T,O=>xn(v,O))})).apply(this,arguments)}function Gr(){return(Gr=(0,d.Z)(function*(y,h,p){const v=(0,R.m9)(y);yield Ss(!1,v,"phone");const T=yield Or(v.auth,h,(0,R.m9)(p));return new Ri(T,O=>bi(v,O))})).apply(this,arguments)}function Tu(){return(Tu=(0,d.Z)(function*(y,h,p){const v=(0,R.m9)(y),T=yield Or(v.auth,h,(0,R.m9)(p));return new Ri(T,O=>Ms(v,O))})).apply(this,arguments)}function Or(y,h,p){return Di.apply(this,arguments)}function Di(){return(Di=(0,d.Z)(function*(y,h,p){var v;const T=yield p.verify();try{let O;if(ee("string"==typeof T,y,"argument-error"),ee(p.type===Pl,y,"argument-error"),O="string"==typeof h?{phoneNumber:h}:h,"session"in O){const G=O.session;if("phoneNumber"in O)return ee("enroll"===G.type,y,"internal-error"),(yield Fn(y,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{ee("signin"===G.type,y,"internal-error");const re=(null===(v=O.multiFactorHint)||void 0===v?void 0:v.uid)||O.multiFactorUid;return ee(re,y,"missing-multi-factor-info"),(yield id(y,{mfaPendingCredential:G.credential,mfaEnrollmentId:re,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield Tp(y,{phoneNumber:O.phoneNumber,recaptchaToken:T});return G}}finally{p._reset()}})).apply(this,arguments)}function hi(){return(hi=(0,d.Z)(function*(y,h){yield dn((0,R.m9)(y),h)})).apply(this,arguments)}let qr=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=Oe(p)}verifyPhoneNumber(p,v){return Or(this.auth,p,(0,R.m9)(v))}static credential(p,v){return Oo._fromVerification(p,v)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:T}=p;return v&&T?Oo._fromTokenResponse(v,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function zr(y,h){return h?ne(h):(ee(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class wa extends en{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return kn(h,this._buildIdpRequest())}_linkToIdToken(h,p){return kn(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return kn(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Ea(y){return eo(y.auth,new wa(y),y.bypassAuthState)}function cd(y){const{auth:h,user:p}=y;return ee(p,h,"internal-error"),Zc(p,new wa(y),y.bypassAuthState)}function Lh(y){return dd.apply(this,arguments)}function dd(){return(dd=(0,d.Z)(function*(y){const{auth:h,user:p}=y;return ee(p,h,"internal-error"),dn(p,new wa(y),y.bypassAuthState)})).apply(this,arguments)}class fi{constructor(h,p,v,T,O=!1){this.auth=h,this.resolver=v,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,d.Z)(function*(v,T){h.pendingPromise={resolve:v,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(O){h.reject(O)}});return function(v,T){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,d.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:O,tenantId:G,error:re,type:Le}=h;if(re)return void p.reject(re);const Ke={auth:p.auth,requestUri:v,sessionId:T,tenantId:G||void 0,postBody:O||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Le)(Ke))}catch(ft){p.reject(ft)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Ea;case"linkViaPopup":case"linkViaRedirect":return Lh;case"reauthViaPopup":case"reauthViaRedirect":return cd;default:Ce(this.auth,"internal-error")}}resolve(h){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){te(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vh=new on(2e3,1e4);function Uh(){return(Uh=(0,d.Z)(function*(y,h,p){const v=Oe(y);je(y,h,Ts);const T=zr(v,p);return new rs(v,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(y,h,p){const v=(0,R.m9)(y);je(v.auth,h,Ts);const T=zr(v.auth,p);return new rs(v.auth,"reauthViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}function Rl(){return(Rl=(0,d.Z)(function*(y,h,p){const v=(0,R.m9)(y);je(v.auth,h,Ts);const T=zr(v.auth,p);return new rs(v.auth,"linkViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}let rs=(()=>{class y extends fi{constructor(p,v,T,O,G){super(p,v,O,G),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,d.Z)(function*(){const v=yield p.execute();return ee(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,d.Z)(function*(){te(1===p.filter.length,"Popup operations only handle one event");const v=so();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(_e(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Vh.get())};p()}}return y.currentPopupAction=null,y})();const yr=new Map;class Ia extends fi{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,d.Z)(function*(){let v=yr.get(p.auth._key());if(!v){try{const O=(yield function jo(y,h){return Nl.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(O)}catch(T){v=()=>Promise.reject(T)}yr.set(p.auth._key(),v)}return p.bypassAuthState||yr.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const T=yield v.auth._redirectUserForId(h.eventId);if(T)return v.user=T,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Nl(){return(Nl=(0,d.Z)(function*(y,h){const p=I(h),v=C(y);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(p));return yield v._remove(p),T})).apply(this,arguments)}function is(y,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(y,h){return C(y)._set(I(h),"true")})).apply(this,arguments)}function C(y){return ne(y._redirectPersistence)}function I(y){return le("pendingRedirect",y.config.apiKey,y.name)}function z(){return(z=(0,d.Z)(function*(y,h,p){const v=Oe(y);je(y,h,Ts);const T=zr(v,p);return yield is(T,v),T._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function qe(){return(qe=(0,d.Z)(function*(y,h,p){const v=(0,R.m9)(y);je(v.auth,h,Ts);const T=zr(v.auth,p);yield is(T,v.auth);const O=yield po(v);return T._openRedirect(v.auth,h,"reauthViaRedirect",O)})).apply(this,arguments)}function kt(){return(kt=(0,d.Z)(function*(y,h,p){const v=(0,R.m9)(y);je(v.auth,h,Ts);const T=zr(v.auth,p);yield Ss(!1,v,h.providerId),yield is(T,v.auth);const O=yield po(v);return T._openRedirect(v.auth,h,"linkViaRedirect",O)})).apply(this,arguments)}function Kn(){return(Kn=(0,d.Z)(function*(y,h){return yield Oe(y)._initializationPromise,En(y,h,!1)})).apply(this,arguments)}function En(y,h){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,d.Z)(function*(y,h,p=!1){const v=Oe(y),T=zr(v,h),G=yield new Ia(v,T,p).execute();return G&&!p&&(delete G.user._redirectEventId,yield v._persistUserIfCurrent(G.user),yield v._setRedirectUser(null,h)),G})).apply(this,arguments)}function po(y){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(y){const h=so(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Us{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function hd(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jh(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!jh(h)){const T=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(_e(this.auth,T))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ss(h))}saveEventToCache(h){this.cachedEventUids.add(ss(h)),this.lastProcessedEventTime=Date.now()}}function ss(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function jh({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Fl(y){return go.apply(this,arguments)}function go(){return(go=(0,d.Z)(function*(y,h={}){return Vt(y,"GET","/v1/projects",h)})).apply(this,arguments)}const $h=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hh=/^https?/;function mo(){return(mo=(0,d.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Fl(y);for(const p of h)try{if(Su(p))return}catch(v){}Ce(y,"unauthorized-domain")})).apply(this,arguments)}function Su(y){const h=wt(),{protocol:p,hostname:v}=new URL(h);if(y.startsWith("chrome-extension://")){const G=new URL(y);return""===G.hostname&&""===v?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&G.hostname===v}if(!Hh.test(p))return!1;if($h.test(y))return v===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const Np=new on(3e4,6e4);function Gh(){const y=Yt().___jsl;if(null==y?void 0:y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let yo=null;function g0(y){return yo=yo||function $o(y){return new Promise((h,p)=>{var v,T,O;function G(){Gh(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Gh(),p(_e(y,"network-request-failed"))},timeout:Np.get()})}if(null===(T=null===(v=Yt().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(O=Yt().gapi)||void 0===O?void 0:O.load)){const re=va("iframefcb");return Yt()[re]=()=>{gapi.load?G():p(_e(y,"network-request-failed"))},co(`https://apis.google.com/js/api.js?onload=${re}`).catch(Le=>p(Le))}G()}}).catch(h=>{throw yo=null,h})}(y),yo}const Ey=new on(5e3,15e3),Vl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kp=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ul(y){const h=y.config;ee(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?an(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:y.name,v:oe.SDK_VERSION},T=kp.get(y.config.apiHost);T&&(v.eid=T);const O=y._getFrameworks();return O.length&&(v.fw=O.join(",")),`${p}?${(0,R.xO)(v).slice(1)}`}function Fp(){return Fp=(0,d.Z)(function*(y){const h=yield g0(y),p=Yt().gapi;return ee(p,y,"internal-error"),h.open({where:document.body,url:Ul(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vl,dontclear:!0},v=>new Promise(function(){var T=(0,d.Z)(function*(O,G){yield v.restyle({setHideOnLeave:!1});const re=_e(y,"network-request-failed"),Le=Yt().setTimeout(()=>{G(re)},Ey.get());function Ke(){Yt().clearTimeout(Le),O(v)}v.ping(Ke).then(Ke,()=>{G(re)})});return function(O,G){return T.apply(this,arguments)}}()))}),Fp.apply(this,arguments)}const y0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Da{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function gd(y,h,p,v,T,O){ee(y.config.authDomain,y,"auth-domain-config-required"),ee(y.config.apiKey,y,"invalid-api-key");const G={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:v,v:oe.SDK_VERSION,eventId:T};if(h instanceof Ts){h.setDefaultLanguage(y.languageCode),G.providerId=h.providerId||"",(0,R.xb)(h.getCustomParameters())||(G.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Le,Ke]of Object.entries(O||{}))G[Le]=Ke}if(h instanceof Ur){const Le=h.getScopes().filter(Ke=>""!==Ke);Le.length>0&&(G.scopes=Le.join(","))}y.tenantId&&(G.tid=y.tenantId);const re=G;for(const Le of Object.keys(re))void 0===re[Le]&&delete re[Le];return`${function Cy({config:y}){return y.emulator?an(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,R.xO)(re).slice(1)}`}const os="webStorageSupport";class Bp extends class Up{constructor(h){this.factorId=h}_process(h,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,v);case"signin":return this._finalizeSignIn(h,p.credential);default:return q("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Bp(h)}_finalizeEnroll(h,p,v){return function ed(y,h){return Vt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(y,h))}(h,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function _a(y,h){return Vt(y,"POST","/v2/accounts/mfaSignIn:finalize",Wt(y,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Iy=(()=>{class y{constructor(){}static assertion(p){return Bp._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var Dy="@firebase/auth",Mu="0.19.11";class jp{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,d.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(v=>{var T;h((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ho(){return window}function xu(){return(xu=(0,d.Z)(function*(y,h,p){var v;const{BuildInfo:T}=Ho();te(h.sessionId,"AuthEvent did not contain a session ID");const O=yield w0(h.sessionId),G={};return Wn()?G.ibi=T.packageName:Cn()?G.apn=T.packageName:Ce(y,"operation-not-supported-in-this-environment"),T.displayName&&(G.appDisplayName=T.displayName),G.sessionId=O,gd(y,p,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,G)})).apply(this,arguments)}function ki(){return(ki=(0,d.Z)(function*(y){const{BuildInfo:h}=Ho(),p={};Wn()?p.iosBundleId=h.packageName:Cn()?p.androidPackageName=h.packageName:Ce(y,"operation-not-supported-in-this-environment"),yield Fl(y,p)})).apply(this,arguments)}function md(){return(md=(0,d.Z)(function*(y,h,p){const{cordova:v}=Ho();let T=()=>{};try{yield new Promise((O,G)=>{let re=null;function Le(){var it;O();const Tn=null===(it=v.plugins.browsertab)||void 0===it?void 0:it.close;"function"==typeof Tn&&Tn(),"function"==typeof(null==p?void 0:p.close)&&p.close()}function Ke(){re||(re=window.setTimeout(()=>{G(_e(y,"redirect-cancelled-by-user"))},2e3))}function ft(){"visible"===(null==document?void 0:document.visibilityState)&&Ke()}h.addPassiveListener(Le),document.addEventListener("resume",Ke,!1),Cn()&&document.addEventListener("visibilitychange",ft,!1),T=()=>{h.removePassiveListener(Le),document.removeEventListener("resume",Ke,!1),document.removeEventListener("visibilitychange",ft,!1),re&&window.clearTimeout(re)}})}finally{T()}})).apply(this,arguments)}function w0(y){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,d.Z)(function*(y){const h=Gp(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Gp(y){if(te(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let v=0;v<y.length;v++)p[v]=y.charCodeAt(v);return p}!function Ty(y){(0,oe._registerComponent)(new ie.wA("auth",(h,{options:p})=>{const v=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),{apiKey:O,authDomain:G}=v.options;return((re,Le)=>{ee(O&&!O.includes(":"),"invalid-api-key",{appName:re.name}),ee(!(null==G?void 0:G.includes(":")),"argument-error",{appName:re.name});const Ke={apiKey:O,authDomain:G,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ua(y)},ft=new si(re,Le,Ke);return function se(y,h){const p=(null==h?void 0:h.persistence)||[],v=(Array.isArray(p)?p:[p]).map(ne);(null==h?void 0:h.errorMap)&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(ft,p),ft})(v,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,v)=>{h.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new ie.wA("auth-internal",h=>{const p=Oe(h.getProvider("auth").getImmediate());return new jp(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)(Dy,Mu,function Wh(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,oe.registerVersion)(Dy,Mu,"esm2017")}("Browser");class yd extends Us{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,d.Z)(function*(){yield h.initPromise})()}}function Aa(y){return _d.apply(this,arguments)}function _d(){return(_d=(0,d.Z)(function*(y){const h=yield vd()._get(Xh(y));return h&&(yield vd()._remove(Xh(y))),h})).apply(this,arguments)}function My(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const v=Math.floor(Math.random()*h.length);y.push(h.charAt(v))}return y.join("")}function vd(){return ne(yn)}function Xh(y){return le("authEvent",y.config.apiKey,y.name)}function Hl(y){if(!(null==y?void 0:y.includes("?")))return{};const[h,...p]=y.split("?");return(0,R.zd)(p.join("?"))}function tf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function nf(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Oy(y=(0,R.z$)()){return!("file:"!==nf()&&"ionic:"!==nf()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zr(){try{const y=self.localStorage,h=so();if(y)return y.setItem(h,"1"),y.removeItem(h),!function Ed(y=(0,R.z$)()){return function b0(){return(0,R.w1)()&&11===(null==document?void 0:document.documentMode)}()||function C0(y=(0,R.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,R.hl)()}catch(y){return bd()&&(0,R.hl)()}return!1}function bd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function pt(){return(function E0(){return"http:"===nf()||"https:"===nf()}()||(0,R.ru)()||Oy())&&!function Yp(){return(0,R.b$)()||(0,R.UG)()}()&&Zr()&&!bd()}function Bs(){return Oy()&&"undefined"!=typeof document}function as(){return(as=(0,d.Z)(function*(){return!!Bs()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const Ti={LOCAL:"local",NONE:"none",SESSION:"session"},Gl=ee,Cd="persistence";function Sa(y){return of.apply(this,arguments)}function of(){return(of=(0,d.Z)(function*(y){yield y._initializationPromise;const h=zl(),p=le(Cd,y.config.apiKey,y.name);h&&h.setItem(p,y._getPersistence())})).apply(this,arguments)}function zl(){var y;try{return(null===(y=function rf(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(h){return null}}const Py=ee;class Fi{constructor(){this.browserResolver=ne(class jl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ji,this._completeRedirectFn=En}_openPopup(h,p,v,T){var O=this;return(0,d.Z)(function*(){var G;te(null===(G=O.eventManagers[h._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const re=gd(h,p,v,wt(),T);return function Lp(y,h,p,v=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),G=Math.max((window.screen.availWidth-v)/2,0).toString();let re="";const Le=Object.assign(Object.assign({},y0),{width:v.toString(),height:T.toString(),top:O,left:G}),Ke=(0,R.z$)().toLowerCase();p&&(re=fr(Ke)?"_blank":p),ht(Ke)&&(h=h||"http://localhost",Le.scrollbars="yes");const ft=Object.entries(Le).reduce((Tn,[Li,Ru])=>`${Tn}${Li}=${Ru},`,"");if(function tu(y=(0,R.z$)()){var h;return Wn(y)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Ke)&&"_self"!==re)return function Vp(y,h){const p=document.createElement("a");p.href=y,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",re),new Da(null);const it=window.open(h||"",re,ft);ee(it,y,"popup-blocked");try{it.focus()}catch(Tn){}return new Da(it)}(h,re,so())})()}_openRedirect(h,p,v,T){var O=this;return(0,d.Z)(function*(){return yield O._originValidation(h),function Vo(y){Yt().location.href=y}(gd(h,p,v,wt(),T)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:T,promise:O}=this.eventManagers[p];return T?Promise.resolve(T):(te(O,"If manager is not set, promise should be"),O)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(h){var p=this;return(0,d.Z)(function*(){const v=yield function m0(y){return Fp.apply(this,arguments)}(h),T=new Us(h);return v.register("authEvent",O=>(ee(null==O?void 0:O.authEvent,h,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:T},p.iframes[h._key()]=v,T})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(os,{type:os},T=>{var O;const G=null===(O=null==T?void 0:T[0])||void 0===O?void 0:O[os];void 0!==G&&p(!!G),Ce(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function wy(y){return mo.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Gi()||qt()||Wn()}}),this.cordovaResolver=ne(class Zp{constructor(){this._redirectPersistence=Ji,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=En}_initialize(h){var p=this;return(0,d.Z)(function*(){const v=h._key();let T=p.eventManagers.get(v);return T||(T=new yd(h),p.eventManagers.set(v,T),p.attachCallbackListeners(h,T)),T})()}_openPopup(h){Ce(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,v,T){var O=this;return(0,d.Z)(function*(){!function Yh(y){var h,p,v,T,O,G,re,Le,Ke,ft;const it=Ho();ee("function"==typeof(null===(h=null==it?void 0:it.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ee(void 0!==(null===(p=null==it?void 0:it.BuildInfo)||void 0===p?void 0:p.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ee("function"==typeof(null===(O=null===(T=null===(v=null==it?void 0:it.cordova)||void 0===v?void 0:v.plugins)||void 0===T?void 0:T.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(Le=null===(re=null===(G=null==it?void 0:it.cordova)||void 0===G?void 0:G.plugins)||void 0===re?void 0:re.browsertab)||void 0===Le?void 0:Le.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ee("function"==typeof(null===(ft=null===(Ke=null==it?void 0:it.cordova)||void 0===Ke?void 0:Ke.InAppBrowser)||void 0===ft?void 0:ft.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const G=yield O._initialize(h);yield G.initialized(),G.resetRedirect(),function kl(){yr.clear()}(),yield O._originValidation(h);const re=function Jh(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:My(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(h,v,T);yield function Sy(y,h){return vd()._set(Xh(y),h)}(h,re);const Le=yield function $l(y,h,p){return xu.apply(this,arguments)}(h,re,p),Ke=yield function Ta(y){const{cordova:h}=Ho();return new Promise(p=>{h.plugins.browsertab.isAvailable(v=>{let T=null;v?h.plugins.browsertab.openUrl(y):T=h.InAppBrowser.open(y,function Ys(y=(0,R.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(T)})})}(Le);return function Hp(y,h,p){return md.apply(this,arguments)}(h,G,Ke)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Kh(y){return ki.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:v,handleOpenURL:T,BuildInfo:O}=Ho(),G=setTimeout((0,d.Z)(function*(){yield Aa(h),p.onEvent(tf())}),500),re=function(){var ft=(0,d.Z)(function*(it){clearTimeout(G);const Tn=yield Aa(h);let Li=null;Tn&&(null==it?void 0:it.url)&&(Li=function qp(y,h){var p,v;const T=function Ou(y){const h=Hl(y),p=h.link?decodeURIComponent(h.link):void 0,v=Hl(p).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Hl(T).link||T||v||p||y}(h);if(T.includes("/__/auth/callback")){const O=Hl(T),G=O.firebaseError?function zp(y){try{return JSON.parse(y)}catch(h){return null}}(decodeURIComponent(O.firebaseError)):null,re=null===(v=null===(p=null==G?void 0:G.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],Le=re?_e(re):null;return Le?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Tn,it.url)),p.onEvent(Li||tf())});return function(Tn){return ft.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,re);const Le=T,Ke=`${O.packageName.toLowerCase()}://`;Ho().handleOpenURL=function(){var ft=(0,d.Z)(function*(it){if(it.toLowerCase().startsWith(Ke)&&re({url:it}),"function"==typeof Le)try{Le(it)}catch(Tn){console.error(Tn)}});return function(it){return ft.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Ji,this._completeRedirectFn=En}_initialize(h){var p=this;return(0,d.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,v,T){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(h,p,v,T)})()}_openRedirect(h,p,v,T){var O=this;return(0,d.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(h,p,v,T)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Bs()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Py(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,d.Z)(function*(){if(h.underlyingResolver)return;const p=yield function gn(){return as.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function af(y){return y.unwrap()}function Id(y){return uf(y)}function uf(y){const{_tokenResponse:h}=y instanceof R.ZR?y.customData:y;if(!h)return null;if(!(y instanceof R.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return qr.credentialFromResult(y);const p=h.providerId;if(!p||"password"===p)return null;let v;switch(p){case"google.com":v=ca;break;case"facebook.com":v=Js;break;case"github.com":v=qc;break;case"twitter.com":v=au;break;default:const{oauthIdToken:T,oauthAccessToken:O,oauthTokenSecret:G,pendingToken:re,nonce:Le}=h;return O||G||T||re?re?p.startsWith("saml.")?Ro._create(p,re):Zi._fromParams({providerId:p,signInMethod:p,pendingToken:re,idToken:T,accessToken:O}):new Po(p).credential({idToken:T,accessToken:O,rawNonce:Le}):null}return y instanceof R.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function wr(y,h){return h.catch(p=>{throw p instanceof R.ZR&&function Ai(y,h){var p;const v=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h.code)h.resolver=new Dd(y,function Eu(y,h){var p;const v=(0,R.m9)(y),T=h;return ee(h.customData.operationType,v,"argument-error"),ee(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),ma._fromError(v,T)}(y,h));else if(v){const T=uf(h),O=h;T&&(O.credential=T,O.tenantId=v.tenantId||void 0,O.email=v.email||void 0,O.phoneNumber=v.phoneNumber||void 0)}}(y,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:Id(p),additionalUserInfo:mr(p),user:_o.getOrCreate(T)}})}function Er(y,h){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,d.Z)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:v=>wr(y,p.confirm(v))}})).apply(this,arguments)}class Dd{constructor(h,p){this.resolver=p,this.auth=function Pu(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return wr(af(this.auth),this.resolver.resolveSignIn(h))}}class _o{constructor(h){this._delegate=h,this.multiFactor=function td(y){const h=(0,R.m9)(y);return Lo.has(h)||Lo.set(h,Qi._fromUser(h)),Lo.get(h)}(h)}static getOrCreate(h){return _o.USER_MAP.has(h)||_o.USER_MAP.set(h,new _o(h)),_o.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,d.Z)(function*(){return wr(p.auth,bi(p._delegate,h))})()}linkWithPhoneNumber(h,p){var v=this;return(0,d.Z)(function*(){return Er(v.auth,function Du(y,h,p){return Gr.apply(this,arguments)}(v._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,d.Z)(function*(){return wr(p.auth,function Bh(y,h,p){return Rl.apply(this,arguments)}(p._delegate,h,Fi))})()}linkWithRedirect(h){var p=this;return(0,d.Z)(function*(){return yield Sa(Oe(p.auth)),function Je(y,h,p){return function yt(y,h,p){return kt.apply(this,arguments)}(y,h,p)}(p._delegate,h,Fi)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,d.Z)(function*(){return wr(p.auth,Ms(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return Er(this.auth,function xr(y,h,p){return Tu.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return wr(this.auth,function fo(y,h,p){return Ca.apply(this,arguments)}(this._delegate,h,Fi))}reauthenticateWithRedirect(h){var p=this;return(0,d.Z)(function*(){return yield Sa(Oe(p.auth)),function X(y,h,p){return function Se(y,h,p){return qe.apply(this,arguments)}(y,h,p)}(p._delegate,h,Fi)})()}sendEmailVerification(h){return function Ci(y,h){return ml.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,d.Z)(function*(){return yield function da(y,h){return ll.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function vl(y,h){return wl((0,R.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function Kc(y,h){return wl((0,R.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Bo(y,h){return hi.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function ga(y,h){return _l.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function vu(y,h,p){return wu.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}_o.USER_MAP=new WeakMap;const vo=ee;let us=(()=>{class y{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=p.options;vo(T,"invalid-api-key",{appName:p.name}),vo(T,"invalid-api-key",{appName:p.name});const O="undefined"!=typeof window?Fi:void 0;this._delegate=v.initialize({options:{persistence:Pr(T,p.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?_o.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function ln(y,h,p){const v=Oe(y);ee(v._canInitEmulator,v,"emulator-config-failed"),ee(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const T=!!(null==p?void 0:p.disableWarnings),O=ir(h),{host:G,port:re}=function ws(y){const h=ir(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const O=T[1];return{host:O,port:Rn(v.substr(O.length+1))}}{const[O,G]=v.split(":");return{host:O,port:Rn(G)}}}(h);v.config.emulator={url:`${O}//${G}${null===re?"":`:${re}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:G,port:re,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Pi(){function y(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,v)}applyActionCode(p){return function dl(y,h){return Ee.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return xt(this._delegate,p)}confirmPasswordReset(p,v){return function mu(y,h,p){return cl.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var T=this;return(0,d.Z)(function*(){return wr(T._delegate,function Fo(y,h,p){return $r.apply(this,arguments)}(T._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function _u(y,h){return Rs.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function gl(y,h){const p=Qs.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}(0,p)}getRedirectResult(){var p=this;return(0,d.Z)(function*(){vo(pt(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function vt(y,h){return Kn.apply(this,arguments)}(p._delegate,Fi);return v?wr(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function xy(y,h){Oe(y)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,v,T){const{next:O,error:G,complete:re}=wo(p,v,T);return this._delegate.onAuthStateChanged(O,G,re)}onIdTokenChanged(p,v,T){const{next:O,error:G,complete:re}=wo(p,v,T);return this._delegate.onIdTokenChanged(O,G,re)}sendSignInLinkToEmail(p,v){return function pl(y,h,p){return Wc.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function pu(y,h,p){return gu.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,d.Z)(function*(){let T;switch(function sf(y,h){Gl(Object.values(Ti).includes(h),y,"invalid-persistence-type"),(0,R.b$)()?Gl(h!==Ti.SESSION,y,"unsupported-persistence-type"):(0,R.UG)()?Gl(h===Ti.NONE,y,"unsupported-persistence-type"):bd()?Gl(h===Ti.NONE||h===Ti.LOCAL&&(0,R.hl)(),y,"unsupported-persistence-type"):Gl(h===Ti.NONE||Zr(),y,"unsupported-persistence-type")}(v._delegate,p),p){case Ti.SESSION:T=Ji;break;case Ti.LOCAL:T=(yield ne(es)._isAvailable())?es:yn;break;case Ti.NONE:T=$;break;default:return Ce("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return wr(this._delegate,function lu(y){return zc.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return wr(this._delegate,xn(this._delegate,p))}signInWithCustomToken(p){return wr(this._delegate,function xs(y,h){return Os.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return wr(this._delegate,function fl(y,h,p){return xn((0,R.m9)(y),ul.credential(h,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return wr(this._delegate,function yu(y,h,p){return Ps.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return Er(this._delegate,function Fh(y,h,p){return wn.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,d.Z)(function*(){return vo(pt(),v._delegate,"operation-not-supported-in-this-environment"),wr(v._delegate,function ba(y,h,p){return Uh.apply(this,arguments)}(v._delegate,p,Fi))})()}signInWithRedirect(p){var v=this;return(0,d.Z)(function*(){return vo(pt(),v._delegate,"operation-not-supported-in-this-environment"),yield Sa(v._delegate),function M(y,h,p){return function F(y,h,p){return z.apply(this,arguments)}(y,h,p)}(v._delegate,p,Fi)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function mn(y,h){return ko.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ti,y})();function wo(y,h,p){let v=y;"function"!=typeof y&&({next:v,error:h,complete:p}=y);const T=v;return{next:G=>T(G&&_o.getOrCreate(G)),error:h,complete:p}}function Pr(y,h){const p=function ql(y,h){const p=zl();if(!p)return[];const v=le(Cd,y,h);switch(p.getItem(v)){case Ti.NONE:return[$];case Ti.LOCAL:return[es,Ji];case Ti.SESSION:return[Ji];default:return[]}}(y,h);if("undefined"!=typeof self&&!p.includes(es)&&p.push(es),"undefined"!=typeof window)for(const v of[yn,Ji])p.includes(v)||p.push(v);return p.includes($)||p.push($),p}class Ma{constructor(){this.providerId="phone",this._delegate=new qr(af(K.Z.auth()))}static credential(h,p){return qr.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}Ma.PHONE_SIGN_IN_METHOD=qr.PHONE_SIGN_IN_METHOD,Ma.PROVIDER_ID=qr.PROVIDER_ID;const lf=ee;class Qp{constructor(h,p,v=K.Z.app()){var T;lf(null===(T=v.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new kh(h,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Jp(y){y.INTERNAL.registerComponent(new ie.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new us(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ul,FacebookAuthProvider:Js,GithubAuthProvider:qc,GoogleAuthProvider:ca,OAuthProvider:Po,SAMLAuthProvider:ai,PhoneAuthProvider:Ma,PhoneMultiFactorGenerator:Iy,RecaptchaVerifier:Qp,TwitterAuthProvider:au,Auth:us,AuthCredential:en,Error:R.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(K.Z)},8306:(nt,De,k)=>{k.d(De,{y:()=>B});var d=k(2961),K=k(727),R=k(8822),oe=k(4671);var ie=k(2416),ce=k(576),ue=k(2806);let B=(()=>{class Ae{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const de=new Ae;return de.source=this,de.operator=Ne,de}subscribe(Ne,de,we){const We=function $e(Ae){return Ae&&Ae instanceof d.Lv||function Q(Ae){return Ae&&(0,ce.m)(Ae.next)&&(0,ce.m)(Ae.error)&&(0,ce.m)(Ae.complete)}(Ae)&&(0,K.Nn)(Ae)}(Ne)?Ne:new d.Hp(Ne,de,we);return(0,ue.x)(()=>{const{operator:Ge,source:Ce}=this;We.add(Ge?Ge.call(We,Ce):Ce?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(de){Ne.error(de)}}forEach(Ne,de){return new(de=j(de))((we,We)=>{const Ge=new d.Hp({next:Ce=>{try{Ne(Ce)}catch(_e){We(_e),Ge.unsubscribe()}},error:We,complete:we});this.subscribe(Ge)})}_subscribe(Ne){var de;return null===(de=this.source)||void 0===de?void 0:de.subscribe(Ne)}[R.L](){return this}pipe(...Ne){return function pe(Ae){return 0===Ae.length?oe.y:1===Ae.length?Ae[0]:function(Ne){return Ae.reduce((de,we)=>we(de),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=j(Ne))((de,we)=>{let We;this.subscribe(Ge=>We=Ge,Ge=>we(Ge),()=>de(We))})}}return Ae.create=xe=>new Ae(xe),Ae})();function j(Ae){var xe;return null!==(xe=null!=Ae?Ae:ie.v.Promise)&&void 0!==xe?xe:Promise}},7579:(nt,De,k)=>{k.d(De,{x:()=>ie});var d=k(8306),K=k(727);const oe=(0,k(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var J=k(8737),pe=k(2806);let ie=(()=>{class ue extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const Q=new ce(this,this);return Q.operator=j,Q}_throwIfClosed(){if(this.closed)throw new oe}next(j){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(j)}})}error(j){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:Q}=this;for(;Q.length;)Q.shift().error(j)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:Q,isStopped:$e,observers:Ae}=this;return Q||$e?K.Lc:(this.currentObservers=null,Ae.push(j),new K.w0(()=>{this.currentObservers=null,(0,J.P)(Ae,j)}))}_checkFinalizedStatuses(j){const{hasError:Q,thrownError:$e,isStopped:Ae}=this;Q?j.error($e):Ae&&j.complete()}asObservable(){const j=new d.y;return j.source=this,j}}return ue.create=(B,j)=>new ce(B,j),ue})();class ce extends ie{constructor(B,j){super(),this.destination=B,this.source=j}next(B){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===Q||Q.call(j,B)}error(B){var j,Q;null===(Q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===Q||Q.call(j,B)}complete(){var B,j;null===(j=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===j||j.call(B)}_subscribe(B){var j,Q;return null!==(Q=null===(j=this.source)||void 0===j?void 0:j.subscribe(B))&&void 0!==Q?Q:K.Lc}}},2961:(nt,De,k)=>{k.d(De,{Hp:()=>Ne,Lv:()=>Q});var d=k(576),K=k(727),R=k(2416),oe=k(7849);function J(){}const pe=ue("C",void 0,void 0);function ue(Ce,_e,ve){return{kind:Ce,value:_e,error:ve}}var B=k(3410),j=k(2806);class Q extends K.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,K.Nn)(_e)&&_e.add(this)):this.destination=Ge}static create(_e,ve,je){return new Ne(_e,ve,je)}next(_e){this.isStopped?We(function ce(Ce){return ue("N",Ce,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?We(function ie(Ce){return ue("E",void 0,Ce)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?We(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ae(Ce,_e){return $e.call(Ce,_e)}class xe{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:ve}=this;if(ve.next)try{ve.next(_e)}catch(je){de(je)}}error(_e){const{partialObserver:ve}=this;if(ve.error)try{ve.error(_e)}catch(je){de(je)}else de(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(ve){de(ve)}}}class Ne extends Q{constructor(_e,ve,je){let Ue;if(super(),(0,d.m)(_e)||!_e)Ue={next:null!=_e?_e:void 0,error:null!=ve?ve:void 0,complete:null!=je?je:void 0};else{let ee;this&&R.v.useDeprecatedNextContext?(ee=Object.create(_e),ee.unsubscribe=()=>this.unsubscribe(),Ue={next:_e.next&&Ae(_e.next,ee),error:_e.error&&Ae(_e.error,ee),complete:_e.complete&&Ae(_e.complete,ee)}):Ue=_e}this.destination=new xe(Ue)}}function de(Ce){R.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ce):(0,oe.h)(Ce)}function We(Ce,_e){const{onStoppedNotification:ve}=R.v;ve&&B.z.setTimeout(()=>ve(Ce,_e))}const Ge={closed:!0,next:J,error:function we(Ce){throw Ce},complete:J}},727:(nt,De,k)=>{k.d(De,{Lc:()=>pe,w0:()=>J,Nn:()=>ie});var d=k(576);const R=(0,k(3888).d)(ue=>function(j){ue(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((Q,$e)=>`${$e+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var oe=k(8737);class J{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ae of j)Ae.remove(this);else j.remove(this);const{initialTeardown:Q}=this;if((0,d.m)(Q))try{Q()}catch(Ae){B=Ae instanceof R?Ae.errors:[Ae]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ae of $e)try{ce(Ae)}catch(xe){B=null!=B?B:[],xe instanceof R?B=[...B,...xe.errors]:B.push(xe)}}if(B)throw new R(B)}}add(B){var j;if(B&&B!==this)if(this.closed)ce(B);else{if(B instanceof J){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(B)}}_hasParent(B){const{_parentage:j}=this;return j===B||Array.isArray(j)&&j.includes(B)}_addParent(B){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(B),j):j?[j,B]:B}_removeParent(B){const{_parentage:j}=this;j===B?this._parentage=null:Array.isArray(j)&&(0,oe.P)(j,B)}remove(B){const{_finalizers:j}=this;j&&(0,oe.P)(j,B),B instanceof J&&B._removeParent(this)}}J.EMPTY=(()=>{const ue=new J;return ue.closed=!0,ue})();const pe=J.EMPTY;function ie(ue){return ue instanceof J||ue&&"closed"in ue&&(0,d.m)(ue.remove)&&(0,d.m)(ue.add)&&(0,d.m)(ue.unsubscribe)}function ce(ue){(0,d.m)(ue)?ue():ue.unsubscribe()}},2416:(nt,De,k)=>{k.d(De,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,De,k)=>{k.d(De,{E:()=>K});const K=new(k(8306).y)(J=>J.complete())},8996:(nt,De,k)=>{k.d(De,{D:()=>_e});var d=k(8421),K=k(5363),R=k(9468),pe=k(8306),ce=k(2202),ue=k(576),B=k(9672);function Q(ve,je){if(!ve)throw new Error("Iterable cannot be null");return new pe.y(Ue=>{(0,B.f)(Ue,je,()=>{const ee=ve[Symbol.asyncIterator]();(0,B.f)(Ue,je,()=>{ee.next().then(q=>{q.done?Ue.complete():Ue.next(q.value)})},0,!0)})})}var $e=k(3670),Ae=k(8239),xe=k(1144),Ne=k(6495),de=k(2206),we=k(4532),We=k(3260);function _e(ve,je){return je?function Ce(ve,je){if(null!=ve){if((0,$e.c)(ve))return function oe(ve,je){return(0,d.Xf)(ve).pipe((0,R.R)(je),(0,K.Q)(je))}(ve,je);if((0,xe.z)(ve))return function ie(ve,je){return new pe.y(Ue=>{let ee=0;return je.schedule(function(){ee===ve.length?Ue.complete():(Ue.next(ve[ee++]),Ue.closed||this.schedule())})})}(ve,je);if((0,Ae.t)(ve))return function J(ve,je){return(0,d.Xf)(ve).pipe((0,R.R)(je),(0,K.Q)(je))}(ve,je);if((0,de.D)(ve))return Q(ve,je);if((0,Ne.T)(ve))return function j(ve,je){return new pe.y(Ue=>{let ee;return(0,B.f)(Ue,je,()=>{ee=ve[ce.h](),(0,B.f)(Ue,je,()=>{let q,te;try{({value:q,done:te}=ee.next())}catch(ge){return void Ue.error(ge)}te?Ue.complete():Ue.next(q)},0,!0)}),()=>(0,ue.m)(null==ee?void 0:ee.return)&&ee.return()})}(ve,je);if((0,We.L)(ve))return function Ge(ve,je){return Q((0,We.Q)(ve),je)}(ve,je)}throw(0,we.z)(ve)}(ve,je):(0,d.Xf)(ve)}},8421:(nt,De,k)=>{k.d(De,{Xf:()=>$e});var d=k(655),K=k(1144),R=k(8239),oe=k(8306),J=k(3670),pe=k(2206),ie=k(4532),ce=k(6495),ue=k(3260),B=k(576),j=k(7849),Q=k(8822);function $e(Ce){if(Ce instanceof oe.y)return Ce;if(null!=Ce){if((0,J.c)(Ce))return function Ae(Ce){return new oe.y(_e=>{const ve=Ce[Q.L]();if((0,B.m)(ve.subscribe))return ve.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ce);if((0,K.z)(Ce))return function xe(Ce){return new oe.y(_e=>{for(let ve=0;ve<Ce.length&&!_e.closed;ve++)_e.next(Ce[ve]);_e.complete()})}(Ce);if((0,R.t)(Ce))return function Ne(Ce){return new oe.y(_e=>{Ce.then(ve=>{_e.closed||(_e.next(ve),_e.complete())},ve=>_e.error(ve)).then(null,j.h)})}(Ce);if((0,pe.D)(Ce))return we(Ce);if((0,ce.T)(Ce))return function de(Ce){return new oe.y(_e=>{for(const ve of Ce)if(_e.next(ve),_e.closed)return;_e.complete()})}(Ce);if((0,ue.L)(Ce))return function We(Ce){return we((0,ue.Q)(Ce))}(Ce)}throw(0,ie.z)(Ce)}function we(Ce){return new oe.y(_e=>{(function Ge(Ce,_e){var ve,je,Ue,ee;return(0,d.mG)(this,void 0,void 0,function*(){try{for(ve=(0,d.KL)(Ce);!(je=yield ve.next()).done;)if(_e.next(je.value),_e.closed)return}catch(q){Ue={error:q}}finally{try{je&&!je.done&&(ee=ve.return)&&(yield ee.call(ve))}finally{if(Ue)throw Ue.error}}_e.complete()})})(Ce,_e).catch(ve=>_e.error(ve))})}},6451:(nt,De,k)=>{k.d(De,{T:()=>pe});var d=k(8189),K=k(8421),R=k(515),oe=k(7669),J=k(8996);function pe(...ie){const ce=(0,oe.yG)(ie),ue=(0,oe._6)(ie,1/0),B=ie;return B.length?1===B.length?(0,K.Xf)(B[0]):(0,d.J)(ue)((0,J.D)(B,ce)):R.E}},5403:(nt,De,k)=>{k.d(De,{x:()=>K});var d=k(2961);function K(oe,J,pe,ie,ce){return new R(oe,J,pe,ie,ce)}class R extends d.Lv{constructor(J,pe,ie,ce,ue,B){super(J),this.onFinalize=ue,this.shouldUnsubscribe=B,this._next=pe?function(j){try{pe(j)}catch(Q){J.error(Q)}}:super._next,this._error=ce?function(j){try{ce(j)}catch(Q){J.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=ie?function(){try{ie()}catch(j){J.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var J;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(J=this.onFinalize)||void 0===J||J.call(this))}}}},4004:(nt,De,k)=>{k.d(De,{U:()=>R});var d=k(4482),K=k(5403);function R(oe,J){return(0,d.e)((pe,ie)=>{let ce=0;pe.subscribe((0,K.x)(ie,ue=>{ie.next(oe.call(J,ue,ce++))}))})}},8189:(nt,De,k)=>{k.d(De,{J:()=>R});var d=k(5577),K=k(4671);function R(oe=1/0){return(0,d.z)(K.y,oe)}},5577:(nt,De,k)=>{k.d(De,{z:()=>ce});var d=k(4004),K=k(8421),R=k(4482),oe=k(9672),J=k(5403),ie=k(576);function ce(ue,B,j=1/0){return(0,ie.m)(B)?ce((Q,$e)=>(0,d.U)((Ae,xe)=>B(Q,Ae,$e,xe))((0,K.Xf)(ue(Q,$e))),j):("number"==typeof B&&(j=B),(0,R.e)((Q,$e)=>function pe(ue,B,j,Q,$e,Ae,xe,Ne){const de=[];let we=0,We=0,Ge=!1;const Ce=()=>{Ge&&!de.length&&!we&&B.complete()},_e=je=>we<Q?ve(je):de.push(je),ve=je=>{Ae&&B.next(je),we++;let Ue=!1;(0,K.Xf)(j(je,We++)).subscribe((0,J.x)(B,ee=>{null==$e||$e(ee),Ae?_e(ee):B.next(ee)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(we--;de.length&&we<Q;){const ee=de.shift();xe?(0,oe.f)(B,xe,()=>ve(ee)):ve(ee)}Ce()}catch(ee){B.error(ee)}}))};return ue.subscribe((0,J.x)(B,_e,()=>{Ge=!0,Ce()})),()=>{null==Ne||Ne()}}(Q,$e,ue,j)))}},5363:(nt,De,k)=>{k.d(De,{Q:()=>oe});var d=k(9672),K=k(4482),R=k(5403);function oe(J,pe=0){return(0,K.e)((ie,ce)=>{ie.subscribe((0,R.x)(ce,ue=>(0,d.f)(ce,J,()=>ce.next(ue),pe),()=>(0,d.f)(ce,J,()=>ce.complete(),pe),ue=>(0,d.f)(ce,J,()=>ce.error(ue),pe)))})}},3099:(nt,De,k)=>{k.d(De,{B:()=>pe});var d=k(8996),K=k(5698),R=k(7579),oe=k(2961),J=k(4482);function pe(ce={}){const{connector:ue=(()=>new R.x),resetOnError:B=!0,resetOnComplete:j=!0,resetOnRefCountZero:Q=!0}=ce;return $e=>{let Ae=null,xe=null,Ne=null,de=0,we=!1,We=!1;const Ge=()=>{null==xe||xe.unsubscribe(),xe=null},Ce=()=>{Ge(),Ae=Ne=null,we=We=!1},_e=()=>{const ve=Ae;Ce(),null==ve||ve.unsubscribe()};return(0,J.e)((ve,je)=>{de++,!We&&!we&&Ge();const Ue=Ne=null!=Ne?Ne:ue();je.add(()=>{de--,0===de&&!We&&!we&&(xe=ie(_e,Q))}),Ue.subscribe(je),Ae||(Ae=new oe.Hp({next:ee=>Ue.next(ee),error:ee=>{We=!0,Ge(),xe=ie(Ce,B,ee),Ue.error(ee)},complete:()=>{we=!0,Ge(),xe=ie(Ce,j),Ue.complete()}}),(0,d.D)(ve).subscribe(Ae))})($e)}}function ie(ce,ue,...B){return!0===ue?(ce(),null):!1===ue?null:ue(...B).pipe((0,K.q)(1)).subscribe(()=>ce())}},9468:(nt,De,k)=>{k.d(De,{R:()=>K});var d=k(4482);function K(R,oe=0){return(0,d.e)((J,pe)=>{pe.add(R.schedule(()=>J.subscribe(pe),oe))})}},5698:(nt,De,k)=>{k.d(De,{q:()=>oe});var d=k(515),K=k(4482),R=k(5403);function oe(J){return J<=0?()=>d.E:(0,K.e)((pe,ie)=>{let ce=0;pe.subscribe((0,R.x)(ie,ue=>{++ce<=J&&(ie.next(ue),J<=ce&&ie.complete())}))})}},8505:(nt,De,k)=>{k.d(De,{b:()=>J});var d=k(576),K=k(4482),R=k(5403),oe=k(4671);function J(pe,ie,ce){const ue=(0,d.m)(pe)||ie||ce?{next:pe,error:ie,complete:ce}:pe;return ue?(0,K.e)((B,j)=>{var Q;null===(Q=ue.subscribe)||void 0===Q||Q.call(ue);let $e=!0;B.subscribe((0,R.x)(j,Ae=>{var xe;null===(xe=ue.next)||void 0===xe||xe.call(ue,Ae),j.next(Ae)},()=>{var Ae;$e=!1,null===(Ae=ue.complete)||void 0===Ae||Ae.call(ue),j.complete()},Ae=>{var xe;$e=!1,null===(xe=ue.error)||void 0===xe||xe.call(ue,Ae),j.error(Ae)},()=>{var Ae,xe;$e&&(null===(Ae=ue.unsubscribe)||void 0===Ae||Ae.call(ue)),null===(xe=ue.finalize)||void 0===xe||xe.call(ue)}))}):oe.y}},4408:(nt,De,k)=>{k.d(De,{o:()=>J});var d=k(727);class K extends d.w0{constructor(ie,ce){super()}schedule(ie,ce=0){return this}}const R={setInterval(pe,ie,...ce){const{delegate:ue}=R;return(null==ue?void 0:ue.setInterval)?ue.setInterval(pe,ie,...ce):setInterval(pe,ie,...ce)},clearInterval(pe){const{delegate:ie}=R;return((null==ie?void 0:ie.clearInterval)||clearInterval)(pe)},delegate:void 0};var oe=k(8737);class J extends K{constructor(ie,ce){super(ie,ce),this.scheduler=ie,this.work=ce,this.pending=!1}schedule(ie,ce=0){if(this.closed)return this;this.state=ie;const ue=this.id,B=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(B,ue,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(B,this.id,ce),this}requestAsyncId(ie,ce,ue=0){return R.setInterval(ie.flush.bind(ie,this),ue)}recycleAsyncId(ie,ce,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return ce;R.clearInterval(ce)}execute(ie,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(ie,ce);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ie,ce){let B,ue=!1;try{this.work(ie)}catch(j){ue=!0,B=j||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),B}unsubscribe(){if(!this.closed){const{id:ie,scheduler:ce}=this,{actions:ue}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ue,this),null!=ie&&(this.id=this.recycleAsyncId(ce,ie,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,De,k)=>{k.d(De,{v:()=>R});var d=k(6063);class K{constructor(J,pe=K.now){this.schedulerActionCtor=J,this.now=pe}schedule(J,pe=0,ie){return new this.schedulerActionCtor(this,J).schedule(ie,pe)}}K.now=d.l.now;class R extends K{constructor(J,pe=K.now){super(J,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(J){const{actions:pe}=this;if(this._active)return void pe.push(J);let ie;this._active=!0;do{if(ie=J.execute(J.state,J.delay))break}while(J=pe.shift());if(this._active=!1,ie){for(;J=pe.shift();)J.unsubscribe();throw ie}}}},4986:(nt,De,k)=>{k.d(De,{z:()=>R});var d=k(4408);const R=new(k(7565).v)(d.o)},6063:(nt,De,k)=>{k.d(De,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(nt,De,k)=>{k.d(De,{z:()=>d});const d={setTimeout(K,R,...oe){const{delegate:J}=d;return(null==J?void 0:J.setTimeout)?J.setTimeout(K,R,...oe):setTimeout(K,R,...oe)},clearTimeout(K){const{delegate:R}=d;return((null==R?void 0:R.clearTimeout)||clearTimeout)(K)},delegate:void 0}},2202:(nt,De,k)=>{k.d(De,{h:()=>K});const K=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,De,k)=>{k.d(De,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(nt,De,k)=>{k.d(De,{_6:()=>pe,jO:()=>oe,yG:()=>J});var d=k(576);function R(ie){return ie[ie.length-1]}function oe(ie){return(0,d.m)(R(ie))?ie.pop():void 0}function J(ie){return function K(ie){return ie&&(0,d.m)(ie.schedule)}(R(ie))?ie.pop():void 0}function pe(ie,ce){return"number"==typeof R(ie)?ie.pop():ce}},8737:(nt,De,k)=>{function d(K,R){if(K){const oe=K.indexOf(R);0<=oe&&K.splice(oe,1)}}k.d(De,{P:()=>d})},3888:(nt,De,k)=>{function d(K){const oe=K(J=>{Error.call(J),J.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}k.d(De,{d:()=>d})},2806:(nt,De,k)=>{k.d(De,{x:()=>R,O:()=>oe});var d=k(2416);let K=null;function R(J){if(d.v.useDeprecatedSynchronousErrorHandling){const pe=!K;if(pe&&(K={errorThrown:!1,error:null}),J(),pe){const{errorThrown:ie,error:ce}=K;if(K=null,ie)throw ce}}else J()}function oe(J){d.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=J)}},9672:(nt,De,k)=>{function d(K,R,oe,J=0,pe=!1){const ie=R.schedule(function(){oe(),pe?K.add(this.schedule(null,J)):this.unsubscribe()},J);if(K.add(ie),!pe)return ie}k.d(De,{f:()=>d})},4671:(nt,De,k)=>{function d(K){return K}k.d(De,{y:()=>d})},1144:(nt,De,k)=>{k.d(De,{z:()=>d});const d=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(nt,De,k)=>{k.d(De,{D:()=>K});var d=k(576);function K(R){return Symbol.asyncIterator&&(0,d.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(nt,De,k)=>{function d(K){return"function"==typeof K}k.d(De,{m:()=>d})},3670:(nt,De,k)=>{k.d(De,{c:()=>R});var d=k(8822),K=k(576);function R(oe){return(0,K.m)(oe[d.L])}},6495:(nt,De,k)=>{k.d(De,{T:()=>R});var d=k(2202),K=k(576);function R(oe){return(0,K.m)(null==oe?void 0:oe[d.h])}},8239:(nt,De,k)=>{k.d(De,{t:()=>K});var d=k(576);function K(R){return(0,d.m)(null==R?void 0:R.then)}},3260:(nt,De,k)=>{k.d(De,{Q:()=>R,L:()=>oe});var d=k(655),K=k(576);function R(J){return(0,d.FC)(this,arguments,function*(){const ie=J.getReader();try{for(;;){const{value:ce,done:ue}=yield(0,d.qq)(ie.read());if(ue)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ce)}}finally{ie.releaseLock()}})}function oe(J){return(0,K.m)(null==J?void 0:J.getReader)}},4482:(nt,De,k)=>{k.d(De,{A:()=>K,e:()=>R});var d=k(576);function K(oe){return(0,d.m)(null==oe?void 0:oe.lift)}function R(oe){return J=>{if(K(J))return J.lift(function(pe){try{return oe(pe,this)}catch(ie){this.error(ie)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(nt,De,k)=>{k.d(De,{h:()=>R});var d=k(2416),K=k(3410);function R(oe){K.z.setTimeout(()=>{const{onUnhandledError:J}=d.v;if(!J)throw oe;J(oe)})}},4532:(nt,De,k)=>{function d(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(De,{z:()=>d})},655:(nt,De,k)=>{function oe(q,te){var ge={};for(var ne in q)Object.prototype.hasOwnProperty.call(q,ne)&&te.indexOf(ne)<0&&(ge[ne]=q[ne]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(ne=Object.getOwnPropertySymbols(q);Me<ne.length;Me++)te.indexOf(ne[Me])<0&&Object.prototype.propertyIsEnumerable.call(q,ne[Me])&&(ge[ne[Me]]=q[ne[Me]])}return ge}function ce(q,te,ge,ne){return new(ge||(ge=Promise))(function(se,wt){function Zt(dt){try{rt(ne.next(dt))}catch(on){wt(on)}}function Sn(dt){try{rt(ne.throw(dt))}catch(on){wt(on)}}function rt(dt){dt.done?se(dt.value):function Me(se){return se instanceof ge?se:new ge(function(wt){wt(se)})}(dt.value).then(Zt,Sn)}rt((ne=ne.apply(q,te||[])).next())})}function de(q){return this instanceof de?(this.v=q,this):new de(q)}function we(q,te,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ne=ge.apply(q,te||[]),se=[];return Me={},wt("next"),wt("throw"),wt("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function wt(an){ne[an]&&(Me[an]=function(wi){return new Promise(function(Xt,ji){se.push([an,wi,Xt,ji])>1||Zt(an,wi)})})}function Zt(an,wi){try{!function Sn(an){an.value instanceof de?Promise.resolve(an.value.v).then(rt,dt):on(se[0][2],an)}(ne[an](wi))}catch(Xt){on(se[0][3],Xt)}}function rt(an){Zt("next",an)}function dt(an){Zt("throw",an)}function on(an,wi){an(wi),se.shift(),se.length&&Zt(se[0][0],se[0][1])}}function Ge(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,te=q[Symbol.asyncIterator];return te?te.call(q):(q=function Q(q){var te="function"==typeof Symbol&&Symbol.iterator,ge=te&&q[te],ne=0;if(ge)return ge.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&ne>=q.length&&(q=void 0),{value:q&&q[ne++],done:!q}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),ge={},ne("next"),ne("throw"),ne("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ne(se){ge[se]=q[se]&&function(wt){return new Promise(function(Zt,Sn){!function Me(se,wt,Zt,Sn){Promise.resolve(Sn).then(function(rt){se({value:rt,done:Zt})},wt)}(Zt,Sn,(wt=q[se](wt)).done,wt.value)})}}}k.d(De,{_T:()=>oe,mG:()=>ce,qq:()=>de,FC:()=>we,KL:()=>Ge})},5e3:(nt,De,k)=>{k.d(De,{deG:()=>od,tb:()=>Za,AFp:()=>jm,ip1:()=>el,CZH:()=>Bm,hGG:()=>cD,z2F:()=>Qm,sBO:()=>XI,Sil:()=>jv,_Vd:()=>bm,EJc:()=>Ac,SBq:()=>Yf,qLn:()=>wr,vpe:()=>cn,tBr:()=>_r,XFs:()=>st,OlP:()=>Dn,zs3:()=>Ko,ZZ4:()=>ny,aQg:()=>Jv,soG:()=>_h,YKP:()=>Jf,h0i:()=>Ic,PXZ:()=>Wm,R0b:()=>fs,FiY:()=>vr,Lbi:()=>Hm,g9A:()=>$m,Qsj:()=>RE,FYo:()=>ea,JOm:()=>re,tp0:()=>ss,Rgc:()=>fn,dDg:()=>Wa,q4F:()=>Tm,GfV:()=>Dm,s_b:()=>Om,ifc:()=>Ut,eFA:()=>qv,G48:()=>Zv,Gpc:()=>j,X6Q:()=>Mc,_c5:()=>lD,VLi:()=>YI,c2e:()=>pb,zSh:()=>Tg,wAp:()=>gt,vHH:()=>xe,cg1:()=>Wu,kL8:()=>sE,dqk:()=>Ft,sIi:()=>Tf,CqO:()=>L_,QGY:()=>Wd,F4k:()=>Kd,RDi:()=>Wi,AaK:()=>ce,qOj:()=>Ld,TTD:()=>Js,_Bn:()=>SE,xp6:()=>Jl,uIk:()=>Af,ekj:()=>Xg,Suo:()=>Tr,Xpm:()=>Mt,lG2:()=>qt,Yz7:()=>Xt,cJS:()=>Wt,oAB:()=>Y,Yjl:()=>fr,Y36:()=>Fa,_UZ:()=>Nf,qZA:()=>Rf,TgZ:()=>uc,EpF:()=>$g,n5z:()=>Ol,LFG:()=>Je,$8M:()=>va,$Z:()=>F_,NdJ:()=>V_,CRH:()=>Fm,kcU:()=>_y,O4$:()=>Xc,oxw:()=>B_,ALo:()=>Dv,lcZ:()=>fh,Q6J:()=>Jr,s9C:()=>Yd,DdM:()=>wv,iGM:()=>xv,CHM:()=>hl,LSH:()=>wd,B6R:()=>U,YNc:()=>M_,_uU:()=>nh,Oqu:()=>gc,hij:()=>tm});var d=k(7579),K=k(727),R=k(8306),oe=k(6451),J=k(3099);function pe(i){for(let s in i)if(i[s]===pe)return s;throw Error("Could not find renamed property on target object.")}function ie(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ce(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ce).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ue(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const B=pe({__forward_ref__:pe});function j(i){return i.__forward_ref__=j,i.toString=function(){return ce(this())},i}function Q(i){return $e(i)?i():i}function $e(i){return"function"==typeof i&&i.hasOwnProperty(B)&&i.__forward_ref__===j}class xe extends Error{constructor(s,a){super(function Ne(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function de(i){return"string"==typeof i?i:null==i?"":String(i)}function we(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():de(i)}function _e(i,s){const a=s?` in ${s}`:"";throw new xe(-201,`No provider for ${we(i)} found${a}`)}function rt(i,s){null==i&&function dt(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Xt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Wt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Vt(i){return tr(i,xi)||tr(i,$i)}function tr(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ar(i){return i&&(i.hasOwnProperty(Sr)||i.hasOwnProperty(Hi))?i[Sr]:null}const xi=pe({\u0275prov:pe}),Sr=pe({\u0275inj:pe}),$i=pe({ngInjectableDef:pe}),Hi=pe({ngInjectorDef:pe});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Lr;function Vn(i){const s=Lr;return Lr=i,s}function ii(i,s,a){const l=Vt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&st.Optional?null:void 0!==s?s:void _e(ce(i),"Injector")}function pn(i){return{toString:i}.toString()}var Zn=(()=>((Zn=Zn||{})[Zn.OnPush=0]="OnPush",Zn[Zn.Default=1]="Default",Zn))(),Ut=(()=>{return(i=Ut||(Ut={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ut;var i})();const et="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,nr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ft=et||"undefined"!=typeof global&&global||mt||nr,rr={},ot=[],hr=pe({\u0275cmp:pe}),Pt=pe({\u0275dir:pe}),ze=pe({\u0275pipe:pe}),Ie=pe({\u0275mod:pe}),Ze=pe({\u0275fac:pe}),at=pe({__NG_ELEMENT_ID__:pe});let Nt=0;function Mt(i){return pn(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Zn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||ot,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ut.Emulated,id:"c",styles:i.styles||ot,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,g=i.features,_=i.pipes;return l.id+=Nt++,l.inputs=ht(i.inputs,a),l.outputs=ht(i.outputs),g&&g.forEach(w=>w(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(L):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map($):null,l})}function U(i,s,a){const l=i.\u0275cmp;l.directiveDefs=()=>s.map(L),l.pipeDefs=()=>a.map($)}function L(i){return Bt(i)||function Cn(i){return i[Pt]||null}(i)}function $(i){return function Dt(i){return i[ze]||null}(i)}const le={};function Y(i){return pn(()=>{const s={type:i.type,bootstrap:i.bootstrap||ot,declarations:i.declarations||ot,imports:i.imports||ot,exports:i.exports||ot,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(le[i.id]=i.type),s})}function ht(i,s){if(null==i)return rr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],g=c;Array.isArray(c)&&(g=c[1],c=c[0]),a[c]=l,s&&(s[c]=g)}return a}const qt=Mt;function fr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Bt(i){return i[hr]||null}function un(i,s){const a=i[Ie]||null;if(!a&&!0===s)throw new Error(`Type ${ce(i)} does not have '\u0275mod' property.`);return a}function Ei(i){return Array.isArray(i)&&"object"==typeof i[1]}function oi(i){return Array.isArray(i)&&!0===i[1]}function Vc(i){return 0!=(8&i.flags)}function Is(i){return 2==(2&i.flags)}function iu(i){return 1==(1&i.flags)}function Vr(i){return null!==i.template}function Mh(i){return 0!=(512&i[2])}function Ur(i,s){return i.hasOwnProperty(Ze)?i[Ze]:null}class Po{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Js(){return ca}function ca(i){return i.type.prototype.ngOnChanges&&(i.setInput=Mp),qc}function qc(){const i=As(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===rr)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Mp(i,s,a,l){const c=As(i)||function ai(i,s){return i[Ro]=s}(i,{previous:rr,current:null}),g=c.current||(c.current={}),_=c.previous,w=this.declaredInputs[a],b=_[w];g[w]=new Po(b&&b.currentValue,s,_===rr),i[l]=s}Js.ngInherit=!0;const Ro="__ngSimpleChanges__";function As(i){return i[Ro]||null}let du;function Wi(i){du=i}function dn(i){return!!i.listen}const No={createRenderer:(i,s)=>function da(){return void 0!==du?du:"undefined"!=typeof document?document:void 0}()};function nn(i){for(;Array.isArray(i);)i=i[0];return i}function eo(i,s){return nn(s[i])}function pr(i,s){return nn(s[i.index])}function ha(i,s){return i.data[s]}function gr(i,s){const a=s[i];return Ei(a)?a:a[0]}function Ms(i){return 4==(4&i[2])}function Ki(i){return 128==(128&i[2])}function jr(i,s){return null==s?null:i[s]}function xs(i){i[18]=0}function Os(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const ut={lFrame:no(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function mu(){return ut.bindingsEnabled}function Ee(){return ut.lFrame.lView}function xt(){return ut.lFrame.tView}function hl(i){return ut.lFrame.contextLView=i,i[8]}function mn(){let i=ko();for(;null!==i&&64===i.type;)i=i.parent;return i}function ko(){return ut.lFrame.currentTNode}function $r(i,s){const a=ut.lFrame;a.currentTNode=i,a.isParent=s}function fl(){return ut.lFrame.isParent}function yu(){return ut.isInCheckNoChangesMode}function Ps(i){ut.isInCheckNoChangesMode=i}function or(){const i=ut.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Rs(){return ut.lFrame.bindingIndex++}function wu(i,s){const a=ut.lFrame;a.bindingIndex=a.bindingRootIndex=i,pa(s)}function pa(i){ut.lFrame.currentDirectiveIndex=i}function _l(){return ut.lFrame.currentQueryIndex}function vl(i){ut.lFrame.currentQueryIndex=i}function Kc(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function wl(i,s,a){if(a&st.SkipSelf){let c=s,g=i;for(;!(c=c.parent,null!==c||a&st.Host||(c=Kc(g),null===c||(g=g[15],10&c.type))););if(null===c)return!1;s=c,i=g}const l=ut.lFrame=Yc();return l.currentTNode=s,l.lView=i,!0}function to(i){const s=Yc(),a=i[1];ut.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Yc(){const i=ut.lFrame,s=null===i?null:i.child;return null===s?no(i):s}function no(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Qc(){const i=ut.lFrame;return ut.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Jc=Qc;function ro(){const i=Qc();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function mr(){return ut.lFrame.selectedIndex}function ks(i){ut.lFrame.selectedIndex=i}function In(){const i=ut.lFrame;return ha(i.tView,i.selectedIndex)}function Xc(){ut.lFrame.currentNamespace="svg"}function _y(){!function bl(){ut.lFrame.currentNamespace=null}()}function Yi(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:S}=g;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),A&&((i.viewHooks||(i.viewHooks=[])).push(a,A),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,A)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function ma(i,s,a){ed(i,s,3,a)}function Eu(i,s,a,l){(3&i[2])===a&&ed(i,s,a,l)}function Fn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function ed(i,s,a,l){const g=null!=l?l:-1,_=s.length-1;let w=0;for(let b=void 0!==l?65535&i[18]:0;b<_;b++)if("number"==typeof s[b+1]){if(w=s[b],null!=l&&w>=l)break}else s[b]<0&&(i[18]+=65536),(w<g||-1==g)&&(xp(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function xp(i,s,a,l){const c=a[l]<0,g=a[l+1],w=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{g.call(w)}finally{}}}else try{g.call(w)}finally{}}class Lo{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Dl(i,s,a){const l=dn(i);let c=0;for(;c<a.length;){const g=a[c];if("number"==typeof g){if(0!==g)break;c++;const _=a[c++],w=a[c++],b=a[c++];l?i.setAttribute(s,w,b,_):s.setAttributeNS(_,w,b)}else{const _=g,w=a[++c];Tl(_)?l&&i.setProperty(s,_,w):l?i.setAttribute(s,_,w):s.setAttribute(_,w),c++}}return c}function Ji(i){return 3===i||4===i||6===i}function Tl(i){return 64===i.charCodeAt(0)}function ya(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||so(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function so(i,s,a,l,c){let g=0,_=i.length;if(-1===s)_=-1;else for(;g<i.length;){const w=i[g++];if("number"==typeof w){if(w===s){_=-1;break}if(w>s){_=g-1;break}}}for(;g<i.length;){const w=i[g];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==c&&(i[g+1]=c));if(l===i[g+1])return void(i[g+2]=c)}g++,null!==l&&g++,null!==c&&g++}-1!==_&&(i.splice(_,0,s),g=_+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==c&&i.splice(g++,0,c)}function rd(i){return-1!==i}function Yt(i){return 32767&i}function _n(i,s){let a=function Vo(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let It=!0;function Fs(i){const s=It;return It=i,s}let Rh=0;function li(i,s){const a=Uo(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Bn(l.data,i),Bn(s,null),Bn(l.blueprint,null));const c=Hr(i,s),g=i.injectorIndex;if(rd(c)){const _=Yt(c),w=_n(c,s),b=w[1].data;for(let A=0;A<8;A++)s[g+A]=w[_+A]|b[_+A]}return s[g+8]=c,g}function Bn(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Uo(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Hr(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const g=c[1],_=g.type;if(l=2===_?g.declTNode:1===_?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function ao(i,s,a){!function oo(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(at)&&(l=a[at]),null==l&&(l=a[at]=Rh++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function uo(i,s,a){if(a&st.Optional)return i;_e(s,"NodeInjector")}function Xi(i,s,a,l){if(a&st.Optional&&void 0===l&&(l=null),0==(a&(st.Self|st.Host))){const c=i[9],g=Vn(void 0);try{return c?c.get(s,l,a&st.Optional):ii(s,l,a&st.Optional)}finally{Vn(g)}}return uo(l,s,a)}function ci(i,s,a,l=st.Default,c){if(null!==i){const g=function id(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(at)?i[at]:void 0;return"number"==typeof s?s>=0?255&s:jn:s}(a);if("function"==typeof g){if(!wl(s,i,l))return l&st.Host?uo(c,a,l):Xi(s,a,l,c);try{const _=g(l);if(null!=_||l&st.Optional)return _;_e(a)}finally{Jc()}}else if("number"==typeof g){let _=null,w=Uo(i,s),b=-1,A=l&st.Host?s[16][6]:null;for((-1===w||l&st.SkipSelf)&&(b=-1===w?Hr(i,s):s[w+8],-1!==b&&xl(l,!1)?(_=s[1],w=Yt(b),s=_n(b,s)):w=-1);-1!==w;){const S=s[1];if(_a(g,w,S.data)){const N=lo(w,s,a,_,l,A);if(N!==Ls)return N}b=s[w+8],-1!==b&&xl(l,s[1].data[w+8]===A)&&_a(g,w,s)?(_=S,w=Yt(b),s=_n(b,s)):w=-1}}}return Xi(s,a,l,c)}const Ls={};function jn(){return new Ii(mn(),Ee())}function lo(i,s,a,l,c,g){const _=s[1],w=_.data[i+8],S=Ml(w,_,a,null==l?Is(w)&&It:l!=_&&0!=(3&w.type),c&st.Host&&g===w);return null!==S?es(s,_,S,w):Ls}function Ml(i,s,a,l,c){const g=i.providerIndexes,_=s.data,w=1048575&g,b=i.directiveStart,S=g>>20,V=c?w+S:i.directiveEnd;for(let Z=l?w:w+S;Z<V;Z++){const ye=_[Z];if(Z<b&&a===ye||Z>=b&&ye.type===a)return Z}if(c){const Z=_[b];if(Z&&Vr(Z)&&Z.type===a)return b}return null}function es(i,s,a,l){let c=i[a];const g=s.data;if(function td(i){return i instanceof Lo}(c)){const _=c;_.resolving&&function We(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new xe(-200,`Circular dependency in DI detected for ${i}${a}`)}(we(g[a]));const w=Fs(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?Vn(_.injectImpl):null;wl(i,l,st.Default);try{c=i[a]=_.factory(void 0,g,i,l),s.firstCreatePass&&a>=l.directiveStart&&function Cl(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:g}=s.type.prototype;if(l){const _=ca(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],s)}finally{null!==b&&Vn(b),Fs(w),_.resolving=!1,Jc()}}return c}function _a(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function xl(i,s){return!(i&st.Self||i&st.Host&&s)}class Ii{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return ci(this._tNode,this._lView,s,l,a)}}function Ol(i){return pn(()=>{const s=i.prototype.constructor,a=s[Ze]||co(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const g=c[Ze]||co(c);if(g&&g!==a)return g;c=Object.getPrototypeOf(c)}return g=>new g})}function co(i){return $e(i)?()=>{const s=co(Q(i));return s&&s()}:Ur(i)}function va(i){return function Sl(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const g=a[c];if(Ji(g))break;if(0===g)c+=2;else if("number"==typeof g)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(g===s)return a[c+1];c+=2}}}return null}(mn(),i)}const ns="__parameters__";function ho(i,s,a){return pn(()=>{const l=function Cu(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}(s);function c(...g){if(this instanceof c)return l.apply(this,g),this;const _=new c(...g);return w.annotation=_,w;function w(b,A,S){const N=b.hasOwnProperty(ns)?b[ns]:Object.defineProperty(b,ns,{value:[]})[ns];for(;N.length<=S;)N.push(null);return(N[S]=N[S]||[]).push(_),b}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Dn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Xt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const od=new Dn("AnalyzeForEntryComponents");function Or(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Or(l,s)):s!==i&&s.push(l)}return s}function Di(i,s){i.forEach(a=>Array.isArray(a)?Di(a,s):s(a))}function Bo(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function hi(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function fi(i,s,a){let l=ba(i,s);return l>=0?i[1|l]=a:(l=~l,function Ea(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Vh(i,s){const a=ba(i,s);if(a>=0)return i[1|a]}function ba(i,s){return function fo(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const g=l+(c-l>>1),_=i[g<<a];if(s===_)return g<<a;_>s?c=g:l=g+1}return~(c<<a)}(i,s,1)}const is={},Vs="__NG_DI_FLAG__",kl="ngTempTokenPath",I=/\n/gm,F="__source",z=pe({provide:String,useValue:pe});let X;function Se(i){const s=X;return X=i,s}function qe(i,s=st.Default){if(void 0===X)throw new xe(203,"");return null===X?ii(i,void 0,s):X.get(i,s&st.Optional?null:void 0,s)}function Je(i,s=st.Default){return(function zn(){return Lr}()||qe)(Q(i),s)}const kt=Je;function vt(i){const s=[];for(let a=0;a<i.length;a++){const l=Q(i[a]);if(Array.isArray(l)){if(0===l.length)throw new xe(900,"");let c,g=st.Default;for(let _=0;_<l.length;_++){const w=l[_],b=En(w);"number"==typeof b?-1===b?c=w.token:g|=b:c=w}s.push(Je(c,g))}else s.push(Je(l))}return s}function Kn(i,s){return i[Vs]=s,i.prototype[Vs]=s,i}function En(i){return i[Vs]}const _r=Kn(ho("Inject",i=>({token:i})),-1),vr=Kn(ho("Optional"),8),ss=Kn(ho("SkipSelf"),4);class Lp{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function os(i){return i instanceof Lp?i.changingThisBreaksApplicationSecurity:i}const Ho=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$l=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var $n=(()=>(($n=$n||{})[$n.NONE=0]="NONE",$n[$n.HTML=1]="HTML",$n[$n.STYLE=2]="STYLE",$n[$n.SCRIPT=3]="SCRIPT",$n[$n.URL=4]="URL",$n[$n.RESOURCE_URL=5]="RESOURCE_URL",$n))();function wd(i){const s=function Ed(){const i=Ee();return i&&i[12]}();return s?s.sanitize($n.URL,i)||"":function jl(i,s){const a=function Zh(i){return i instanceof Lp&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?os(i):function xu(i){return(i=String(i)).match(Ho)||i.match($l)?i:"unsafe:"+i}(de(i))}const Bs="__ngContext__";function gn(i,s){i[Bs]=s}function rf(i){const s=function as(i){return i[Bs]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Id(i){return i.ngOriginalError}function uf(i,...s){i.error(...s)}class wr{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function Ai(i){return i&&i.ngErrorLogger||uf}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Id(s);for(;a&&Id(a);)a=Id(a);return a||null}}const Qp=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ft))();function p(i){return i instanceof Function?i():i}var re=(()=>((re=re||{})[re.Important=1]="Important",re[re.DashCase=2]="DashCase",re))();function Ke(i,s){return undefined(i,s)}function Tn(i){const s=i[3];return oi(s)?s[3]:s}function Wl(i){return cf(i[13])}function Kl(i){return cf(i[4])}function cf(i){for(;null!==i&&!oi(i);)i=i[4];return i}function Go(i,s,a,l,c){if(null!=l){let g,_=!1;oi(l)?g=l:Ei(l)&&(_=!0,l=l[0]);const w=nn(l);0===i&&null!==a?null==c?Vy(s,a,w):Nu(s,a,w,c||null,!0):1===i&&null!==a?Nu(s,a,w,c||null,!0):2===i?function By(i,s,a){const l=tg(i,s);l&&function S0(i,s,a,l){dn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,w,_):3===i&&s.destroyNode(w),null!=g&&function ig(i,s,a,l,c){const g=a[7];g!==nn(a)&&Go(s,i,l,g,c);for(let w=10;w<a.length;w++){const b=a[w];Fu(b[1],b,i,s,l,g)}}(s,i,g,a,c)}}function Eo(i,s,a){if(dn(i))return i.createElement(s,a);{const l=null!==a?function cu(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function Fy(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,Os(c,-1)),a.splice(l,1)}function eg(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&Fy(c,l),s>0&&(i[a-1][4]=l[4]);const g=hi(i,10+s);!function Xp(i,s){Fu(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const _=g[19];null!==_&&_.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Ly(i,s){if(!(256&s[2])){const a=s[11];dn(a)&&a.destroyNode&&Fu(i,s,a,3,null,null),function oC(i){let s=i[13];if(!s)return I0(i[1],i);for(;s;){let a=null;if(Ei(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)Ei(s)&&I0(s[1],s),s=s[3];null===s&&(s=i),Ei(s)&&I0(s[1],s),a=s&&s[4]}s=a}}(s)}}function I0(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function zo(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof Lo)){const g=a[l+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const w=c[g[_]],b=g[_+1];try{b.call(w)}finally{}}else try{g.call(c)}finally{}}}}(i,s),function Wr(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const _=a[g+1],w="function"==typeof _?_(s):nn(s[_]),b=l[c=a[g+2]],A=a[g+3];"boolean"==typeof A?w.removeEventListener(a[g],b,A):A>=0?l[c=A]():l[c=-A].unsubscribe(),g+=2}else{const _=l[c=a[g+1]];a[g].call(_)}if(null!==l){for(let g=c+1;g<l.length;g++)l[g]();s[7]=null}}(i,s),1===s[1].type&&dn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&oi(s[3])){a!==s[3]&&Fy(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function D0(i,s,a){return function T0(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===Ut.None||c===Ut.Emulated)return null}return pr(l,a)}(i,s.parent,a)}function Nu(i,s,a,l,c){dn(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function Vy(i,s,a){dn(i)?i.appendChild(s,a):s.appendChild(a)}function A0(i,s,a,l,c){null!==l?Nu(i,s,a,l,c):Vy(i,s,a)}function tg(i,s){return dn(i)?i.parentNode(s):s.parentNode}let ku=function hf(i,s,a){return 40&i.type?pr(i,a):null};function ng(i,s,a,l){const c=D0(i,l,s),g=s[11],w=function Uy(i,s,a){return ku(i,s,a)}(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let b=0;b<a.length;b++)A0(g,c,a[b],w,!1);else A0(g,c,a,w,!1)}function Zo(i,s){if(null!==s){const a=s.type;if(3&a)return pr(s,i);if(4&a)return rg(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Zo(i,l);{const c=i[s.index];return oi(c)?rg(-1,c):nn(c)}}if(32&a)return Ke(s,i)()||nn(i[s.index]);{const l=x0(i,s);return null!==l?Array.isArray(l)?l[0]:Zo(Tn(i[16]),l):Zo(i,s.next)}}return null}function x0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function rg(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return Zo(l,c)}return s[7]}function jy(i,s,a,l,c,g,_){for(;null!=a;){const w=l[a.index],b=a.type;if(_&&0===s&&(w&&gn(nn(w),l),a.flags|=4),64!=(64&a.flags))if(8&b)jy(i,s,a.child,l,c,g,!1),Go(s,i,c,w,g);else if(32&b){const A=Ke(a,l);let S;for(;S=A();)Go(s,i,c,S,g);Go(s,i,c,w,g)}else 16&b?$y(i,s,l,a,c,g):Go(s,i,c,w,g);a=_?a.projectionNext:a.next}}function Fu(i,s,a,l,c,g){jy(a,l,i.firstChild,s,c,g,!1)}function $y(i,s,a,l,c,g){const _=a[16],b=_[6].projection[l.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)Go(s,i,c,b[A],g);else jy(i,s,b,_[3],c,g,!0)}function sg(i,s,a){dn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Ad(i,s,a){dn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Hy(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const g=s.length;if(c+g===l||i.charCodeAt(c+g)<=32)return c}a=c+1}}const O0="ng-template";function cC(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==Hy(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function P0(i){return 4===i.type&&i.value!==O0}function og(i,s,a){return s===(4!==i.type||a?i.value:O0)}function dC(i,s,a){let l=4;const c=i.attrs||[],g=function N0(i){for(let s=0;s<i.length;s++)if(Ji(i[s]))return s;return i.length}(c);let _=!1;for(let w=0;w<s.length;w++){const b=s[w];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!og(i,b,a)||""===b&&1===s.length){if(bo(l))return!1;_=!0}}else{const A=8&l?b:s[++w];if(8&l&&null!==i.attrs){if(!cC(i.attrs,A,a)){if(bo(l))return!1;_=!0}continue}const N=hC(8&l?"class":b,c,P0(i),a);if(-1===N){if(bo(l))return!1;_=!0;continue}if(""!==A){let V;V=N>g?"":c[N+1].toLowerCase();const Z=8&l?V:null;if(Z&&-1!==Hy(Z,A,0)||2&l&&A!==V){if(bo(l))return!1;_=!0}}}}else{if(!_&&!bo(l)&&!bo(b))return!1;if(_&&bo(b))continue;_=!1,l=b|1&l}}return bo(l)||_}function bo(i){return 0==(1&i)}function hC(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let g=!1;for(;c<s.length;){const _=s[c];if(_===i)return c;if(3===_||6===_)g=!0;else{if(1===_||2===_){let w=s[++c];for(;"string"==typeof w;)w=s[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=g?1:2}return-1}return function Gy(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function R0(i,s,a=!1){for(let l=0;l<s.length;l++)if(dC(i,s[l],a))return!0;return!1}function Wo(i,s){return i?":not("+s.trim()+")":s}function Sd(i){let s=i[0],a=1,l=2,c="",g=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const w=i[++a];c+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?c+="."+_:4&l&&(c+=" "+_);else""!==c&&!bo(_)&&(s+=Wo(g,c),c=""),l=_,g=g||!bo(l);a++}return""!==c&&(s+=Wo(g,c)),s}const Tt={};function Jl(i){zy(xt(),Ee(),mr()+i,yu())}function zy(i,s,a,l){if(!l)if(3==(3&s[2])){const g=i.preOrderCheckHooks;null!==g&&ma(s,g,a)}else{const g=i.preOrderHooks;null!==g&&Eu(s,g,0,a)}ks(a)}function Xl(i,s){return i<<17|s<<2}function js(i){return i>>17&32767}function pf(i){return 2|i}function Co(i){return(131068&i)>>2}function Zy(i,s){return-131069&i|s<<2}function Wy(i){return 1|i}function _f(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],g=a[l+1];if(-1!==g){const _=i.data[g];vl(c),_.contentQueries(2,s[g],g)}}}function vf(i,s,a,l,c,g,_,w,b,A){const S=s.blueprint.slice();return S[0]=c,S[2]=140|l,xs(S),S[3]=S[15]=i,S[8]=a,S[10]=_||i&&i[10],S[11]=w||i&&i[11],S[12]=b||i&&i[12]||null,S[9]=A||i&&i[9]||null,S[6]=g,S[16]=2==s.type?i[16]:S,S}function Pd(i,s,a,l,c){let g=i.data[s];if(null===g)g=function i_(i,s,a,l,c){const g=ko(),_=fl(),b=i.data[s]=function _g(i,s,a,l,c,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=b),null!==g&&(_?null==g.child&&null!==b.parent&&(g.child=b):null===g.next&&(g.next=b)),b}(i,s,a,l,c),function ml(){return ut.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=c;const _=function Fo(){const i=ut.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return $r(g,!0),g}function xa(i,s,a,l){if(0===a)return-1;const c=s.length;for(let g=0;g<a;g++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function Rd(i,s,a){to(s);try{const l=i.viewQuery;null!==l&&d_(1,l,a);const c=i.template;null!==c&&s_(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&_f(i,s),i.staticViewQueries&&d_(2,i.viewQuery,a);const g=i.components;null!==g&&function vC(i,s){for(let a=0;a<s.length;a++)RC(i,s[a])}(s,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,ro()}}function tc(i,s,a,l){const c=s[2];if(256==(256&c))return;to(s);const g=yu();try{xs(s),function _u(i){return ut.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&s_(i,s,a,2,l);const _=3==(3&c);if(!g)if(_){const A=i.preOrderCheckHooks;null!==A&&ma(s,A,null)}else{const A=i.preOrderHooks;null!==A&&Eu(s,A,0,null),Fn(s,0)}if(function OC(i){for(let s=Wl(i);null!==s;s=Kl(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],g=c[3];0==(1024&c[2])&&Os(g,1),c[2]|=1024}}}(s),function xC(i){for(let s=Wl(i);null!==s;s=Kl(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];Ki(l)&&tc(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&_f(i,s),!g)if(_){const A=i.contentCheckHooks;null!==A&&ma(s,A)}else{const A=i.contentHooks;null!==A&&Eu(s,A,1),Fn(s,1)}!function H0(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)ks(~c);else{const g=c,_=a[++l],w=a[++l];wu(_,g),w(2,s[g])}}}finally{ks(-1)}}(i,s);const w=i.components;null!==w&&function pg(i,s){for(let a=0;a<s.length;a++)PC(i,s[a])}(s,w);const b=i.viewQuery;if(null!==b&&d_(2,b,l),!g)if(_){const A=i.viewCheckHooks;null!==A&&ma(s,A)}else{const A=i.viewHooks;null!==A&&Eu(s,A,2),Fn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),g||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Os(s[3],-1))}finally{ro()}}function gg(i,s,a,l){const c=s[10],g=!yu(),_=Ms(s);try{g&&!_&&c.begin&&c.begin(),_&&Rd(i,s,l),tc(i,s,a,l)}finally{g&&!_&&c.end&&c.end()}}function s_(i,s,a,l,c){const g=mr(),_=2&l;try{ks(-1),_&&s.length>20&&zy(i,s,20,yu()),a(l,c)}finally{ks(g)}}function mg(i,s,a){!mu()||(function DC(i,s,a,l){const c=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||li(a,s),gn(l,s);const _=a.initialInputs;for(let w=c;w<g;w++){const b=i.data[w],A=Vr(b);A&&nw(s,a,b);const S=es(s,i,w,a);gn(S,s),null!==_&&rw(0,w-c,S,b,0,_),A&&(gr(a.index,s)[8]=S)}}(i,s,a,pr(a,s)),128==(128&a.flags)&&function TC(i,s,a){const l=a.directiveStart,c=a.directiveEnd,_=a.index,w=function yl(){return ut.lFrame.currentDirectiveIndex}();try{ks(_);for(let b=l;b<c;b++){const A=i.data[b],S=s[b];pa(b),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Q0(A,S)}}finally{ks(-1),pa(w)}}(i,s,a))}function o_(i,s,a=pr){const l=s.localNames;if(null!==l){let c=s.index+1;for(let g=0;g<l.length;g+=2){const _=l[g+1],w=-1===_?a(s,i):i[_];i[c++]=w}}}function G0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=yg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function yg(i,s,a,l,c,g,_,w,b,A){const S=20+l,N=S+c,V=function wC(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:Tt);return a}(S,N),Z="function"==typeof A?A():A;return V[1]={type:i,blueprint:V,template:a,queries:null,viewQuery:w,declTNode:s,data:V.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:Z,incompleteFirstPass:!1}}function a_(i,s,a,l){const c=aw(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&br(i).push(l,c.length-1))}function W0(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function ls(i,s,a,l,c,g,_,w){const b=pr(s,a);let S,A=s.inputs;!w&&null!=A&&(S=A[l])?(Dg(i,a,S,l,c),Is(s)&&function wf(i,s){const a=gr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function vg(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=_?_(c,s.value||"",l):c,dn(g)?g.setProperty(b,l,c):Tl(l)||(b.setProperty?b.setProperty(l,c):b[l]=c))}function u_(i,s,a,l){let c=!1;if(mu()){const g=function J0(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let g=0;g<l.length;g++){const _=l[g];R0(a,_.selectors,!1)&&(c||(c=[]),ao(li(a,s),i,_.type),Vr(_)?(X0(i,a),c.unshift(_)):c.push(_))}return c}(i,s,a),_=null===l?null:{"":-1};if(null!==g){c=!0,ew(a,i.data.length,g.length);for(let S=0;S<g.length;S++){const N=g[S];N.providersResolver&&N.providersResolver(N)}let w=!1,b=!1,A=xa(i,s,g.length,null);for(let S=0;S<g.length;S++){const N=g[S];a.mergedAttrs=ya(a.mergedAttrs,N.hostAttrs),tw(i,a,s,A,N),SC(A,N,_),null!==N.contentQueries&&(a.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=128);const V=N.type.prototype;!w&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),w=!0),!b&&(V.ngOnChanges||V.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),A++}!function EC(i,s){const l=s.directiveEnd,c=i.data,g=s.attrs,_=[];let w=null,b=null;for(let A=s.directiveStart;A<l;A++){const S=c[A],N=S.inputs,V=null===g||P0(s)?null:iw(N,g);_.push(V),w=W0(N,A,w),b=W0(S.outputs,A,b)}null!==w&&(w.hasOwnProperty("class")&&(s.flags|=16),w.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=w,s.outputs=b}(i,a)}_&&function AC(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const g=a[s[c+1]];if(null==g)throw new xe(-301,!1);l.push(s[c],g)}}}(a,l,_)}return a.mergedAttrs=ya(a.mergedAttrs,a.attrs),c}function Y0(i,s,a,l,c,g){const _=g.hostBindings;if(_){let w=i.hostBindingOpCodes;null===w&&(w=i.hostBindingOpCodes=[]);const b=~s.index;(function IC(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(w)!=b&&w.push(b),w.push(l,c,_)}}function Q0(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function X0(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function SC(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;Vr(s)&&(a[""]=i)}}function ew(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function tw(i,s,a,l,c){i.data[l]=c;const g=c.factory||(c.factory=Ur(c.type)),_=new Lo(g,Vr(c),null);i.blueprint[l]=_,a[l]=_,Y0(i,s,0,l,xa(i,a,c.hostVars,Tt),c)}function nw(i,s,a){const l=pr(s,i),c=G0(a),g=i[10],_=Cg(i,vf(i,c,null,a.onPush?64:16,l,s,g,g.createRenderer(l,a),null,null));i[s.index]=_}function Oa(i,s,a,l,c,g){const _=pr(i,s);!function Eg(i,s,a,l,c,g,_){if(null==g)dn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const w=null==_?de(g):_(g,l||"",c);dn(i)?i.setAttribute(s,c,w,a):a?s.setAttributeNS(a,c,w):s.setAttribute(c,w)}}(s[11],_,g,i.value,a,l,c)}function rw(i,s,a,l,c,g){const _=g[s];if(null!==_){const w=l.setInput;for(let b=0;b<_.length;){const A=_[b++],S=_[b++],N=_[b++];null!==w?l.setInput(a,N,A,S):a[S]=N}}}function iw(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function sw(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function PC(i,s){const a=gr(s,i);if(Ki(a)){const l=a[1];80&a[2]?tc(l,a,l.template,a[8]):a[5]>0&&bg(a)}}function bg(i){for(let l=Wl(i);null!==l;l=Kl(l))for(let c=10;c<l.length;c++){const g=l[c];if(1024&g[2]){const _=g[1];tc(_,g,_.template,g[8])}else g[5]>0&&bg(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=gr(a[l],i);Ki(c)&&c[5]>0&&bg(c)}}function RC(i,s){const a=gr(s,i),l=a[1];(function l_(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Rd(l,a,a[8])}function Cg(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function c_(i){for(;i;){i[2]|=64;const s=Tn(i);if(Mh(i)&&!s)return i;i=s}return null}function Ig(i,s,a){const l=s[10];l.begin&&l.begin();try{tc(i,s,i.template,a)}catch(c){throw h_(s,c),c}finally{l.end&&l.end()}}function ow(i){!function Ef(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=rf(a),c=l[1];gg(c,l,c.template,a)}}(i[8])}function d_(i,s,a){vl(0),s(i,a)}const VC=(()=>Promise.resolve(null))();function aw(i){return i[7]||(i[7]=[])}function br(i){return i.cleanup||(i.cleanup=[])}function h_(i,s){const a=i[9],l=a?a.get(wr,null):null;l&&l.handleError(s)}function Dg(i,s,a,l,c){for(let g=0;g<a.length;){const _=a[g++],w=a[g++],b=s[_],A=i.data[_];null!==A.setInput?A.setInput(b,c,l,w):b[w]=c}}function Gs(i,s,a){const l=eo(s,i);!function Ot(i,s,a){dn(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function Pa(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,g=0;if(null!==s)for(let _=0;_<s.length;_++){const w=s[_];"number"==typeof w?g=w:1==g?c=ue(c,w):2==g&&(l=ue(l,w+": "+s[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}const f_=new Dn("INJECTOR",-1);class p_{get(s,a=is){if(a===is){const l=new Error(`NullInjectorError: No provider for ${ce(s)}!`);throw l.name="NullInjectorError",l}return a}}const Tg=new Dn("Set Injector scope."),nc={},aA={};let Ra;function g_(){return void 0===Ra&&(Ra=new p_),Ra}function lw(i,s=null,a=null,l){const c=cw(i,s,a,l);return c._resolveInjectorDefTypes(),c}function cw(i,s=null,a=null,l){return new dw(i,a,s||g_(),l)}class dw{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];a&&Di(a,w=>this.processProvider(w,s,a)),Di([s],w=>this.processInjectorType(w,[],g)),this.records.set(f_,kd(void 0,this));const _=this.records.get(Tg);this.scope=null!=_?_.value:null,this.source=c||("object"==typeof s?null:ce(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=is,l=st.Default){this.assertNotDestroyed();const c=Se(this),g=Vn(void 0);try{if(!(l&st.SkipSelf)){let w=this.records.get(s);if(void 0===w){const b=function uA(i){return"function"==typeof i||"object"==typeof i&&i instanceof Dn}(s)&&Vt(s);w=b&&this.injectableDefInScope(b)?kd(m_(s),nc):null,this.records.set(s,w)}if(null!=w)return this.hydrate(s,w)}return(l&st.Self?g_():this.parent).get(s,a=l&st.Optional&&a===is?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[kl]=_[kl]||[]).unshift(ce(s)),c)throw _;return function Ni(i,s,a,l){const c=i[kl];throw s[F]&&c.unshift(s[F]),i.message=function po(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=ce(s);if(Array.isArray(s))c=s.map(ce).join(" -> ");else if("object"==typeof s){let g=[];for(let _ in s)if(s.hasOwnProperty(_)){let w=s[_];g.push(_+":"+("string"==typeof w?JSON.stringify(w):ce(w)))}c=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(I,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[kl]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{Vn(g),Se(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(ce(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new xe(205,!1)}processInjectorType(s,a,l){if(!(s=Q(s)))return!1;let c=Ar(s);const g=null==c&&s.ngModule||void 0,_=void 0===g?s:g,w=-1!==l.indexOf(_);if(void 0!==g&&(c=Ar(g)),null==c)return!1;if(null!=c.imports&&!w){let S;l.push(_);try{Di(c.imports,N=>{this.processInjectorType(N,a,l)&&(void 0===S&&(S=[]),S.push(N))})}finally{}if(void 0!==S)for(let N=0;N<S.length;N++){const{ngModule:V,providers:Z}=S[N];Di(Z,ye=>this.processProvider(ye,V,Z||ot))}}this.injectorDefTypes.add(_);const b=Ur(_)||(()=>new _);this.records.set(_,kd(b,nc));const A=c.providers;if(null!=A&&!w){const S=s;Di(A,N=>this.processProvider(N,S,A))}return void 0!==g&&void 0!==s.providers}processProvider(s,a,l){let c=Fd(s=Q(s))?s:Q(s&&s.provide);const g=function HC(i,s,a){return hw(i)?kd(void 0,i.useValue):kd(y_(i),nc)}(s);if(Fd(s)||!0!==s.multi)this.records.get(c);else{let _=this.records.get(c);_||(_=kd(void 0,nc,!0),_.factory=()=>vt(_.multi),this.records.set(c,_)),c=s,_.multi.push(s)}this.records.set(c,g)}hydrate(s,a){return a.value===nc&&(a.value=aA,a.value=a.factory()),"object"==typeof a.value&&a.value&&function zC(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=Q(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function m_(i){const s=Vt(i),a=null!==s?s.factory:Ur(i);if(null!==a)return a;if(i instanceof Dn)throw new xe(204,!1);if(i instanceof Function)return function $C(i){const s=i.length;if(s>0)throw function qr(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new xe(204,!1);const a=function ri(i){const s=i&&(i[xi]||i[$i]);if(s){const a=function _s(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new xe(204,!1)}function y_(i,s,a){let l;if(Fd(i)){const c=Q(i);return Ur(c)||m_(c)}if(hw(i))l=()=>Q(i.useValue);else if(function __(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...vt(i.deps||[]));else if(function GC(i){return!(!i||!i.useExisting)}(i))l=()=>Je(Q(i.useExisting));else{const c=Q(i&&(i.useClass||i.provide));if(!function fw(i){return!!i.deps}(i))return Ur(c)||m_(c);l=()=>new c(...vt(i.deps))}return l}function kd(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function hw(i){return null!==i&&"object"==typeof i&&z in i}function Fd(i){return"function"==typeof i}let Ko=(()=>{class i{static create(a,l){var c;if(Array.isArray(a))return lw({name:""},l,a,"");{const g=null!==(c=a.name)&&void 0!==c?c:"";return lw({name:g},a.parent,a.providers,g)}}}return i.THROW_IF_NOT_FOUND=is,i.NULL=new p_,i.\u0275prov=Xt({token:i,providedIn:"any",factory:()=>Je(f_)}),i.__NG_ELEMENT_ID__=-1,i})();function KC(i,s){Yi(rf(i)[1],mn())}function Ld(i){let s=function Sg(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let c;if(Vr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new xe(903,"");c=s.\u0275dir}if(c){if(a){l.push(c);const _=i;_.inputs=Kr(i.inputs),_.declaredInputs=Kr(i.declaredInputs),_.outputs=Kr(i.outputs);const w=c.hostBindings;w&&_w(i,w);const b=c.viewQuery,A=c.contentQueries;if(b&&D_(i,b),A&&Si(i,A),ie(i.inputs,c.inputs),ie(i.declaredInputs,c.declaredInputs),ie(i.outputs,c.outputs),Vr(c)&&c.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const g=c.features;if(g)for(let _=0;_<g.length;_++){const w=g[_];w&&w.ngInherit&&w(i),w===Ld&&(a=!1)}}s=Object.getPrototypeOf(s)}!function yw(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=ya(c.hostAttrs,a=ya(a,c.hostAttrs))}}(l)}function Kr(i){return i===rr?{}:i===ot?[]:i}function D_(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function Si(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,g)=>{s(l,c,g),a(l,c,g)}:s}function _w(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}let Df=null;function ic(){if(!Df){const i=Ft.Symbol;if(i&&i.iterator)Df=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Df=l)}}}return Df}function Tf(i){return!!Mg(i)&&(Array.isArray(i)||!(i instanceof Map)&&ic()in i)}function Mg(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function qs(i,s,a){return i[s]=a}function pi(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Af(i,s,a,l){const c=Ee();return pi(c,Rs(),s)&&(xt(),Oa(In(),c,i,s,a,l)),Af}function Bd(i,s,a,l){return pi(i,Rs(),a)?s+de(a)+l:Tt}function M_(i,s,a,l,c,g,_,w){const b=Ee(),A=xt(),S=i+20,N=A.firstCreatePass?function S_(i,s,a,l,c,g,_,w,b){const A=s.consts,S=Pd(s,i,4,_||null,jr(A,w));u_(s,a,S,jr(A,b)),Yi(s,S);const N=S.tViews=yg(2,S,l,c,g,s.directiveRegistry,s.pipeRegistry,null,s.schemas,A);return null!==s.queries&&(s.queries.template(s,S),N.queries=s.queries.embeddedTView(S)),S}(S,A,b,s,a,l,c,g,_):A.data[S];$r(N,!1);const V=b[11].createComment("");ng(A,b,V,N),gn(V,b),Cg(b,b[S]=sw(V,b,V,N)),iu(N)&&mg(A,b,N),null!=_&&o_(b,N,w)}function Fa(i,s=st.Default){const a=Ee();return null===a?Je(i,s):ci(mn(),a,Q(i),s)}function F_(){throw new Error("invalid")}function Jr(i,s,a){const l=Ee();return pi(l,Rs(),s)&&ls(xt(),In(),l,i,s,l[11],a,!1),Jr}function Bg(i,s,a,l,c){const _=c?"class":"style";Dg(i,a,s.inputs[_],_,l)}function uc(i,s,a,l){const c=Ee(),g=xt(),_=20+i,w=c[11],b=c[_]=Eo(w,s,function vy(){return ut.lFrame.currentNamespace}()),A=g.firstCreatePass?function Pf(i,s,a,l,c,g,_){const w=s.consts,A=Pd(s,i,2,c,jr(w,g));return u_(s,a,A,jr(w,_)),null!==A.attrs&&Pa(A,A.attrs,!1),null!==A.mergedAttrs&&Pa(A,A.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,A),A}(_,g,c,0,s,a,l):g.data[_];$r(A,!0);const S=A.mergedAttrs;null!==S&&Dl(w,b,S);const N=A.classes;null!==N&&Ad(w,b,N);const V=A.styles;return null!==V&&sg(w,b,V),64!=(64&A.flags)&&ng(g,c,b,A),0===function fa(){return ut.lFrame.elementDepthCount}()&&gn(b,c),function pu(){ut.lFrame.elementDepthCount++}(),iu(A)&&(mg(g,c,A),function Nd(i,s,a){if(Vc(s)){const c=s.directiveEnd;for(let g=s.directiveStart;g<c;g++){const _=i.data[g];_.contentQueries&&_.contentQueries(1,a[g],g)}}}(g,A,c)),null!==l&&o_(c,A),uc}function Rf(){let i=mn();fl()?function pl(){ut.lFrame.isParent=!1}():(i=i.parent,$r(i,!1));const s=i;!function gu(){ut.lFrame.elementDepthCount--}();const a=xt();return a.firstCreatePass&&(Yi(a,i),Vc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Ph(i){return 0!=(16&i.flags)}(s)&&Bg(a,s,Ee(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Op(i){return 0!=(32&i.flags)}(s)&&Bg(a,s,Ee(),s.stylesWithoutHost,!1),Rf}function Nf(i,s,a,l){return uc(i,s,a,l),Rf(),Nf}function $g(){return Ee()}function Wd(i){return!!i&&"function"==typeof i.then}function Kd(i){return!!i&&"function"==typeof i.subscribe}const L_=Kd;function V_(i,s,a,l){const c=Ee(),g=xt(),_=mn();return function qg(i,s,a,l,c,g,_,w){const b=iu(l),S=i.firstCreatePass&&br(i),N=s[8],V=aw(s);let Z=!0;if(3&l.type||w){const Be=pr(l,s),Qe=w?w(Be):Be,be=V.length,lt=w?Rt=>w(nn(Rt[l.index])):l.index;if(dn(a)){let Rt=null;if(!w&&b&&(Rt=function Gg(i,s,a,l){const c=i.cleanup;if(null!=c)for(let g=0;g<c.length-1;g+=2){const _=c[g];if(_===a&&c[g+1]===l){const w=s[7],b=c[g+2];return w.length>b?w[b]:null}"string"==typeof _&&(g+=2)}return null}(i,s,c,l.index)),null!==Rt)(Rt.__ngLastListenerFn__||Rt).__ngNextListenerFn__=g,Rt.__ngLastListenerFn__=g,Z=!1;else{g=zg(l,s,N,g,!1);const sn=a.listen(Qe,c,g);V.push(g,sn),S&&S.push(c,lt,be,be+1)}}else g=zg(l,s,N,g,!0),Qe.addEventListener(c,g,_),V.push(g),S&&S.push(c,lt,be,_)}else g=zg(l,s,N,g,!1);const ye=l.outputs;let Re;if(Z&&null!==ye&&(Re=ye[c])){const Be=Re.length;if(Be)for(let Qe=0;Qe<Be;Qe+=2){const kr=s[Re[Qe]][Re[Qe+1]].subscribe(g),Ja=V.length;V.push(g,kr),S&&S.push(c,l.index,Ja,-(Ja+1))}}}(g,c,c[11],_,i,s,!!a,l),V_}function U_(i,s,a,l){try{return!1!==a(l)}catch(c){return h_(i,c),!1}}function zg(i,s,a,l,c){return function g(_){if(_===Function)return l;const w=2&i.flags?gr(i.index,s):s;0==(32&s[2])&&c_(w);let b=U_(s,0,l,_),A=g.__ngNextListenerFn__;for(;A;)b=U_(s,0,A,_)&&b,A=A.__ngNextListenerFn__;return c&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function B_(i=1){return function Ns(i){return(ut.lFrame.contextLView=function El(i,s){for(;i>0;)s=s[15],i--;return s}(i,ut.lFrame.contextLView))[8]}(i)}function Yd(i,s,a){return cc(i,"",s,"",a),Yd}function cc(i,s,a,l,c){const g=Ee(),_=Bd(g,s,a,l);return _!==Tt&&ls(xt(),In(),g,i,_,g[11],c,!1),cc}function Lf(i,s,a,l,c){const g=i[a+1],_=null===s;let w=l?js(g):Co(g),b=!1;for(;0!==w&&(!1===b||_);){const S=i[w+1];Yg(i[w],s)&&(b=!0,i[w+1]=l?Wy(S):pf(S)),w=l?js(S):Co(S)}b&&(i[a+1]=l?pf(g):Wy(g))}function Yg(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ba(i,s)>=0}function Xg(i,s){return function Do(i,s,a,l){const c=Ee(),g=xt(),_=function Ci(i){const s=ut.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);g.firstUpdatePass&&function H_(i,s,a,l){const c=i.data;if(null===c[a+1]){const g=c[mr()],_=function Gw(i,s){return s>=i.expandoStartIndex}(i,a);(function Z_(i,s){return 0!=(i.flags&(s?16:32))})(g,l)&&null===s&&!_&&(s=!1),s=function qw(i,s,a,l){const c=function ga(i){const s=ut.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let g=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=fc(a=em(null,i,s,a,l),s.attrs,l),g=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==c)if(a=em(c,i,s,a,l),null===g){let b=function G_(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Co(l))return i[js(l)]}(i,s,l);void 0!==b&&Array.isArray(b)&&(b=em(null,i,s,b[1],l),b=fc(b,s.attrs,l),function q_(i,s,a,l){i[js(a?s.classBindings:s.styleBindings)]=l}(i,s,l,b))}else g=function zw(i,s,a){let l;const c=s.directiveEnd;for(let g=1+s.directiveStylingLast;g<c;g++)l=fc(l,i[g].hostAttrs,a);return fc(l,s.attrs,a)}(i,s,l)}return void 0!==g&&(l?s.residualClasses=g:s.residualStyles=g),a}(c,g,s,l),function hc(i,s,a,l,c,g){let _=g?s.classBindings:s.styleBindings,w=js(_),b=Co(_);i[l]=a;let S,A=!1;if(Array.isArray(a)){const N=a;S=N[1],(null===S||ba(N,S)>0)&&(A=!0)}else S=a;if(c)if(0!==b){const V=js(i[w+1]);i[l+1]=Xl(V,w),0!==V&&(i[V+1]=Zy(i[V+1],l)),i[w+1]=function V0(i,s){return 131071&i|s<<17}(i[w+1],l)}else i[l+1]=Xl(w,0),0!==w&&(i[w+1]=Zy(i[w+1],l)),w=l;else i[l+1]=Xl(b,0),0===w?w=l:i[b+1]=Zy(i[b+1],l),b=l;A&&(i[l+1]=pf(i[l+1])),Lf(i,S,l,!0),Lf(i,S,l,!1),function La(i,s,a,l,c){const g=c?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof s&&ba(g,s)>=0&&(a[l+1]=Wy(a[l+1]))}(s,S,i,l,g),_=Xl(w,b),g?s.classBindings=_:s.styleBindings=_}(c,g,s,a,_,l)}}(g,i,_,l),s!==Tt&&pi(c,_,s)&&function Vf(i,s,a,l,c,g,_,w){if(!(3&s.type))return;const b=i.data,A=b[w+1];pc(function Md(i){return 1==(1&i)}(A)?th(b,s,a,c,Co(A),_):void 0)||(pc(g)||function ag(i){return 2==(2&i)}(A)&&(g=th(b,null,a,c,w,_)),function uC(i,s,a,l,c){const g=dn(i);if(s)c?g?i.addClass(a,l):a.classList.add(l):g?i.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:re.DashCase;if(null==c)g?i.removeStyle(a,l,_):a.style.removeProperty(l);else{const w="string"==typeof c&&c.endsWith("!important");w&&(c=c.slice(0,-10),_|=re.Important),g?i.setStyle(a,l,c,_):a.style.setProperty(l,c,w?"important":"")}}}(l,_,eo(mr(),a),c,g))}(g,g.data[mr()],c,c[11],i,c[_+1]=function z_(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ce(os(i)))),i}(s,a),l,_)}(i,s,null,!0),Xg}function em(i,s,a,l,c){let g=null;const _=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<_&&(g=s[w],l=fc(l,g.hostAttrs,c),g!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function fc(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let g=0;g<s.length;g++){const _=s[g];"number"==typeof _?c=_:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),fi(i,_,!!a||s[++g]))}return void 0===i?null:i}function th(i,s,a,l,c,g){const _=null===s;let w;for(;c>0;){const b=i[c],A=Array.isArray(b),S=A?b[1]:b,N=null===S;let V=a[c+1];V===Tt&&(V=N?ot:void 0);let Z=N?Vh(V,l):S===l?V:void 0;if(A&&!pc(Z)&&(Z=Vh(b,l)),pc(Z)&&(w=Z,_))return w;const ye=i[c+1];c=_?js(ye):Co(ye)}if(null!==s){let b=g?s.residualClasses:s.residualStyles;null!=b&&(w=Vh(b,l))}return w}function pc(i){return void 0!==i}function nh(i,s=""){const a=Ee(),l=xt(),c=i+20,g=l.firstCreatePass?Pd(l,c,1,s,null):l.data[c],_=a[c]=function Yl(i,s){return dn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);ng(l,a,_,g),$r(g,!1)}function gc(i){return tm("",i,""),gc}function tm(i,s,a){const l=Ee(),c=Bd(l,i,s,a);return c!==Tt&&Gs(l,mr(),c),tm}const Zu=void 0;var cs=["en",[["a","p"],["AM","PM"],Zu],[["AM","PM"],Zu,Zu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zu,"{1} 'at' {0}",Zu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function am(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let mc={};function Wu(i){const s=function oE(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=um(s);if(a)return a;const l=s.split("-")[0];if(a=um(l),a)return a;if("en"===l)return cs;throw new Error(`Missing locale data for the locale "${i}".`)}function sE(i){return Wu(i)[gt.PluralCase]}function um(i){return i in mc||(mc[i]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[i]),mc[i]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const cm="en-US";let lE=cm;function hv(i,s,a,l,c){if(i=Q(i),Array.isArray(i))for(let g=0;g<i.length;g++)hv(i[g],s,a,l,c);else{const g=xt(),_=Ee();let w=Fd(i)?i:Q(i.provide),b=y_(i);const A=mn(),S=1048575&A.providerIndexes,N=A.directiveStart,V=A.providerIndexes>>20;if(Fd(i)||!i.multi){const Z=new Lo(b,c,Fa),ye=fv(w,s,c?S:S+V,N);-1===ye?(ao(li(A,_),g,w),wm(g,i,s.length),s.push(w),A.directiveStart++,A.directiveEnd++,c&&(A.providerIndexes+=1048576),a.push(Z),_.push(Z)):(a[ye]=Z,_[ye]=Z)}else{const Z=fv(w,s,S+V,N),ye=fv(w,s,S,S+V),Re=Z>=0&&a[Z],Be=ye>=0&&a[ye];if(c&&!Be||!c&&!Re){ao(li(A,_),g,w);const Qe=function Xr(i,s,a,l,c){const g=new Lo(i,a,Fa);return g.multi=[],g.index=s,g.componentProviders=0,Ku(g,c,l&&!a),g}(c?Em:Kf,a.length,c,l,b);!c&&Be&&(a[ye].providerFactory=Qe),wm(g,i,s.length,0),s.push(w),A.directiveStart++,A.directiveEnd++,c&&(A.providerIndexes+=1048576),a.push(Qe),_.push(Qe)}else wm(g,i,Z>-1?Z:ye,Ku(a[c?ye:Z],b,!c&&l));!c&&l&&Be&&a[ye].componentProviders++}}}function wm(i,s,a,l){const c=Fd(s),g=function qC(i){return!!i.useClass}(s);if(c||g){const b=(g?Q(s.useClass):s).prototype.ngOnDestroy;if(b){const A=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const S=A.indexOf(a);-1===S?A.push(a,[l,b]):A[S+1].push(l,b)}else A.push(a,b)}}}function Ku(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function fv(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function Kf(i,s,a,l){return sh(this.multi,[])}function Em(i,s,a,l){const c=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=es(a,a[1],this.providerFactory.index,l);g=w.slice(0,_),sh(c,g);for(let b=_;b<w.length;b++)g.push(w[b])}else g=[],sh(c,g);return g}function sh(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function SE(i,s=[]){return a=>{a.providersResolver=(l,c)=>function CI(i,s,a){const l=xt();if(l.firstCreatePass){const c=Vr(i);hv(a,l.data,l.blueprint,c,!0),hv(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class ME{}class DI{resolveComponentFactory(s){throw function xE(i){const s=Error(`No component factory found for ${ce(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let bm=(()=>{class i{}return i.NULL=new DI,i})();function Yu(){return Ao(mn(),Ee())}function Ao(i,s){return new Yf(pr(i,s))}let Yf=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Yu,i})();function PE(i){return i instanceof Yf?i.nativeElement:i}class ea{}let RE=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function Cm(){const i=Ee(),a=gr(mn().index,i);return function oh(i){return i[11]}(Ei(a)?a:i)}(),i})(),Im=(()=>{class i{}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:()=>null}),i})();class Dm{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Tm=new Dm("13.2.6"),Qf={};function Ga(i,s,a,l,c=!1){for(;null!==a;){const g=s[a.index];if(null!==g&&l.push(nn(g)),oi(g))for(let w=10;w<g.length;w++){const b=g[w],A=b[1].firstChild;null!==A&&Ga(b[1],b,A,l)}const _=a.type;if(8&_)Ga(i,s,a.child,l);else if(32&_){const w=Ke(a,s);let b;for(;b=w();)l.push(b)}else if(16&_){const w=x0(s,a);if(Array.isArray(w))l.push(...w);else{const b=Tn(s[16]);Ga(b[1],b,w,l,!0)}}a=c?a.projectionNext:a.next}return l}class mi{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Ga(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(oi(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(eg(s,l),hi(a,l))}this._attachedToViewContainer=!1}Ly(this._lView[1],this._lView)}onDestroy(s){a_(this._lView[1],this._lView,null,s)}markForCheck(){c_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ig(this._lView[1],this._lView,this.context)}checkNoChanges(){!function kC(i,s,a){Ps(!0);try{Ig(i,s,a)}finally{Ps(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ky(i,s){Fu(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new xe(902,"");this._appRef=s}}class NE extends mi{constructor(s){super(s),this._view=s}detectChanges(){ow(this._view)}checkNoChanges(){!function FC(i){Ps(!0);try{ow(i)}finally{Ps(!1)}}(this._view)}get context(){return null}}class ah extends bm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Bt(s);return new Am(a,this.ngModule)}}function pv(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Am extends ME{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function k0(i){return i.map(Sd).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return pv(this.componentDef.inputs)}get outputs(){return pv(this.componentDef.outputs)}create(s,a,l,c){const g=(c=c||this.ngModule)?function mv(i,s){return{get:(a,l,c)=>{const g=i.get(a,Qf,c);return g!==Qf||l===Qf?g:s.get(a,l,c)}}}(s,c.injector):s,_=g.get(ea,No),w=g.get(Im,null),b=_.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",S=l?function Z0(i,s,a){if(dn(i))return i.selectRootElement(s,a===Ut.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(b,l,this.componentDef.encapsulation):Eo(_.createRenderer(null,this.componentDef),A,function gv(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(A)),N=this.componentDef.onPush?576:528,V=function I_(i,s){return{components:[],scheduler:i||Qp,clean:VC,playerHandler:s||null,flags:0}}(),Z=yg(0,null,null,1,0,null,null,null,null,null),ye=vf(null,Z,V,N,null,null,_,b,w,g);let Re,Be;to(ye);try{const Qe=function mw(i,s,a,l,c,g){const _=a[1];a[20]=i;const b=Pd(_,20,2,"#host",null),A=b.mergedAttrs=s.hostAttrs;null!==A&&(Pa(b,A,!0),null!==i&&(Dl(c,i,A),null!==b.classes&&Ad(c,i,b.classes),null!==b.styles&&sg(c,i,b.styles)));const S=l.createRenderer(i,s),N=vf(a,G0(s),null,s.onPush?64:16,a[20],b,l,S,g||null,null);return _.firstCreatePass&&(ao(li(b,a),_,s.type),X0(_,b),ew(b,a.length,1)),Cg(a,N),a[20]=N}(S,this.componentDef,ye,_,b);if(S)if(l)Dl(b,S,["ng-version",Tm.full]);else{const{attrs:be,classes:lt}=function F0(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===c?""!==g&&s.push(g,i[++l]):8===c&&a.push(g);else{if(!bo(c))break;c=g}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);be&&Dl(b,S,be),lt&&lt.length>0&&Ad(b,S,lt.join(" "))}if(Be=ha(Z,20),void 0!==a){const be=Be.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const Rt=a[lt];be.push(null!=Rt?Array.from(Rt):null)}}Re=function C_(i,s,a,l,c){const g=a[1],_=function CC(i,s,a){const l=mn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),tw(i,l,s,xa(i,s,1,null),a));const c=es(s,i,l.directiveStart,l);gn(c,s);const g=pr(l,s);return g&&gn(g,s),c}(g,a,s);if(l.components.push(_),i[8]=_,c&&c.forEach(b=>b(_,s)),s.contentQueries){const b=mn();s.contentQueries(1,_,b.directiveStart)}const w=mn();return!g.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ks(w.index),Y0(a[1],w,0,w.directiveStart,w.directiveEnd,s),Q0(s,_)),_}(Qe,this.componentDef,ye,V,[KC]),Rd(Z,ye,null)}finally{ro()}return new FE(this.componentType,Re,Ao(Be,ye),ye,Be)}}class FE extends class II{}{constructor(s,a,l,c,g){super(),this.location=l,this._rootLView=c,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new NE(c),this.componentType=s}get injector(){return new Ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class Ic{}class Jf{}const uh=new Map;class vv extends Ic{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ah(this);const l=un(s);this._bootstrapComponents=p(l.bootstrap),this._r3Injector=cw(s,a,[{provide:Ic,useValue:this},{provide:bm,useValue:this.componentFactoryResolver}],ce(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Ko.THROW_IF_NOT_FOUND,l=st.Default){return s===Ko||s===Ic||s===f_?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Qu extends Jf{constructor(s){super(),this.moduleType=s,null!==un(s)&&function lh(i){const s=new Set;!function a(l){const c=un(l,!0),g=c.id;null!==g&&(function yv(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ce(s)} vs ${ce(s.name)}`)}(g,uh.get(g),l),uh.set(g,l));const _=p(c.imports);for(const w of _)s.has(w)||(s.add(w),a(w))}(i)}(s)}create(s){return new vv(this.moduleType,s)}}function wv(i,s,a){const l=or()+i,c=Ee();return c[l]===Tt?qs(c,l,a?s.call(a):s()):function Ud(i,s){return i[s]}(c,l)}function bv(i,s,a,l,c,g){const _=s+a;return pi(i,_,c)?qs(i,_+1,g?l.call(g,c):l(c)):function ep(i,s){const a=i[s];return a===Tt?void 0:a}(i,_+1)}function Dv(i,s){const a=xt();let l;const c=i+20;a.firstCreatePass?(l=function UE(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[c]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,l.onDestroy)):l=a.data[c];const g=l.factory||(l.factory=Ur(l.type)),_=Vn(Fa);try{const w=Fs(!1),b=g();return Fs(w),function Iw(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,Ee(),c,b),b}finally{Vn(_)}}function fh(i,s,a){const l=i+20,c=Ee(),g=function bi(i,s){return i[s]}(c,l);return function ph(i,s){return i[1].data[s].pure}(c,l)?bv(c,or(),s,g.transform,a,g):g.transform(a)}function ta(i){return s=>{setTimeout(i,void 0,s)}}const cn=class BE extends d.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,g,_;let w=s,b=a||(()=>null),A=l;if(s&&"object"==typeof s){const N=s;w=null===(c=N.next)||void 0===c?void 0:c.bind(N),b=null===(g=N.error)||void 0===g?void 0:g.bind(N),A=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(b=ta(b),w&&(w=ta(w)),A&&(A=ta(A)));const S=super.subscribe({next:w,error:b,complete:A});return s instanceof K.w0&&s.add(S),S}};function xm(){return this._results[ic()]()}class Dr{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ic(),l=Dr.prototype;l[a]||(l[a]=xm)}get changes(){return this._changes||(this._changes=new cn)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=Or(s);(this._changesDetected=!function Tu(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],g=s[l];if(a&&(c=a(c),g=a(g)),g!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fn=(()=>{class i{}return i.__NG_ELEMENT_ID__=OI,i})();const jE=fn,gh=class extends jE{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=vf(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(l[19]=g.createEmbeddedView(a)),Rd(a,l,s),new mi(l)}};function OI(){return Mi(mn(),Ee())}function Mi(i,s){return 4&i.type?new gh(s,i,Ao(i,s)):null}let Om=(()=>{class i{}return i.__NG_ELEMENT_ID__=Av,i})();function Av(){return GE(mn(),Ee())}const tp=Om,$E=class extends tp{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return Ao(this._hostTNode,this._hostLView)}get injector(){return new Ii(this._hostTNode,this._hostLView)}get parentInjector(){const s=Hr(this._hostTNode,this._hostLView);if(rd(s)){const a=_n(s,this._hostLView),l=Yt(s);return new Ii(a[1].data[l+8],a)}return new Ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=HE(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,g){const _=s&&!function Gr(i){return"function"==typeof i}(s);let w;if(_)w=a;else{const N=a||{};w=N.index,l=N.injector,c=N.projectableNodes,g=N.ngModuleRef}const b=_?s:new Am(Bt(s)),A=l||this.parentInjector;if(!g&&null==b.ngModule){const V=(_?A:this.parentInjector).get(Ic,null);V&&(g=V)}const S=b.create(A,c,void 0,g);return this.insert(S.hostView,w),S}insert(s,a){const l=s._lView,c=l[1];if(function hu(i){return oi(i[3])}(l)){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const N=l[3],V=new $E(N,N[6],N[3]);V.detach(V.indexOf(s))}}const g=this._adjustIndex(a),_=this._lContainer;!function aC(i,s,a,l){const c=10+l,g=a.length;l>0&&(a[c-1][4]=s),l<g-10?(s[4]=a[c],Bo(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function qo(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const w=s[19];null!==w&&w.insertView(i),s[2]|=128}(c,l,_,g);const w=rg(g,_),b=l[11],A=tg(b,_[7]);return null!==A&&function Ql(i,s,a,l,c,g){l[0]=c,l[6]=s,Fu(i,l,a,1,c,g)}(c,_[6],b,l,A,w),s.attachToViewContainerRef(),Bo(rn(_),g,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=HE(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=eg(this._lContainer,a);l&&(hi(rn(this._lContainer),a),Ly(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=eg(this._lContainer,a);return l&&null!=hi(rn(this._lContainer),a)?new mi(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function HE(i){return i[8]}function rn(i){return i[8]||(i[8]=[])}function GE(i,s){let a;const l=s[i.index];if(oi(l))a=l;else{let c;if(8&i.type)c=nn(l);else{const g=s[11];c=g.createComment("");const _=pr(i,s);Nu(g,tg(g,_),c,function M0(i,s){return dn(i)?i.nextSibling(s):s.nextSibling}(g,_),!1)}s[i.index]=a=sw(l,s,c,i),Cg(s,a)}return new $E(a,i,s)}class mh{constructor(s){this.queryList=s,this.matches=null}clone(){return new mh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nm{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let g=0;g<l;g++){const _=a.getByIndex(g);c.push(this.queries[_.indexInDeclarationView].clone())}return new Nm(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Pv(s,a).matches&&this.queries[a].setDirty()}}class Sv{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class km{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(s,c);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new km(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Mv{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Mv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const g=l[c];this.matchTNodeWithReadOption(s,a,qE(a,g)),this.matchTNodeWithReadOption(s,a,Ml(a,s,g,!1,!1))}else l===fn?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Ml(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Yf||c===Om||c===fn&&4&a.type)this.addMatch(a.index,-2);else{const g=Ml(a,s,c,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function qE(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function PI(i,s,a,l){return-1===a?function zE(i,s){return 11&i.type?Ao(i,s):4&i.type?Mi(i,s):null}(s,i):-2===a?function RI(i,s,a){return a===Yf?Ao(s,i):a===fn?Mi(s,i):a===Om?GE(s,i):void 0}(i,s,l):es(i,i[1],a,s)}function ZE(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const g=i.data,_=a.matches,w=[];for(let b=0;b<_.length;b+=2){const A=_[b];w.push(A<0?null:PI(s,g[A],_[b+1],a.metadata.read))}c.matches=w}return c.matches}function Dc(i,s,a,l){const c=i.queries.getByIndex(a),g=c.matches;if(null!==g){const _=ZE(i,s,c,a);for(let w=0;w<g.length;w+=2){const b=g[w];if(b>0)l.push(_[w/2]);else{const A=g[w+1],S=s[-b];for(let N=10;N<S.length;N++){const V=S[N];V[17]===V[3]&&Dc(V[1],V,A,l)}if(null!==S[9]){const N=S[9];for(let V=0;V<N.length;V++){const Z=N[V];Dc(Z[1],Z,A,l)}}}}}return l}function xv(i){const s=Ee(),a=xt(),l=_l();vl(l+1);const c=Pv(a,l);if(i.dirty&&Ms(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const g=c.crossesNgTemplate?Dc(a,s,l,[]):ZE(a,s,c,l);i.reset(g,PE),i.notifyOnChanges()}return!0}return!1}function Tr(i,s,a,l){const c=xt();if(c.firstCreatePass){const g=mn();(function So(i,s,a){null===i.queries&&(i.queries=new km),i.queries.track(new Mv(s,a))})(c,new Sv(s,a,l),g.index),function Ov(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}!function yh(i,s,a){const l=new Dr(4==(4&a));a_(i,s,l,l.destroy),null===s[19]&&(s[19]=new Nm),s[19].queries.push(new mh(l))}(c,Ee(),a)}function Fm(){return function WE(i,s){return i[19].queries[s].queryList}(Ee(),_l())}function Pv(i,s){return i.queries.getByIndex(s)}function ra(...i){}const el=new Dn("Application Initializer");let Bm=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ra,this.reject=ra,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const g=this.appInits[c]();if(Wd(g))a.push(g);else if(L_(g)){const _=new Promise((w,b)=>{g.subscribe({complete:w,error:b})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Je(el,8))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const jm=new Dn("AppId",{providedIn:"root",factory:function Bv(){return`${ip()}${ip()}${ip()}`}});function ip(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const $m=new Dn("Platform Initializer"),Hm=new Dn("Platform ID"),Za=new Dn("appBootstrapListener");let pb=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();const _h=new Dn("LocaleId",{providedIn:"root",factory:()=>kt(_h,st.Optional|st.SkipSelf)||function gb(){return"undefined"!=typeof $localize&&$localize.locale||cm}()}),Ac=new Dn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mb{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let jv=(()=>{class i{compileModuleSync(a){return new Qu(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=p(un(a).declarations).reduce((_,w)=>{const b=Bt(w);return b&&_.push(new Am(b)),_},[]);return new mb(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const WI=(()=>Promise.resolve(0))();function qm(i){"undefined"==typeof Zone?WI.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class fs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cn(!1),this.onMicrotaskEmpty=new cn(!1),this.onStable=new cn(!1),this.onError=new cn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function yb(){let i=Ft.requestAnimationFrame,s=Ft.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function _b(i){const s=()=>{!function KI(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ft,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Hv(i),i.isCheckStableRunning=!0,tl(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Hv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,g,_,w)=>{try{return vb(i),a.invokeTask(c,g,_,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&s(),wb(i)}},onInvoke:(a,l,c,g,_,w,b)=>{try{return vb(i),a.invoke(c,g,_,w,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),wb(i)}},onHasTask:(a,l,c,g)=>{a.hasTask(c,g),l===c&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Hv(i),tl(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,c,g)=>(a.handleError(c,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+c,s,op,ra,ra);try{return g.runTask(_,a,l)}finally{g.cancelTask(_)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const op={};function tl(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Hv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function vb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function wb(i){i._nesting--,tl(i)}class zm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cn,this.onMicrotaskEmpty=new cn,this.onStable=new cn,this.onError=new cn}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let Wa=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fs.assertNotInAngularZone(),qm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())qm(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(Je(fs))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})(),nl=(()=>{class i{constructor(){this._applications=new Map,Gv.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Gv.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();class Eb{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function YI(i){Gv=i}let ps,Gv=new Eb;const wh=new Dn("AllowMultipleToken");class Wm{constructor(s,a){this.name=s,this.token=a}}function qv(i,s,a=[]){const l=`Platform: ${s}`,c=new Dn(l);return(g=[])=>{let _=ap();if(!_||_.injector.get(wh,!1))if(i)i(a.concat(g).concat({provide:c,useValue:!0}));else{const w=a.concat(g).concat({provide:c,useValue:!0},{provide:Tg,useValue:"platform"});!function Km(i){if(ps&&!ps.destroyed&&!ps.injector.get(wh,!1))throw new xe(400,"");ps=i.get(Ym);const s=i.get($m,null);s&&s.forEach(a=>a())}(Ko.create({providers:w,name:l}))}return function Ui(i){const s=ap();if(!s)throw new xe(401,"");return s}()}}function ap(){return ps&&!ps.destroyed?ps:null}let Ym=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const w=function Cb(i,s){let a;return a="noop"===i?new zm:("zone.js"===i?void 0:i)||new fs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:fs,useValue:w}];return w.run(()=>{const A=Ko.create({providers:b,parent:this.injector,name:a.moduleType.name}),S=a.create(A),N=S.injector.get(wr,null);if(!N)throw new xe(402,"");return w.runOutsideAngular(()=>{const V=w.onError.subscribe({next:Z=>{N.handleError(Z)}});S.onDestroy(()=>{Ka(this._modules,S),V.unsubscribe()})}),function rl(i,s,a){try{const l=a();return Wd(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(N,w,()=>{const V=S.injector.get(Bm);return V.runInitializers(),V.donePromise.then(()=>(function Pe(i){rt(i,"Expected localeId to be defined"),"string"==typeof i&&(lE=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(_h,cm)||cm),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,l=[]){const c=Sc({},l);return function Zm(i,s,a){const l=new Qu(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,c))}_moduleDoBootstrap(a){const l=a.injector.get(Qm);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new xe(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new xe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Je(Ko))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac}),i})();function Sc(i,s){return Array.isArray(s)?s.reduce(Sc,i):Object.assign(Object.assign({},i),s)}let Qm=(()=>{class i{constructor(a,l,c,g,_){this._zone=a,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new R.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),b=new R.y(A=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{fs.assertNotInAngularZone(),qm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{S.unsubscribe(),N.unsubscribe()}});this.isStable=(0,oe.T)(w,b.pipe((0,J.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new xe(405,"");let c;c=a instanceof ME?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(c.componentType);const g=function bb(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Ic),w=c.create(Ko.NULL,[],l||c.selector,g),b=w.location.nativeElement,A=w.injector.get(Wa,null),S=A&&w.injector.get(nl);return A&&S&&S.registerApplication(b,A),w.onDestroy(()=>{this.detachView(w.hostView),Ka(this.components,w),S&&S.unregisterApplication(b)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new xe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Ka(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Za,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Je(fs),Je(Ko),Je(wr),Je(bm),Je(Bm))},i.\u0275prov=Xt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Ka(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let zv=!0,Ya=!1;function Mc(){return Ya=!0,zv}function Zv(){if(Ya)throw new Error("Cannot enable prod mode after platform setup.");zv=!1}let XI=(()=>{class i{}return i.__NG_ELEMENT_ID__=eD,i})();function eD(i){return function Jm(i,s,a){if(Is(i)&&!a){const l=gr(i.index,s);return new mi(l,l)}return 47&i.type?new mi(s[16],s):null}(mn(),Ee(),16==(16&i))}class Sb{constructor(){}supports(s){return Tf(s)}create(s){return new oD(s)}}const Mb=(i,s)=>s;class oD{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Mb}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,g=null;for(;a||l;){const _=!l||a&&a.currentIndex<Pc(l,c,g)?a:l,w=Pc(_,c,g),b=_.currentIndex;if(_===l)c--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)c++;else{g||(g=[]);const A=w-c,S=b-c;if(A!=S){for(let V=0;V<A;V++){const Z=V<g.length?g[V]:g[V]=0,ye=Z+V;S<=ye&&ye<A&&(g[V]=Z+1)}g[_.previousIndex]=S-A}}w!==b&&s(_,w,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Tf(s))throw new xe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,g,_,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)g=s[w],_=this._trackByFn(w,g),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,g,_,w)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,_,w),l=!0),a=a._next}else c=0,function Vd(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[ic()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,w=>{_=this._trackByFn(c,w),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,w,_,c)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,_,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let g;return null===s?g=this._itTail:(g=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,g,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,g,c)):s=this._addAfter(new xb(a,l),g,c),s}_verifyReinsertion(s,a,l,c){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?s=this._reinsertAfter(g,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,g=s._nextRemoved;return null===c?this._removalsHead=g:c._nextRemoved=g,null===g?this._removalsTail=c:g._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new Oc),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Oc),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class xb{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aD{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class Oc{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new aD,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pc(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class ey{constructor(){}supports(s){return s instanceof Map||Mg(s)}create(){return new ty}}class ty{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Mg(s)))throw new xe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const g=c._prev,_=c._next;return g&&(g._next=_),_&&(_._prev=g),c._next=null,c._prev=null,c}const l=new Ob(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class Ob{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qv(){return new ny([new Sb])}let ny=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Qv()),deps:[[i,new ss,new vr]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new xe(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:Qv}),i})();function ry(){return new Jv([new ey])}let Jv=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||ry()),deps:[[i,new ss,new vr]]}}find(a){const l=this.factories.find(g=>g.supports(a));if(l)return l;throw new xe(901,"")}}return i.\u0275prov=Xt({token:i,providedIn:"root",factory:ry}),i})();const lD=qv(null,"core",[{provide:Hm,useValue:"unknown"},{provide:Ym,deps:[Ko]},{provide:nl,deps:[]},{provide:pb,deps:[]}]);let cD=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Je(Qm))},i.\u0275mod=Y({type:i}),i.\u0275inj=Wt({}),i})()},3942:(nt,De,k)=>{k.d(De,{Z:()=>xe});var d=k(2090),K=k(4859),R=k(9681),oe=k(1877);class J{constructor(de,we){this._delegate=de,this.firebase=we,(0,R._addComponent)(de,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(de,we=R._DEFAULT_ENTRY_NAME){var We;this._delegate.checkDestroyed();const Ge=this._delegate.container.getProvider(de);return!Ge.isInitialized()&&"EXPLICIT"===(null===(We=Ge.getComponent())||void 0===We?void 0:We.instantiationMode)&&Ge.initialize(),Ge.getImmediate({identifier:we})}_removeServiceInstance(de,we=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(we)}_addComponent(de){(0,R._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,R._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ie=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),B=function ue(){const Ne=function ce(Ne){const de={},we={__esModule:!0,initializeApp:function Ce(Ue,ee={}){const q=R.initializeApp(Ue,ee);if((0,d.r3)(de,q.name))return de[q.name];const te=new Ne(q,we);return de[q.name]=te,te},app:Ge,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function ve(Ue){const ee=Ue.name,q=ee.replace("-compat","");if(R._registerComponent(Ue)&&"PUBLIC"===Ue.type){const te=(ge=Ge())=>{if("function"!=typeof ge[q])throw ie.create("invalid-app-argument",{appName:ee});return ge[q]()};void 0!==Ue.serviceProps&&(0,d.ZB)(te,Ue.serviceProps),we[q]=te,Ne.prototype[q]=function(...ge){return this._getService.bind(this,ee).apply(this,Ue.multipleInstances?ge:[])}}return"PUBLIC"===Ue.type?we[q]:null},removeApp:function We(Ue){delete de[Ue]},useAsService:function je(Ue,ee){return"serverAuth"===ee?null:ee},modularAPIs:R}};function Ge(Ue){if(!(0,d.r3)(de,Ue=Ue||R._DEFAULT_ENTRY_NAME))throw ie.create("no-app",{appName:Ue});return de[Ue]}return we.default=we,Object.defineProperty(we,"apps",{get:function _e(){return Object.keys(de).map(Ue=>de[Ue])}}),Ge.App=Ne,we}(J);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function de(we){(0,d.ZB)(Ne,we)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Ne}(),j=new oe.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const xe=B;!function Ae(Ne){(0,R.registerVersion)("@firebase/app-compat","0.1.21",Ne)}()},9681:(nt,De,k)=>{k.r(De),k.d(De,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Ar,_DEFAULT_ENTRY_NAME:()=>Sn,_addComponent:()=>an,_addOrOverwriteComponent:()=>wi,_apps:()=>dt,_clearComponents:()=>Vt,_components:()=>on,_getProvider:()=>ji,_registerComponent:()=>Xt,_removeServiceInstance:()=>Wt,deleteApp:()=>Hi,getApp:()=>Sr,getApps:()=>$i,initializeApp:()=>xi,onLog:()=>zn,registerVersion:()=>Lr,setLogLevel:()=>Vn});var d=k(5861),K=k(4859),R=k(1877),oe=k(2090);class J{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(Ze=>{if(function pe(ze){const Ie=ze.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(Ze)){const at=Ze.getImmediate();return`${at.library}/${at.version}`}return null}).filter(Ze=>Ze).join(" ")}}const ie="@firebase/app",ue=new R.Yd("@firebase/app"),Sn="[DEFAULT]",rt={[ie]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,on=new Map;function an(ze,Ie){try{ze.container.addComponent(Ie)}catch(Ze){ue.debug(`Component ${Ie.name} failed to register with FirebaseApp ${ze.name}`,Ze)}}function wi(ze,Ie){ze.container.addOrOverwriteComponent(Ie)}function Xt(ze){const Ie=ze.name;if(on.has(Ie))return ue.debug(`There were multiple attempts to register component ${Ie}.`),!1;on.set(Ie,ze);for(const Ze of dt.values())an(Ze,ze);return!0}function ji(ze,Ie){const Ze=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Ze&&Ze.triggerHeartbeat(),ze.container.getProvider(Ie)}function Wt(ze,Ie,Ze=Sn){ji(ze,Ie).clearInstance(Ze)}function Vt(){on.clear()}const ri=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class _s{constructor(Ie,Ze,at){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},Ze),this._name=Ze.name,this._automaticDataCollectionEnabled=Ze.automaticDataCollectionEnabled,this._container=at,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}const Ar="9.6.10";function xi(ze,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const Ze=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},Ie),at=Ze.name;if("string"!=typeof at||!at)throw ri.create("bad-app-name",{appName:String(at)});const Nt=dt.get(at);if(Nt){if((0,oe.vZ)(ze,Nt.options)&&(0,oe.vZ)(Ze,Nt.config))return Nt;throw ri.create("duplicate-app",{appName:at})}const Mt=new K.H0(at);for(const L of on.values())Mt.addComponent(L);const U=new _s(ze,Ze,Mt);return dt.set(at,U),U}function Sr(ze=Sn){const Ie=dt.get(ze);if(!Ie)throw ri.create("no-app",{appName:ze});return Ie}function $i(){return Array.from(dt.values())}function Hi(ze){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(ze){const Ie=ze.name;dt.has(Ie)&&(dt.delete(Ie),yield Promise.all(ze.container.getProviders().map(Ze=>Ze.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function Lr(ze,Ie,Ze){var at;let Nt=null!==(at=rt[ze])&&void 0!==at?at:ze;Ze&&(Nt+=`-${Ze}`);const Mt=Nt.match(/\s|\//),U=Ie.match(/\s|\//);if(Mt||U){const L=[`Unable to register library "${Nt}" with version "${Ie}":`];return Mt&&L.push(`library name "${Nt}" contains illegal characters (whitespace or "/")`),Mt&&U&&L.push("and"),U&&L.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void ue.warn(L.join(" "))}Xt(new K.wA(`${Nt}-version`,()=>({library:Nt,version:Ie}),"VERSION"))}function zn(ze,Ie){if(null!==ze&&"function"!=typeof ze)throw ri.create("invalid-log-argument");(0,R.Am)(ze,Ie)}function Vn(ze){(0,R.Ub)(ze)}const pn="firebase-heartbeat-store";let Zn=null;function vs(){return Zn||(Zn=(0,oe.X3)("firebase-heartbeat-database",1,(ze,Ie)=>{0===Ie&&ze.createObjectStore(pn)}).catch(ze=>{throw ri.create("storage-open",{originalErrorMessage:ze.message})})),Zn}function Ut(){return(Ut=(0,d.Z)(function*(ze){try{return(yield vs()).transaction(pn).objectStore(pn).get(nr(ze))}catch(Ie){throw ri.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function et(ze,Ie){return mt.apply(this,arguments)}function mt(){return(mt=(0,d.Z)(function*(ze,Ie){try{const at=(yield vs()).transaction(pn,"readwrite");return yield at.objectStore(pn).put(Ie,nr(ze)),at.complete}catch(Ze){throw ri.create("storage-set",{originalErrorMessage:Ze.message})}})).apply(this,arguments)}function nr(ze){return`${ze.name}!${ze.options.appId}`}class Ks{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const Ze=this.container.getProvider("app").getImmediate();this._storage=new ot(Ze),this._heartbeatsCachePromise=this._storage.read().then(at=>(this._heartbeatsCache=at,at))}triggerHeartbeat(){var Ie=this;return(0,d.Z)(function*(){const at=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Nt=dr();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Nt&&!Ie._heartbeatsCache.heartbeats.some(Mt=>Mt.date===Nt))return Ie._heartbeatsCache.heartbeats.push({date:Nt,agent:at}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Mt=>{const U=new Date(Mt.date).valueOf();return Date.now()-U<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,d.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const Ze=dr(),{heartbeatsToSend:at,unsentEntries:Nt}=function rr(ze,Ie=1024){const Ze=[];let at=ze.slice();for(const Nt of ze){const Mt=Ze.find(U=>U.agent===Nt.agent);if(Mt){if(Mt.dates.push(Nt.date),hr(Ze)>Ie){Mt.dates.pop();break}}else if(Ze.push({agent:Nt.agent,dates:[Nt.date]}),hr(Ze)>Ie){Ze.pop();break}at=at.slice(1)}return{heartbeatsToSend:Ze,unsentEntries:at}}(Ie._heartbeatsCache.heartbeats),Mt=(0,oe.L)(JSON.stringify({version:2,heartbeats:at}));return Ie._heartbeatsCache.lastSentHeartbeatDate=Ze,Nt.length>0?(Ie._heartbeatsCache.heartbeats=Nt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Mt})()}}function dr(){return(new Date).toISOString().substring(0,10)}class ot{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,d.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function oa(ze){return Ut.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var Ze=this;return(0,d.Z)(function*(){var at;if(yield Ze._canUseIndexedDBPromise){const Mt=yield Ze.read();return et(Ze.app,{lastSentHeartbeatDate:null!==(at=Ie.lastSentHeartbeatDate)&&void 0!==at?at:Mt.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var Ze=this;return(0,d.Z)(function*(){var at;if(yield Ze._canUseIndexedDBPromise){const Mt=yield Ze.read();return et(Ze.app,{lastSentHeartbeatDate:null!==(at=Ie.lastSentHeartbeatDate)&&void 0!==at?at:Mt.lastSentHeartbeatDate,heartbeats:[...Mt.heartbeats,...Ie.heartbeats]})}})()}}function hr(ze){return(0,oe.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function Pt(ze){Xt(new K.wA("platform-logger",Ie=>new J(Ie),"PRIVATE")),Xt(new K.wA("heartbeat",Ie=>new Ks(Ie),"PRIVATE")),Lr(ie,"0.7.20",ze),Lr(ie,"0.7.20","esm2017"),Lr("fire-js","")}("")},4859:(nt,De,k)=>{k.d(De,{wA:()=>R,H0:()=>ce});var d=k(5861),K=k(2090);class R{constructor(B,j,Q){this.name=B,this.instanceFactory=j,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const oe="[DEFAULT]";class J{constructor(B,j){this.name=B,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const j=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(j)){const Q=new K.BH;if(this.instancesDeferred.set(j,Q),this.isInitialized(j)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:j});$e&&Q.resolve($e)}catch($e){}}return this.instancesDeferred.get(j).promise}getImmediate(B){var j;const Q=this.normalizeInstanceIdentifier(null==B?void 0:B.identifier),$e=null!==(j=null==B?void 0:B.optional)&&void 0!==j&&j;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ae){if($e)return null;throw Ae}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function ie(ue){return"EAGER"===ue.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(j){}for(const[j,Q]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(j);try{const Ae=this.getOrInitializeService({instanceIdentifier:$e});Q.resolve(Ae)}catch(Ae){}}}}clearInstance(B=oe){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,d.Z)(function*(){const j=Array.from(B.instances.values());yield Promise.all([...j.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...j.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=oe){return this.instances.has(B)}getOptions(B=oe){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:j={}}=B,Q=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:Q,options:j});for(const[Ae,xe]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ae)&&xe.resolve($e);return $e}onInit(B,j){var Q;const $e=this.normalizeInstanceIdentifier(j),Ae=null!==(Q=this.onInitCallbacks.get($e))&&void 0!==Q?Q:new Set;Ae.add(B),this.onInitCallbacks.set($e,Ae);const xe=this.instances.get($e);return xe&&B(xe,$e),()=>{Ae.delete(B)}}invokeOnInitCallbacks(B,j){const Q=this.onInitCallbacks.get(j);if(Q)for(const $e of Q)try{$e(B,j)}catch(Ae){}}getOrInitializeService({instanceIdentifier:B,options:j={}}){let Q=this.instances.get(B);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=B,ue===oe?void 0:ue),options:j}),this.instances.set(B,Q),this.instancesOptions.set(B,j),this.invokeOnInitCallbacks(Q,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,Q)}catch($e){}var ue;return Q||null}normalizeInstanceIdentifier(B=oe){return this.component?this.component.multipleInstances?B:oe:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const j=this.getProvider(B.name);if(j.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);j.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const j=new J(B,this);return this.providers.set(B,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,De,k)=>{k.d(De,{in:()=>K,Yd:()=>ie,Ub:()=>ce,Am:()=>ue});const d=[];var K=(()=>{return(B=K||(K={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",K;var B})();const R={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},oe=K.INFO,J={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},pe=(B,j,...Q)=>{if(j<B.logLevel)return;const $e=(new Date).toISOString(),Ae=J[j];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ae](`[${$e}]  ${B.name}:`,...Q)};class ie{constructor(j){this.name=j,this._logLevel=oe,this._logHandler=pe,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in K))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?R[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...j),this._logHandler(this,K.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...j),this._logHandler(this,K.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,K.INFO,...j),this._logHandler(this,K.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,K.WARN,...j),this._logHandler(this,K.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...j),this._logHandler(this,K.ERROR,...j)}}function ce(B){d.forEach(j=>{j.setLogLevel(B)})}function ue(B,j){for(const Q of d){let $e=null;j&&j.level&&($e=R[j.level]),Q.userLogHandler=null===B?null:(Ae,xe,...Ne)=>{const de=Ne.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(We){return null}}).filter(we=>we).join(" ");xe>=(null!=$e?$e:Ae.logLevel)&&B({level:K[xe].toLowerCase(),message:de,args:Ne,type:Ae.name})}}}},5861:(nt,De,k)=>{function d(R,oe,J,pe,ie,ce,ue){try{var B=R[ce](ue),j=B.value}catch(Q){return void J(Q)}B.done?oe(j):Promise.resolve(j).then(pe,ie)}function K(R){return function(){var oe=this,J=arguments;return new Promise(function(pe,ie){var ce=R.apply(oe,J);function ue(j){d(ce,pe,ie,ue,B,"next",j)}function B(j){d(ce,pe,ie,ue,B,"throw",j)}ue(void 0)})}}k.d(De,{Z:()=>K})}},nt=>{nt(nt.s=4117)}]);